{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sungh\\\\Desktop\\\\chat_work\\\\frontend\\\\src\\\\features\\\\training\\\\components\\\\InteractionHistoryView.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { chatApi } from '../../shared/api/chatApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n`;\n_c = Container;\nconst HistorySection = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n_c2 = HistorySection;\nconst HistoryContent = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n`;\n_c3 = HistoryContent;\nconst EmptyHistory = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  color: #999;\n  font-size: 14px;\n  text-align: center;\n`;\n_c4 = EmptyHistory;\nconst AccordionContainer = styled.div`\n  width: 100%;\n`;\n_c5 = AccordionContainer;\nconst AccordionItem = styled.div`\n  margin-bottom: 16px;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n`;\n_c6 = AccordionItem;\nconst AccordionHeader = styled.div`\n  padding: 16px 20px;\n  cursor: pointer;\n  background: ${props => {\n  if (props.$threadType === 'interpretation') return '#f8f9fa';\n  if (props.$threadType === 'proceed') return '#fff3e0';\n  if (props.$threadType === 'sentence') return '#e8f5e8';\n  return '#f8f9fa';\n}};\n  border-bottom: ${props => props.$isExpanded ? '1px solid #e0e0e0' : 'none'};\n  transition: all 0.2s ease;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  \n  &:hover {\n    background: ${props => {\n  if (props.$threadType === 'interpretation') return '#f1f3f4';\n  if (props.$threadType === 'proceed') return '#ffeaa7';\n  if (props.$threadType === 'sentence') return '#dcedc8';\n  return '#f1f3f4';\n}};\n  }\n`;\n_c7 = AccordionHeader;\nconst ThreadInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\n_c8 = ThreadInfo;\nconst ThreadTitle = styled.div`\n  font-weight: 600;\n  font-size: 16px;\n  color: #333;\n`;\n_c9 = ThreadTitle;\nconst ThreadMeta = styled.div`\n  font-size: 12px;\n  color: #666;\n  display: flex;\n  gap: 12px;\n`;\n_c0 = ThreadMeta;\nconst ThreadTypeTag = styled.span`\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 11px;\n  font-weight: 500;\n  background: ${props => {\n  if (props.$threadType === 'interpretation') return '#6c757d';\n  if (props.$threadType === 'proceed') return '#ff9800';\n  if (props.$threadType === 'sentence') return '#4caf50';\n  return '#6c757d';\n}};\n  color: white;\n`;\n_c1 = ThreadTypeTag;\nconst ExpandIcon = styled.span`\n  transition: transform 0.2s ease;\n  transform: ${props => props.$isExpanded ? 'rotate(90deg)' : 'rotate(0deg)'};\n  font-size: 14px;\n  color: #666;\n`;\n_c10 = ExpandIcon;\nconst ThreadContent = styled.div`\n  max-height: ${props => props.$isExpanded ? '400px' : '0'};\n  overflow: hidden;\n  transition: max-height 0.3s ease;\n  background: white;\n`;\n_c11 = ThreadContent;\nconst MessagesContainer = styled.div`\n  padding: 16px 20px;\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n_c12 = MessagesContainer;\nconst ThreadFooter = styled.div`\n  padding: 12px 20px;\n  border-top: 1px solid #f0f0f0;\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n`;\n_c13 = ThreadFooter;\nconst ActionButton = styled.button`\n  padding: 6px 12px;\n  border: none;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  ${props => props.$variant === 'primary' ? `\n    background: #6c757d;\n    color: white;\n    \n    &:hover {\n      background: #5a6268;\n    }\n  ` : `\n    background: #f8f9fa;\n    color: #6c757d;\n    border: 1px solid #e0e0e0;\n    \n    &:hover {\n      background: #e9ecef;\n    }\n  `}\n`;\n\n// 복사 알림을 위한 토스트 컴포넌트\n_c14 = ActionButton;\nconst Toast = styled.div`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background: #6c757d;\n  color: white;\n  padding: 12px 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  transform: ${props => props.show ? 'translateX(0)' : 'translateX(120%)'};\n  transition: transform 0.3s ease;\n  font-size: 14px;\n  font-weight: 500;\n`;\n_c15 = Toast;\nconst InteractionHistoryView = ({\n  personaId,\n  personaName,\n  onSwitchToMode,\n  onGenerateNewInterpretation,\n  onRefreshThreads\n}) => {\n  _s();\n  const [expandedThreads, setExpandedThreads] = useState(new Set());\n  const [interactionRecord, setInteractionRecord] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  useEffect(() => {\n    loadInteractionRecord();\n  }, [personaId]);\n  const loadInteractionRecord = async () => {\n    if (!personaId) return;\n    setIsLoading(true);\n    try {\n      const response = await chatApi.getInteractionRecord(personaId);\n      if (response.data) {\n        setInteractionRecord(response.data);\n      } else {\n        setInteractionRecord(null);\n      }\n    } catch (error) {\n      console.error('상호작용 기록 로드 실패:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleThreadToggle = threadId => {\n    const newExpanded = new Set(expandedThreads);\n    if (newExpanded.has(threadId)) {\n      newExpanded.delete(threadId);\n    } else {\n      newExpanded.add(threadId);\n    }\n    setExpandedThreads(newExpanded);\n  };\n  const formatTime = timestamp => {\n    const date = new Date(timestamp);\n    return date.toLocaleString('ko-KR', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getThreadTypeName = threadType => {\n    switch (threadType) {\n      case 'interpretation':\n        return '해석';\n      case 'proceed':\n        return '나아가기';\n      case 'sentence':\n        return '문장';\n      default:\n        return threadType;\n    }\n  };\n\n  // 토스트 메시지 표시 함수\n  const showCopyToast = message => {\n    setToastMessage(message);\n    setShowToast(true);\n    setTimeout(() => setShowToast(false), 3000);\n  };\n  const handleSwitchToThread = thread => {\n    if (onSwitchToMode) {\n      onSwitchToMode(thread.thread_type);\n    }\n    showCopyToast(`${getThreadTypeName(thread.thread_type)} 모드로 전환되었습니다`);\n  };\n  const handleCopyThreadContent = async thread => {\n    const content = thread.messages.map(msg => `${msg.role === 'user' ? '사용자' : 'AI'}: ${msg.content}`).join('\\n\\n');\n    try {\n      await navigator.clipboard.writeText(content);\n      showCopyToast('스레드 내용이 복사되었습니다');\n    } catch (error) {\n      console.error('복사 실패:', error);\n      showCopyToast('복사에 실패했습니다');\n    }\n  };\n\n  // 스레드를 시간 순으로 정렬 (최신 순)\n  const sortedThreads = (interactionRecord === null || interactionRecord === void 0 ? void 0 : interactionRecord.threads.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())) || [];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      show: showToast,\n      children: toastMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HistorySection, {\n      children: /*#__PURE__*/_jsxDEV(HistoryContent, {\n        children: isLoading ? /*#__PURE__*/_jsxDEV(EmptyHistory, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              marginBottom: '8px'\n            },\n            children: \"\\u23F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uC0C1\\uD638\\uC791\\uC6A9 \\uAE30\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this) : !interactionRecord || sortedThreads.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyHistory, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              marginBottom: '8px'\n            },\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uC544\\uC9C1 \\uC0C1\\uD638\\uC791\\uC6A9 \\uAE30\\uB85D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              marginTop: '4px'\n            },\n            children: \"\\uD574\\uC11D, \\uB098\\uC544\\uAC00\\uAE30, \\uBB38\\uC7A5\\uC744 \\uC0DD\\uC131\\uD558\\uBA74 \\uAE30\\uB85D\\uC774 \\uC5EC\\uAE30\\uC5D0 \\uD45C\\uC2DC\\uB429\\uB2C8\\uB2E4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AccordionContainer, {\n          children: sortedThreads.map(thread => /*#__PURE__*/_jsxDEV(AccordionItem, {\n            children: [/*#__PURE__*/_jsxDEV(AccordionHeader, {\n              $isExpanded: expandedThreads.has(thread.id),\n              $threadType: thread.thread_type,\n              onClick: () => handleThreadToggle(thread.id),\n              children: [/*#__PURE__*/_jsxDEV(ThreadInfo, {\n                children: [/*#__PURE__*/_jsxDEV(ThreadTitle, {\n                  children: [/*#__PURE__*/_jsxDEV(ThreadTypeTag, {\n                    $threadType: thread.thread_type,\n                    children: getThreadTypeName(thread.thread_type)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 25\n                  }, this), ' ', \"\\uC2A4\\uB808\\uB4DC\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ThreadMeta, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCC5 \", formatTime(thread.created_at)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCAC \", thread.messages.length, \"\\uAC1C \\uBA54\\uC2DC\\uC9C0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDD52 \", formatTime(thread.updated_at)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ExpandIcon, {\n                $isExpanded: expandedThreads.has(thread.id),\n                children: \"\\u25B6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ThreadContent, {\n              $isExpanded: expandedThreads.has(thread.id),\n              children: [/*#__PURE__*/_jsxDEV(MessagesContainer, {\n                children: [thread.messages.slice(0, 3).map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '14px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: message.role === 'user' ? '600' : '500',\n                      color: message.role === 'user' ? '#333' : '#666',\n                      marginBottom: '4px'\n                    },\n                    children: message.role === 'user' ? '👤 사용자' : `🤖 ${personaName}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      paddingLeft: '16px',\n                      lineHeight: '1.4',\n                      color: '#555'\n                    },\n                    children: message.content.length > 150 ? `${message.content.substring(0, 150)}...` : message.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 25\n                }, this)), thread.messages.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#999',\n                    textAlign: 'center'\n                  },\n                  children: [\"... \\uADF8\\uB9AC\\uACE0 \", thread.messages.length - 3, \"\\uAC1C \\uBA54\\uC2DC\\uC9C0 \\uB354\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ThreadFooter, {\n                children: [/*#__PURE__*/_jsxDEV(ActionButton, {\n                  onClick: () => handleCopyThreadContent(thread),\n                  children: \"\\uD83D\\uDCCB \\uBCF5\\uC0AC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n                  $variant: \"primary\",\n                  onClick: () => handleSwitchToThread(thread),\n                  children: \"\\uD83D\\uDD04 \\uC774\\uB3D9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this)]\n          }, thread.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractionHistoryView, \"rKpZURfRGlQla8efwrUqfO3NFFM=\");\n_c16 = InteractionHistoryView;\nexport default InteractionHistoryView;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"HistorySection\");\n$RefreshReg$(_c3, \"HistoryContent\");\n$RefreshReg$(_c4, \"EmptyHistory\");\n$RefreshReg$(_c5, \"AccordionContainer\");\n$RefreshReg$(_c6, \"AccordionItem\");\n$RefreshReg$(_c7, \"AccordionHeader\");\n$RefreshReg$(_c8, \"ThreadInfo\");\n$RefreshReg$(_c9, \"ThreadTitle\");\n$RefreshReg$(_c0, \"ThreadMeta\");\n$RefreshReg$(_c1, \"ThreadTypeTag\");\n$RefreshReg$(_c10, \"ExpandIcon\");\n$RefreshReg$(_c11, \"ThreadContent\");\n$RefreshReg$(_c12, \"MessagesContainer\");\n$RefreshReg$(_c13, \"ThreadFooter\");\n$RefreshReg$(_c14, \"ActionButton\");\n$RefreshReg$(_c15, \"Toast\");\n$RefreshReg$(_c16, \"InteractionHistoryView\");","map":{"version":3,"names":["React","useState","useEffect","styled","chatApi","jsxDEV","_jsxDEV","Container","div","_c","HistorySection","_c2","HistoryContent","_c3","EmptyHistory","_c4","AccordionContainer","_c5","AccordionItem","_c6","AccordionHeader","props","$threadType","$isExpanded","_c7","ThreadInfo","_c8","ThreadTitle","_c9","ThreadMeta","_c0","ThreadTypeTag","span","_c1","ExpandIcon","_c10","ThreadContent","_c11","MessagesContainer","_c12","ThreadFooter","_c13","ActionButton","button","$variant","_c14","Toast","show","_c15","InteractionHistoryView","personaId","personaName","onSwitchToMode","onGenerateNewInterpretation","onRefreshThreads","_s","expandedThreads","setExpandedThreads","Set","interactionRecord","setInteractionRecord","isLoading","setIsLoading","showToast","setShowToast","toastMessage","setToastMessage","loadInteractionRecord","response","getInteractionRecord","data","error","console","handleThreadToggle","threadId","newExpanded","has","delete","add","formatTime","timestamp","date","Date","toLocaleString","month","day","hour","minute","getThreadTypeName","threadType","showCopyToast","message","setTimeout","handleSwitchToThread","thread","thread_type","handleCopyThreadContent","content","messages","map","msg","role","join","navigator","clipboard","writeText","sortedThreads","threads","sort","a","b","created_at","getTime","children","fileName","_jsxFileName","lineNumber","columnNumber","style","fontSize","marginBottom","length","marginTop","id","onClick","updated_at","slice","index","fontWeight","color","paddingLeft","lineHeight","substring","textAlign","_c16","$RefreshReg$"],"sources":["C:/Users/sungh/Desktop/chat_work/frontend/src/features/training/components/InteractionHistoryView.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport MessageInput, { MessageInputRef } from '../../shared/components/MessageInput';\r\nimport Message from '../../shared/components/Message';\r\nimport SelectableMessage from './SelectableMessage';\r\nimport FloatingActionButton from '../../shared/components/FloatingActionButton';\r\nimport LoadingMessage from '../../shared/components/LoadingMessage';\r\nimport { sentenceApi } from '../api/sentenceApi';\r\nimport { chatApi } from '../../shared/api/chatApi';\r\nimport { TrainingThread, InteractionRecord } from '../../shared/types';\r\n\r\ninterface InteractionHistoryViewProps {\r\n  personaId: string;\r\n  personaName: string;\r\n  onSwitchToMode?: (mode: 'interpretation' | 'proceed' | 'sentence') => void;\r\n  onGenerateNewInterpretation?: () => void;\r\n  onRefreshThreads?: () => void;\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  background: white;\r\n`;\r\n\r\nconst HistorySection = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst HistoryContent = styled.div`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n`;\r\n\r\nconst EmptyHistory = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  color: #999;\r\n  font-size: 14px;\r\n  text-align: center;\r\n`;\r\n\r\nconst AccordionContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst AccordionItem = styled.div`\r\n  margin-bottom: 16px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n`;\r\n\r\nconst AccordionHeader = styled.div<{ $isExpanded: boolean; $threadType: string }>`\r\n  padding: 16px 20px;\r\n  cursor: pointer;\r\n  background: ${props => {\r\n    if (props.$threadType === 'interpretation') return '#f8f9fa';\r\n    if (props.$threadType === 'proceed') return '#fff3e0';\r\n    if (props.$threadType === 'sentence') return '#e8f5e8';\r\n    return '#f8f9fa';\r\n  }};\r\n  border-bottom: ${props => props.$isExpanded ? '1px solid #e0e0e0' : 'none'};\r\n  transition: all 0.2s ease;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  \r\n  &:hover {\r\n    background: ${props => {\r\n      if (props.$threadType === 'interpretation') return '#f1f3f4';\r\n      if (props.$threadType === 'proceed') return '#ffeaa7';\r\n      if (props.$threadType === 'sentence') return '#dcedc8';\r\n      return '#f1f3f4';\r\n    }};\r\n  }\r\n`;\r\n\r\nconst ThreadInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n`;\r\n\r\nconst ThreadTitle = styled.div`\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  color: #333;\r\n`;\r\n\r\nconst ThreadMeta = styled.div`\r\n  font-size: 12px;\r\n  color: #666;\r\n  display: flex;\r\n  gap: 12px;\r\n`;\r\n\r\nconst ThreadTypeTag = styled.span<{ $threadType: string }>`\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  background: ${props => {\r\n    if (props.$threadType === 'interpretation') return '#6c757d';\r\n    if (props.$threadType === 'proceed') return '#ff9800';\r\n    if (props.$threadType === 'sentence') return '#4caf50';\r\n    return '#6c757d';\r\n  }};\r\n  color: white;\r\n`;\r\n\r\nconst ExpandIcon = styled.span<{ $isExpanded: boolean }>`\r\n  transition: transform 0.2s ease;\r\n  transform: ${props => props.$isExpanded ? 'rotate(90deg)' : 'rotate(0deg)'};\r\n  font-size: 14px;\r\n  color: #666;\r\n`;\r\n\r\nconst ThreadContent = styled.div<{ $isExpanded: boolean }>`\r\n  max-height: ${props => props.$isExpanded ? '400px' : '0'};\r\n  overflow: hidden;\r\n  transition: max-height 0.3s ease;\r\n  background: white;\r\n`;\r\n\r\nconst MessagesContainer = styled.div`\r\n  padding: 16px 20px;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n`;\r\n\r\nconst ThreadFooter = styled.div`\r\n  padding: 12px 20px;\r\n  border-top: 1px solid #f0f0f0;\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst ActionButton = styled.button<{ $variant?: 'primary' | 'secondary' }>`\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  \r\n  ${props => props.$variant === 'primary' ? `\r\n    background: #6c757d;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #5a6268;\r\n    }\r\n  ` : `\r\n    background: #f8f9fa;\r\n    color: #6c757d;\r\n    border: 1px solid #e0e0e0;\r\n    \r\n    &:hover {\r\n      background: #e9ecef;\r\n    }\r\n  `}\r\n`;\r\n\r\n// 복사 알림을 위한 토스트 컴포넌트\r\nconst Toast = styled.div<{ show: boolean }>`\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  background: #6c757d;\r\n  color: white;\r\n  padding: 12px 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  z-index: 1000;\r\n  transform: ${props => props.show ? 'translateX(0)' : 'translateX(120%)'};\r\n  transition: transform 0.3s ease;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst InteractionHistoryView: React.FC<InteractionHistoryViewProps> = ({\r\n  personaId,\r\n  personaName,\r\n  onSwitchToMode,\r\n  onGenerateNewInterpretation,\r\n  onRefreshThreads,\r\n}) => {\r\n  const [expandedThreads, setExpandedThreads] = useState<Set<string>>(new Set());\r\n  const [interactionRecord, setInteractionRecord] = useState<InteractionRecord | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadInteractionRecord();\r\n  }, [personaId]);\r\n\r\n  const loadInteractionRecord = async () => {\r\n    if (!personaId) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      const response = await chatApi.getInteractionRecord(personaId);\r\n      if (response.data) {\r\n        setInteractionRecord(response.data);\r\n      } else {\r\n        setInteractionRecord(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('상호작용 기록 로드 실패:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleThreadToggle = (threadId: string) => {\r\n    const newExpanded = new Set(expandedThreads);\r\n    if (newExpanded.has(threadId)) {\r\n      newExpanded.delete(threadId);\r\n    } else {\r\n      newExpanded.add(threadId);\r\n    }\r\n    setExpandedThreads(newExpanded);\r\n  };\r\n\r\n  const formatTime = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleString('ko-KR', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  const getThreadTypeName = (threadType: string) => {\r\n    switch (threadType) {\r\n      case 'interpretation': return '해석';\r\n      case 'proceed': return '나아가기';\r\n      case 'sentence': return '문장';\r\n      default: return threadType;\r\n    }\r\n  };\r\n\r\n  // 토스트 메시지 표시 함수\r\n  const showCopyToast = (message: string) => {\r\n    setToastMessage(message);\r\n    setShowToast(true);\r\n    setTimeout(() => setShowToast(false), 3000);\r\n  };\r\n\r\n  const handleSwitchToThread = (thread: TrainingThread) => {\r\n    if (onSwitchToMode) {\r\n      onSwitchToMode(thread.thread_type as 'interpretation' | 'proceed' | 'sentence');\r\n    }\r\n    showCopyToast(`${getThreadTypeName(thread.thread_type)} 모드로 전환되었습니다`);\r\n  };\r\n\r\n  const handleCopyThreadContent = async (thread: TrainingThread) => {\r\n    const content = thread.messages.map(msg => \r\n      `${msg.role === 'user' ? '사용자' : 'AI'}: ${msg.content}`\r\n    ).join('\\n\\n');\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(content);\r\n      showCopyToast('스레드 내용이 복사되었습니다');\r\n    } catch (error) {\r\n      console.error('복사 실패:', error);\r\n      showCopyToast('복사에 실패했습니다');\r\n    }\r\n  };\r\n\r\n  // 스레드를 시간 순으로 정렬 (최신 순)\r\n  const sortedThreads = interactionRecord?.threads.sort((a, b) => \r\n    new Date(b.created_at).getTime() - new Date(a.created_at).getTime()\r\n  ) || [];\r\n\r\n  return (\r\n    <Container>\r\n      <Toast show={showToast}>\r\n        {toastMessage}\r\n      </Toast>\r\n      \r\n      <HistorySection>\r\n        <HistoryContent>\r\n          {isLoading ? (\r\n            <EmptyHistory>\r\n              <div style={{ fontSize: '24px', marginBottom: '8px' }}>⏳</div>\r\n              <div>상호작용 기록을 불러오는 중...</div>\r\n            </EmptyHistory>\r\n          ) : !interactionRecord || sortedThreads.length === 0 ? (\r\n            <EmptyHistory>\r\n              <div style={{ fontSize: '24px', marginBottom: '8px' }}>📋</div>\r\n              <div>아직 상호작용 기록이 없습니다</div>\r\n              <div style={{ fontSize: '12px', marginTop: '4px' }}>\r\n                해석, 나아가기, 문장을 생성하면 기록이 여기에 표시됩니다\r\n              </div>\r\n            </EmptyHistory>\r\n          ) : (\r\n            <AccordionContainer>\r\n              {sortedThreads.map((thread) => (\r\n                <AccordionItem key={thread.id}>\r\n                  <AccordionHeader\r\n                    $isExpanded={expandedThreads.has(thread.id)}\r\n                    $threadType={thread.thread_type}\r\n                    onClick={() => handleThreadToggle(thread.id)}\r\n                  >\r\n                    <ThreadInfo>\r\n                      <ThreadTitle>\r\n                        <ThreadTypeTag $threadType={thread.thread_type}>\r\n                          {getThreadTypeName(thread.thread_type)}\r\n                        </ThreadTypeTag>\r\n                        {' '}스레드\r\n                      </ThreadTitle>\r\n                      <ThreadMeta>\r\n                        <span>📅 {formatTime(thread.created_at)}</span>\r\n                        <span>💬 {thread.messages.length}개 메시지</span>\r\n                        <span>🕒 {formatTime(thread.updated_at)}</span>\r\n                      </ThreadMeta>\r\n                    </ThreadInfo>\r\n                    <ExpandIcon $isExpanded={expandedThreads.has(thread.id)}>\r\n                      ▶\r\n                    </ExpandIcon>\r\n                  </AccordionHeader>\r\n                  \r\n                  <ThreadContent $isExpanded={expandedThreads.has(thread.id)}>\r\n                    <MessagesContainer>\r\n                      {thread.messages.slice(0, 3).map((message, index) => (\r\n                        <div key={index} style={{ fontSize: '14px' }}>\r\n                          <div style={{ \r\n                            fontWeight: message.role === 'user' ? '600' : '500',\r\n                            color: message.role === 'user' ? '#333' : '#666',\r\n                            marginBottom: '4px'\r\n                          }}>\r\n                            {message.role === 'user' ? '👤 사용자' : `🤖 ${personaName}`}\r\n                          </div>\r\n                          <div style={{ \r\n                            paddingLeft: '16px',\r\n                            lineHeight: '1.4',\r\n                            color: '#555'\r\n                          }}>\r\n                            {message.content.length > 150 \r\n                              ? `${message.content.substring(0, 150)}...` \r\n                              : message.content\r\n                            }\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                      {thread.messages.length > 3 && (\r\n                        <div style={{ fontSize: '12px', color: '#999', textAlign: 'center' }}>\r\n                          ... 그리고 {thread.messages.length - 3}개 메시지 더\r\n                        </div>\r\n                      )}\r\n                    </MessagesContainer>\r\n                    \r\n                    <ThreadFooter>\r\n                      <ActionButton \r\n                        onClick={() => handleCopyThreadContent(thread)}\r\n                      >\r\n                        📋 복사\r\n                      </ActionButton>\r\n                      <ActionButton \r\n                        $variant=\"primary\"\r\n                        onClick={() => handleSwitchToThread(thread)}\r\n                      >\r\n                        🔄 이동\r\n                      </ActionButton>\r\n                    </ThreadFooter>\r\n                  </ThreadContent>\r\n                </AccordionItem>\r\n              ))}\r\n            </AccordionContainer>\r\n          )}\r\n        </HistoryContent>\r\n      </HistorySection>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default InteractionHistoryView; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}