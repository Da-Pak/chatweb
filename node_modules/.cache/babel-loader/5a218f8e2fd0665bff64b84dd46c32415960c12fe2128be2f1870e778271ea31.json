{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sungh\\\\Desktop\\\\chat_work_ver2\\\\frontend\\\\src\\\\features\\\\shared\\\\components\\\\MessageInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { InputContainer, InputWrapper, MessageInputContainer, MessageInput as StyledMessageInput, SendButton, SentenceModeButton, ButtonGroup } from '../styles/GlobalStyle';\nimport QuickPhraseButton from './QuickPhraseButton';\nimport { quickPhraseApi } from '../api/quickPhraseApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageInput = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s(({\n  onSendMessage,\n  disabled = false,\n  placeholder = \"메시지를 입력하세요...\",\n  onToggleSentenceMode,\n  isSentenceModeActive = false,\n  hasSelectedSentences = false,\n  currentInterpretation,\n  personaId,\n  onGenerateProceed,\n  onGenerateSentence,\n  currentChatMessages,\n  onRefreshThreads\n}, ref) => {\n  _s();\n  const [message, setMessage] = useState('');\n  const [isSending, setIsSending] = useState(false);\n  const [quickPhrases, setQuickPhrases] = useState([]);\n  const textareaRef = useRef(null);\n\n  // ref를 통해 외부에서 텍스트 삽입 가능하도록 함\n  useImperativeHandle(ref, () => ({\n    insertText: text => {\n      setMessage(prev => prev + text);\n      // 텍스트 삽입 후 높이 조절\n      setTimeout(() => {\n        if (textareaRef.current) {\n          textareaRef.current.style.height = 'auto';\n          textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n          textareaRef.current.focus();\n        }\n      }, 0);\n    }\n  }));\n  const handleSubmit = async () => {\n    if (!message.trim() || disabled || isSending) return;\n    const messageToSend = message.trim();\n\n    // 즉시 입력창 비우고 상태 변경\n    setMessage('');\n    setIsSending(true);\n\n    // 텍스트영역 높이 초기화\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n    }\n    try {\n      const success = await onSendMessage(messageToSend);\n      if (!success) {\n        // 실패 시 메시지 복원\n        setMessage(messageToSend);\n        if (textareaRef.current) {\n          textareaRef.current.style.height = 'auto';\n          textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        }\n      }\n    } catch (error) {\n      // 에러 시 메시지 복원\n      setMessage(messageToSend);\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n        textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n      }\n    } finally {\n      setIsSending(false);\n    }\n  };\n  const handleStop = () => {\n    // 요청 중단 로직 구현 예정\n    setIsSending(false);\n    console.log('응답 생성을 중단합니다.');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n  const handleChange = e => {\n    setMessage(e.target.value);\n\n    // 자동 높이 조절\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  };\n\n  // 컴포넌트가 마운트될 때 포커스 및 자주쓰는 문장 로드\n  useEffect(() => {\n    if (textareaRef.current && !disabled) {\n      textareaRef.current.focus();\n    }\n    loadQuickPhrases();\n\n    // 컴포넌트 마운트 시 sessionStorage에서 선택된 문장 확인\n    const selectedSentence = sessionStorage.getItem('selectedSentenceForInput');\n    if (selectedSentence) {\n      setMessage(selectedSentence);\n      sessionStorage.removeItem('selectedSentenceForInput');\n\n      // 자동 포커스 (약간의 지연을 두어 렌더링 완료 후 실행)\n      setTimeout(() => {\n        if (textareaRef.current) {\n          textareaRef.current.focus();\n          // 커서를 텍스트 끝으로 이동\n          textareaRef.current.setSelectionRange(selectedSentence.length, selectedSentence.length);\n        }\n      }, 100);\n    }\n  }, [disabled]);\n\n  // 자주쓰는 문장 로드\n  const loadQuickPhrases = async () => {\n    try {\n      const phrases = await quickPhraseApi.getQuickPhrases();\n      setQuickPhrases(phrases);\n    } catch (error) {\n      console.error('자주쓰는 문장 로드 실패:', error);\n    }\n  };\n\n  // 자주쓰는 문장 선택 시 입력창에 삽입\n  const handlePhraseSelect = text => {\n    setMessage(prev => prev + text);\n    // 텍스트 삽입 후 높이 조절\n    setTimeout(() => {\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n        textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        textareaRef.current.focus();\n      }\n    }, 0);\n  };\n  const isButtonDisabled = disabled || isSending || !message.trim();\n  return /*#__PURE__*/_jsxDEV(InputContainer, {\n    children: /*#__PURE__*/_jsxDEV(InputWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(MessageInputContainer, {\n        children: [/*#__PURE__*/_jsxDEV(StyledMessageInput, {\n          ref: textareaRef,\n          value: message,\n          onChange: handleChange,\n          onKeyPress: handleKeyPress,\n          placeholder: placeholder,\n          disabled: disabled || isSending,\n          rows: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SendButton, {\n          onClick: isSending ? handleStop : handleSubmit,\n          disabled: disabled || !isSending && !message.trim(),\n          title: isSending ? '중지' : '전송',\n          style: {\n            background: isSending ? '#ffffff' : undefined,\n            color: isSending ? '#000000' : undefined,\n            border: isSending ? '2px solid rgb(0, 0, 0)' : undefined\n          },\n          children: isSending ? '■' : '↑'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n        children: [/*#__PURE__*/_jsxDEV(QuickPhraseButton, {\n          quickPhrases: quickPhrases,\n          onPhraseSelect: handlePhraseSelect,\n          onPhrasesUpdate: loadQuickPhrases,\n          currentInterpretation: currentInterpretation,\n          personaId: personaId,\n          onGenerateProceed: onGenerateProceed,\n          onGenerateSentence: onGenerateSentence,\n          currentChatMessages: currentChatMessages,\n          currentChatContext: currentInterpretation,\n          onRefreshThreads: onRefreshThreads\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SentenceModeButton, {\n          $isActive: isSentenceModeActive,\n          $hasSelected: hasSelectedSentences,\n          onClick: onToggleSentenceMode,\n          title: \"\\uBB38\\uC7A5 \\uC120\\uD0DD \\uBAA8\\uB4DC\",\n          children: [\"\\uBB38\\uC7A5\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), \"\\uC120\\uD0DD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}, \"N4FmJDOZdLjDTjgdgCtGE2Gf4ZQ=\")), \"N4FmJDOZdLjDTjgdgCtGE2Gf4ZQ=\");\n_c2 = MessageInput;\nexport default MessageInput;\nvar _c, _c2;\n$RefreshReg$(_c, \"MessageInput$forwardRef\");\n$RefreshReg$(_c2, \"MessageInput\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useImperativeHandle","forwardRef","InputContainer","InputWrapper","MessageInputContainer","MessageInput","StyledMessageInput","SendButton","SentenceModeButton","ButtonGroup","QuickPhraseButton","quickPhraseApi","jsxDEV","_jsxDEV","_s","_c","onSendMessage","disabled","placeholder","onToggleSentenceMode","isSentenceModeActive","hasSelectedSentences","currentInterpretation","personaId","onGenerateProceed","onGenerateSentence","currentChatMessages","onRefreshThreads","ref","message","setMessage","isSending","setIsSending","quickPhrases","setQuickPhrases","textareaRef","insertText","text","prev","setTimeout","current","style","height","scrollHeight","focus","handleSubmit","trim","messageToSend","success","error","handleStop","console","log","handleKeyPress","e","key","shiftKey","preventDefault","handleChange","target","value","loadQuickPhrases","selectedSentence","sessionStorage","getItem","removeItem","setSelectionRange","length","phrases","getQuickPhrases","handlePhraseSelect","isButtonDisabled","children","onChange","onKeyPress","rows","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","background","undefined","color","border","onPhraseSelect","onPhrasesUpdate","currentChatContext","$isActive","$hasSelected","_c2","$RefreshReg$"],"sources":["C:/Users/sungh/Desktop/chat_work_ver2/frontend/src/features/shared/components/MessageInput.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport {\n  InputContainer,\n  InputWrapper,\n  MessageInputContainer,\n  MessageInput as StyledMessageInput,\n  SendButton,\n  SentenceModeButton,\n  ButtonGroup,\n} from '../styles/GlobalStyle';\nimport QuickPhraseButton from './QuickPhraseButton';\nimport { QuickPhrase, quickPhraseApi } from '../api/quickPhraseApi';\n\ninterface MessageInputProps {\n  onSendMessage: (message: string) => Promise<boolean>;\n  disabled?: boolean;\n  placeholder?: string;\n  onToggleSentenceMode?: () => void;\n  isSentenceModeActive?: boolean;\n  hasSelectedSentences?: boolean;\n  currentInterpretation?: string;\n  personaId?: string;\n  onGenerateProceed?: (messageContent: string) => Promise<void>;\n  onGenerateSentence?: (messageContent: string) => Promise<void>;\n  currentChatMessages?: Array<{\n    role: 'user' | 'assistant';\n    content: string;\n    timestamp: string;\n  }>;\n  onRefreshThreads?: () => void;\n}\n\nexport interface MessageInputRef {\n  insertText: (text: string) => void;\n}\n\nconst MessageInput = forwardRef<MessageInputRef, MessageInputProps>(({\n  onSendMessage,\n  disabled = false,\n  placeholder = \"메시지를 입력하세요...\",\n  onToggleSentenceMode,\n  isSentenceModeActive = false,\n  hasSelectedSentences = false,\n  currentInterpretation,\n  personaId,\n  onGenerateProceed,\n  onGenerateSentence,\n  currentChatMessages,\n  onRefreshThreads,\n}, ref) => {\n  const [message, setMessage] = useState('');\n  const [isSending, setIsSending] = useState(false);\n  const [quickPhrases, setQuickPhrases] = useState<QuickPhrase[]>([]);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // ref를 통해 외부에서 텍스트 삽입 가능하도록 함\n  useImperativeHandle(ref, () => ({\n    insertText: (text: string) => {\n      setMessage(prev => prev + text);\n      // 텍스트 삽입 후 높이 조절\n      setTimeout(() => {\n        if (textareaRef.current) {\n          textareaRef.current.style.height = 'auto';\n          textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n          textareaRef.current.focus();\n        }\n      }, 0);\n    }\n  }));\n\n  const handleSubmit = async () => {\n    if (!message.trim() || disabled || isSending) return;\n\n    const messageToSend = message.trim();\n    \n    // 즉시 입력창 비우고 상태 변경\n    setMessage('');\n    setIsSending(true);\n    \n    // 텍스트영역 높이 초기화\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n    }\n\n    try {\n      const success = await onSendMessage(messageToSend);\n      \n      if (!success) {\n        // 실패 시 메시지 복원\n        setMessage(messageToSend);\n        if (textareaRef.current) {\n          textareaRef.current.style.height = 'auto';\n          textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        }\n      }\n    } catch (error) {\n      // 에러 시 메시지 복원\n      setMessage(messageToSend);\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n        textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n      }\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  const handleStop = () => {\n    // 요청 중단 로직 구현 예정\n    setIsSending(false);\n    console.log('응답 생성을 중단합니다.');\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n    \n    // 자동 높이 조절\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  };\n\n  // 컴포넌트가 마운트될 때 포커스 및 자주쓰는 문장 로드\n  useEffect(() => {\n    if (textareaRef.current && !disabled) {\n      textareaRef.current.focus();\n    }\n    loadQuickPhrases();\n    \n    // 컴포넌트 마운트 시 sessionStorage에서 선택된 문장 확인\n    const selectedSentence = sessionStorage.getItem('selectedSentenceForInput');\n    \n    if (selectedSentence) {\n      setMessage(selectedSentence);\n      sessionStorage.removeItem('selectedSentenceForInput');\n      \n      // 자동 포커스 (약간의 지연을 두어 렌더링 완료 후 실행)\n      setTimeout(() => {\n        if (textareaRef.current) {\n          textareaRef.current.focus();\n          // 커서를 텍스트 끝으로 이동\n          textareaRef.current.setSelectionRange(selectedSentence.length, selectedSentence.length);\n        }\n      }, 100);\n    }\n  }, [disabled]);\n\n  // 자주쓰는 문장 로드\n  const loadQuickPhrases = async () => {\n    try {\n      const phrases = await quickPhraseApi.getQuickPhrases();\n      setQuickPhrases(phrases);\n    } catch (error) {\n      console.error('자주쓰는 문장 로드 실패:', error);\n    }\n  };\n\n  // 자주쓰는 문장 선택 시 입력창에 삽입\n  const handlePhraseSelect = (text: string) => {\n    setMessage(prev => prev + text);\n    // 텍스트 삽입 후 높이 조절\n    setTimeout(() => {\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n        textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        textareaRef.current.focus();\n      }\n    }, 0);\n  };\n\n  const isButtonDisabled = disabled || isSending || !message.trim();\n\n  return (\n    <InputContainer>\n      <InputWrapper>\n        <MessageInputContainer>\n          <StyledMessageInput\n            ref={textareaRef}\n            value={message}\n            onChange={handleChange}\n            onKeyPress={handleKeyPress}\n            placeholder={placeholder}\n            disabled={disabled || isSending}\n            rows={1}\n          />\n          <SendButton\n            onClick={isSending ? handleStop : handleSubmit}\n            disabled={disabled || (!isSending && !message.trim())}\n            title={isSending ? '중지' : '전송'}\n            style={{\n              background: isSending ? '#ffffff' : undefined,\n              color: isSending ? '#000000' : undefined,\n              border: isSending ? '2px solid rgb(0, 0, 0)' : undefined,\n            }}\n          >\n            {isSending ? '■' : '↑'}\n          </SendButton>\n        </MessageInputContainer>\n        <ButtonGroup>\n          <QuickPhraseButton\n            quickPhrases={quickPhrases}\n            onPhraseSelect={handlePhraseSelect}\n            onPhrasesUpdate={loadQuickPhrases}\n            currentInterpretation={currentInterpretation}\n            personaId={personaId}\n            onGenerateProceed={onGenerateProceed}\n            onGenerateSentence={onGenerateSentence}\n            currentChatMessages={currentChatMessages}\n            currentChatContext={currentInterpretation}\n            onRefreshThreads={onRefreshThreads}\n          />\n          <SentenceModeButton\n            $isActive={isSentenceModeActive}\n            $hasSelected={hasSelectedSentences}\n            onClick={onToggleSentenceMode}\n            title=\"문장 선택 모드\"\n          >\n            문장<br/>선택\n          </SentenceModeButton>\n        </ButtonGroup>\n      </InputWrapper>\n    </InputContainer>\n  );\n});\n\nexport default MessageInput; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}