{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sungh\\\\Desktop\\\\chat_work\\\\frontend\\\\src\\\\components\\\\ChatArea.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport Message from './Message';\nimport MessageInput from './MessageInput';\nimport TrainingCategoryView from './TrainingCategoryView';\nimport InterpretationView from './InterpretationView';\nimport PersonaAdminPanel from './PersonaAdminPanel';\nimport { chatApi } from '../api/chatApi';\nimport { MainArea, ChatContent, LoadingSpinner, EmptyState, EmptyStateTitle, EmptyStateText } from '../styles/GlobalStyle';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatArea = ({\n  selectedConversation,\n  conversations,\n  personas,\n  globalMessages,\n  isLoading,\n  error,\n  onSendInitialMessage,\n  onContinueConversation,\n  onClearError,\n  selectedPersonaItem,\n  onSelectPersona,\n  onInterpretationComplete,\n  selectedConversationItem,\n  currentInterpretation,\n  onInterpretationMessage,\n  onUpdateInterpretation\n}) => {\n  _s();\n  var _personas$currentConv;\n  const chatContentRef = useRef(null);\n  const currentConversation = selectedConversation ? conversations[selectedConversation] : null;\n\n  // Î©îÏãúÏßÄÍ∞Ä Ï∂îÍ∞ÄÎê† ÎïåÎßàÎã§ Ïä§ÌÅ¨Î°§ÏùÑ Îß® ÏïÑÎûòÎ°ú\n  useEffect(() => {\n    if (chatContentRef.current) {\n      chatContentRef.current.scrollTop = chatContentRef.current.scrollHeight;\n    }\n  }, [currentConversation === null || currentConversation === void 0 ? void 0 : currentConversation.messages, globalMessages, isLoading]);\n  const handleSendMessage = async message => {\n    if (selectedConversation) {\n      // Í∏∞Ï°¥ ÎåÄÌôîÏóê Î©îÏãúÏßÄ Ï∂îÍ∞Ä\n      return await onContinueConversation(selectedConversation, message);\n    } else if (currentInterpretation) {\n      // Ìï¥ÏÑù Î™®ÎìúÏóêÏÑúÎäî Ìï¥ÏÑù Í¥ÄÎ†® Î©îÏãúÏßÄ Ï†ÑÏÜ°\n      return await onInterpretationMessage(message);\n    } else {\n      // ÏÉàÎ°úÏö¥ ÎåÄÌôî ÏãúÏûë\n      return await onSendInitialMessage(message);\n    }\n  };\n\n  // Ìï¥ÏÑù Î©îÏãúÏßÄ ÏàòÏ†ï Ìï∏Îì§Îü¨\n  const handleEditInterpretationMessage = async (messageIndex, newContent) => {\n    if (!currentInterpretation) return false;\n    try {\n      // Î©îÏãúÏßÄ ÏàòÏ†ï - ÌòÑÏû¨Îäî Î°úÏª¨ÏóêÏÑúÎßå Ï≤òÎ¶¨\n      // Ïã§Ï†úÎ°úÎäî Î∞±ÏóîÎìúÏóê ÏàòÏ†ï ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇº Ïàò ÏûàÏùå\n      const updatedMessages = [...currentInterpretation.messages];\n      if (messageIndex >= 0 && messageIndex < updatedMessages.length) {\n        updatedMessages[messageIndex] = {\n          ...updatedMessages[messageIndex],\n          content: newContent,\n          timestamp: new Date().toISOString()\n        };\n\n        // ÏàòÏ†ïÎêú Î©îÏãúÏßÄ Ïù¥ÌõÑÏùò assistant Î©îÏãúÏßÄÎì§ Ï†úÍ±∞\n        const filteredMessages = updatedMessages.slice(0, messageIndex + 1);\n        const updatedInterpretation = {\n          ...currentInterpretation,\n          messages: filteredMessages\n        };\n\n        // ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏Ïóê ÏóÖÎç∞Ïù¥Ìä∏ ÏïåÎ¶º\n        if (onUpdateInterpretation) {\n          onUpdateInterpretation(updatedInterpretation);\n        }\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Î©îÏãúÏßÄ ÏàòÏ†ï Ïã§Ìå®:', error);\n      return false;\n    }\n  };\n\n  // ÏùºÎ∞ò ÎåÄÌôî Î©îÏãúÏßÄ ÏàòÏ†ï Ìï∏Îì§Îü¨\n  const handleEditConversationMessage = async (messageIndex, newContent) => {\n    if (!selectedConversation || !currentConversation) return false;\n    try {\n      var _result$data;\n      const result = await chatApi.editMessage(selectedConversation, messageIndex, newContent);\n      if ((_result$data = result.data) !== null && _result$data !== void 0 && _result$data.success && result.data.updated_conversation) {\n        // ÏàòÏ†ïÎêú ÎåÄÌôî Ï†ïÎ≥¥Î°ú Ï¶âÏãú UI ÏóÖÎç∞Ïù¥Ìä∏\n        // Ïù¥Î•º ÏúÑÌï¥ ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏Ïùò ÎåÄÌôî ÏÉÅÌÉúÎ•º ÏóÖÎç∞Ïù¥Ìä∏Ìï¥Ïïº Ìï®\n        // ÌòÑÏû¨Îäî Í∞ÑÎã®Ìûà ÌéòÏù¥ÏßÄ ÏÉàÎ°úÍ≥†Ïπ® ÎåÄÏã† Î°úÏª¨ ÏÉÅÌÉúÎßå ÏóÖÎç∞Ïù¥Ìä∏\n        console.log('Î©îÏãúÏßÄÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§:', result.data.updated_conversation);\n\n        // TODO: ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏ÏóêÏÑú conversations ÏÉÅÌÉúÎ•º ÏóÖÎç∞Ïù¥Ìä∏ÌïòÎäî ÏΩúÎ∞±Ïù¥ ÌïÑÏöî\n        // ÏûÑÏãúÎ°ú ÏÑ±Í≥µ Î∞òÌôò\n        return true;\n      } else {\n        console.error('Î©îÏãúÏßÄ ÏàòÏ†ï Ïã§Ìå®:', result.error);\n        return false;\n      }\n    } catch (error) {\n      console.error('Î©îÏãúÏßÄ ÏàòÏ†ï ÏöîÏ≤≠ Ïã§Ìå®:', error);\n      return false;\n    }\n  };\n  const getHeaderTitle = () => {\n    if (selectedConversation && currentConversation) {\n      const persona = personas[currentConversation.persona_id];\n      return `${persona === null || persona === void 0 ? void 0 : persona.name}Í≥ºÏùò ÎåÄÌôî`;\n    }\n    return 'Îã§Ï§ë ÌéòÎ•¥ÏÜåÎÇò Ï±ÑÌåÖ';\n  };\n  const getHeaderSubtitle = () => {\n    if (selectedConversation && currentConversation) {\n      return `${currentConversation.messages.length}Í∞úÏùò Î©îÏãúÏßÄ`;\n    }\n    return 'Î™®Îì† ÌéòÎ•¥ÏÜåÎÇòÏôÄ ÎåÄÌôîÌïòÍ±∞ÎÇò Í∞úÎ≥Ñ ÌéòÎ•¥ÏÜåÎÇòÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî';\n  };\n  const renderInitialResponses = () => {\n    if (!globalMessages.length) return null;\n    const latestMessage = globalMessages[globalMessages.length - 1];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Message, {\n        message: {\n          role: 'user',\n          content: latestMessage.user_message,\n          timestamp: latestMessage.timestamp\n        },\n        personas: personas,\n        showActionButtons: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), latestMessage.responses.map(response => /*#__PURE__*/_jsxDEV(Message, {\n        message: {\n          role: 'assistant',\n          content: response.content,\n          timestamp: response.timestamp,\n          persona_id: response.persona_id,\n          persona_name: response.persona_name\n        },\n        personas: personas,\n        showActionButtons: true\n      }, `${latestMessage.id}_${response.persona_id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: '20px 0',\n          padding: '16px',\n          backgroundColor: '#f8f8f8',\n          borderRadius: '8px',\n          border: 'none',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            color: '#666',\n            marginBottom: '8px'\n          },\n          children: \"\\uD83D\\uDCA1 \\uAC01 \\uD398\\uB974\\uC18C\\uB098\\uC640 \\uAC1C\\uBCC4\\uC801\\uC73C\\uB85C \\uB300\\uD654\\uB97C \\uC774\\uC5B4\\uAC00\\uB824\\uBA74\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '13px',\n            color: '#888'\n          },\n          children: \"\\uC67C\\uCABD \\uC0AC\\uC774\\uB4DC\\uBC14\\uC5D0\\uC11C \\uD398\\uB974\\uC18C\\uB098\\uB97C \\uC120\\uD0DD\\uD558\\uAC70\\uB098, \\uD2B9\\uC815 \\uB300\\uD654\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this);\n  };\n  const renderConversation = () => {\n    if (!currentConversation) return null;\n    return currentConversation.messages.map((message, index) => /*#__PURE__*/_jsxDEV(Message, {\n      message: message,\n      personas: personas,\n      showActionButtons: true,\n      onCopy: () => {\n        // Î©îÏãúÏßÄ ÎÇ¥Ïö© Î≥µÏÇ¨\n        navigator.clipboard.writeText(message.content).then(() => {\n          console.log('Î©îÏãúÏßÄÍ∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§');\n        }).catch(err => {\n          console.error('Î≥µÏÇ¨ Ïã§Ìå®:', err);\n        });\n      },\n      onEdit: message.role === 'user' ? () => {} : undefined,\n      onEditSave: message.role === 'user' ? newContent => handleEditConversationMessage(index, newContent) : undefined,\n      onSunAction: () => console.log('Ìï¥ Î≤ÑÌäº - Ìñ•ÌõÑ Íµ¨ÌòÑ'),\n      onPersonAction: () => console.log('ÎÇò Î≤ÑÌäº - Ìñ•ÌõÑ Íµ¨ÌòÑ'),\n      onDocumentAction: () => console.log('Î¨∏ Î≤ÑÌäº - Ìñ•ÌõÑ Íµ¨ÌòÑ')\n    }, `${currentConversation.id}_${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this));\n  };\n  const renderEmptyState = () => /*#__PURE__*/_jsxDEV(EmptyState, {\n    children: [/*#__PURE__*/_jsxDEV(EmptyStateTitle, {\n      children: \"\\uC0C8\\uB85C\\uC6B4 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EmptyStateText, {\n      children: Object.keys(personas).length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"\\uC544\\uB798\\uC5D0 \\uC9C8\\uBB38\\uC744 \\uC785\\uB825\\uD558\\uBA74 \", Object.keys(personas).length, \"\\uAC1C\\uC758 \\uD398\\uB974\\uC18C\\uB098\\uAC00\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 64\n        }, this), \"\\uAC01\\uAC01 \\uB2E4\\uB978 \\uAD00\\uC810\\uC5D0\\uC11C \\uB2F5\\uBCC0\\uD574\\uB4DC\\uB9BD\\uB2C8\\uB2E4.\"]\n      }, void 0, true) : 'ÌéòÎ•¥ÏÜåÎÇò Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n\n  // Ìï¥ÏÑù Î∑∞ Î†åÎçîÎßÅ\n  const renderInterpretationView = () => {\n    if (!currentInterpretation) return null;\n    return /*#__PURE__*/_jsxDEV(InterpretationView, {\n      interpretation: currentInterpretation.content,\n      personaName: currentInterpretation.personaName,\n      onSendMessage: onInterpretationMessage,\n      onEditMessage: handleEditInterpretationMessage,\n      isLoading: isLoading,\n      messages: currentInterpretation.messages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(MainArea, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '80px',\n        borderBottom: '1px solid #ddd',\n        background: 'white'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }, this), selectedPersonaItem === 'training' ? /*#__PURE__*/_jsxDEV(TrainingCategoryView, {\n      personas: personas,\n      onSelectPersona: onSelectPersona || (() => {}),\n      onInterpretationComplete: onInterpretationComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, this) : selectedPersonaItem === 'admin' ? /*#__PURE__*/_jsxDEV(PersonaAdminPanel, {\n      onClose: () => {\n        // Í¥ÄÎ¶¨ Î™®Îìú Ï¢ÖÎ£å Ïãú PersonaSidebarÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞\n        if (onSelectPersona) {\n          onSelectPersona(''); // Îπà Í∞íÏúºÎ°ú ÏÑ§Ï†ïÌïòÏó¨ PersonaSidebarÏùò selectedItemÏùÑ nullÎ°ú ÎßåÎì¶\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this) : currentInterpretation && selectedConversationItem === 'interpretation' ?\n    // Ìï¥ÏÑù Î™®ÎìúÏùº Îïå InterpretationView ÏÇ¨Ïö©\n    renderInterpretationView() : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ChatContent, {\n        ref: chatContentRef,\n        children: [!selectedConversation && !currentInterpretation && globalMessages.length === 0 && renderEmptyState(), !selectedConversation && !currentInterpretation && globalMessages.length > 0 && renderInitialResponses(), selectedConversation && renderConversation(), isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n        onSendMessage: handleSendMessage,\n        disabled: isLoading || Object.keys(personas).length === 0,\n        placeholder: selectedConversation && currentConversation ? `${(_personas$currentConv = personas[currentConversation.persona_id]) === null || _personas$currentConv === void 0 ? void 0 : _personas$currentConv.name}ÏóêÍ≤å Î©îÏãúÏßÄÎ•º Î≥¥ÎÇ¥ÏÑ∏Ïöî...` : \"Î™®Îì† ÌéòÎ•¥ÏÜåÎÇòÏóêÍ≤å ÏßàÎ¨∏Ìï¥Î≥¥ÏÑ∏Ïöî...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatArea, \"mOv7bv2kefqXgZgTFrd064YEgxs=\");\n_c = ChatArea;\nexport default ChatArea;\nvar _c;\n$RefreshReg$(_c, \"ChatArea\");","map":{"version":3,"names":["React","useEffect","useRef","Message","MessageInput","TrainingCategoryView","InterpretationView","PersonaAdminPanel","chatApi","MainArea","ChatContent","LoadingSpinner","EmptyState","EmptyStateTitle","EmptyStateText","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatArea","selectedConversation","conversations","personas","globalMessages","isLoading","error","onSendInitialMessage","onContinueConversation","onClearError","selectedPersonaItem","onSelectPersona","onInterpretationComplete","selectedConversationItem","currentInterpretation","onInterpretationMessage","onUpdateInterpretation","_s","_personas$currentConv","chatContentRef","currentConversation","current","scrollTop","scrollHeight","messages","handleSendMessage","message","handleEditInterpretationMessage","messageIndex","newContent","updatedMessages","length","content","timestamp","Date","toISOString","filteredMessages","slice","updatedInterpretation","console","handleEditConversationMessage","_result$data","result","editMessage","data","success","updated_conversation","log","getHeaderTitle","persona","persona_id","name","getHeaderSubtitle","renderInitialResponses","latestMessage","children","role","user_message","showActionButtons","fileName","_jsxFileName","lineNumber","columnNumber","responses","map","response","persona_name","id","style","margin","padding","backgroundColor","borderRadius","border","textAlign","fontSize","color","marginBottom","renderConversation","index","onCopy","navigator","clipboard","writeText","then","catch","err","onEdit","undefined","onEditSave","onSunAction","onPersonAction","onDocumentAction","renderEmptyState","Object","keys","renderInterpretationView","interpretation","personaName","onSendMessage","onEditMessage","height","borderBottom","background","onClose","ref","disabled","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/sungh/Desktop/chat_work/frontend/src/components/ChatArea.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Conversation, Persona, GlobalMessage } from '../types';\nimport Message from './Message';\nimport MessageInput from './MessageInput';\nimport TrainingCategoryView from './TrainingCategoryView';\nimport InterpretationView from './InterpretationView';\nimport PersonaAdminPanel from './PersonaAdminPanel';\nimport { chatApi } from '../api/chatApi';\nimport {\n  MainArea,\n  ChatHeader,\n  ChatHeaderTitle,\n  ChatContent,\n  LoadingSpinner,\n  ErrorMessage,\n  EmptyState,\n  EmptyStateTitle,\n  EmptyStateText,\n} from '../styles/GlobalStyle';\n\ninterface ChatAreaProps {\n  selectedConversation: string | null;\n  conversations: Record<string, Conversation>;\n  personas: Record<string, Persona>;\n  globalMessages: GlobalMessage[];\n  isLoading: boolean;\n  error: string | null;\n  onSendInitialMessage: (message: string) => Promise<boolean>;\n  onContinueConversation: (conversationId: string, message: string) => Promise<boolean>;\n  onClearError: () => void;\n  selectedPersonaItem?: string | null; // ÌõàÏäµ Î™®Îìú ÌôïÏù∏Ïö©\n  onSelectPersona?: (personaId: string) => void; // ÌéòÎ•¥ÏÜåÎÇò ÏÑ†ÌÉù Ìï∏Îì§Îü¨\n  onInterpretationComplete: (personaId: string, interpretation: string) => void; // Ìï¥ÏÑù ÏôÑÎ£å Ìï∏Îì§Îü¨\n  selectedConversationItem?: string | null; // ÏÑ†ÌÉùÎêú ÎåÄÌôî Ìï≠Î™©\n  currentInterpretation?: {\n    personaId: string;\n    personaName: string;\n    content: string;\n    messages: Array<{\n      role: 'user' | 'assistant';\n      content: string;\n      timestamp: string;\n    }>;\n  } | null;\n  onInterpretationMessage: (message: string) => Promise<boolean>; // Ìï¥ÏÑù Ï±ÑÌåÖ Î©îÏãúÏßÄ Ìï∏Îì§Îü¨\n  onUpdateInterpretation?: (updatedInterpretation: {\n    personaId: string;\n    personaName: string;\n    content: string;\n    messages: Array<{\n      role: 'user' | 'assistant';\n      content: string;\n      timestamp: string;\n    }>;\n  }) => void; // Ìï¥ÏÑù ÏóÖÎç∞Ïù¥Ìä∏ Ìï∏Îì§Îü¨\n}\n\nconst ChatArea: React.FC<ChatAreaProps> = ({\n  selectedConversation,\n  conversations,\n  personas,\n  globalMessages,\n  isLoading,\n  error,\n  onSendInitialMessage,\n  onContinueConversation,\n  onClearError,\n  selectedPersonaItem,\n  onSelectPersona,\n  onInterpretationComplete,\n  selectedConversationItem,\n  currentInterpretation,\n  onInterpretationMessage,\n  onUpdateInterpretation,\n}) => {\n  const chatContentRef = useRef<HTMLDivElement>(null);\n  const currentConversation = selectedConversation ? conversations[selectedConversation] : null;\n\n  // Î©îÏãúÏßÄÍ∞Ä Ï∂îÍ∞ÄÎê† ÎïåÎßàÎã§ Ïä§ÌÅ¨Î°§ÏùÑ Îß® ÏïÑÎûòÎ°ú\n  useEffect(() => {\n    if (chatContentRef.current) {\n      chatContentRef.current.scrollTop = chatContentRef.current.scrollHeight;\n    }\n  }, [currentConversation?.messages, globalMessages, isLoading]);\n\n  const handleSendMessage = async (message: string) => {\n    if (selectedConversation) {\n      // Í∏∞Ï°¥ ÎåÄÌôîÏóê Î©îÏãúÏßÄ Ï∂îÍ∞Ä\n      return await onContinueConversation(selectedConversation, message);\n    } else if (currentInterpretation) {\n      // Ìï¥ÏÑù Î™®ÎìúÏóêÏÑúÎäî Ìï¥ÏÑù Í¥ÄÎ†® Î©îÏãúÏßÄ Ï†ÑÏÜ°\n      return await onInterpretationMessage(message);\n    } else {\n      // ÏÉàÎ°úÏö¥ ÎåÄÌôî ÏãúÏûë\n      return await onSendInitialMessage(message);\n    }\n  };\n\n  // Ìï¥ÏÑù Î©îÏãúÏßÄ ÏàòÏ†ï Ìï∏Îì§Îü¨\n  const handleEditInterpretationMessage = async (messageIndex: number, newContent: string): Promise<boolean> => {\n    if (!currentInterpretation) return false;\n\n    try {\n      // Î©îÏãúÏßÄ ÏàòÏ†ï - ÌòÑÏû¨Îäî Î°úÏª¨ÏóêÏÑúÎßå Ï≤òÎ¶¨\n      // Ïã§Ï†úÎ°úÎäî Î∞±ÏóîÎìúÏóê ÏàòÏ†ï ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇº Ïàò ÏûàÏùå\n      const updatedMessages = [...currentInterpretation.messages];\n      if (messageIndex >= 0 && messageIndex < updatedMessages.length) {\n        updatedMessages[messageIndex] = {\n          ...updatedMessages[messageIndex],\n          content: newContent,\n          timestamp: new Date().toISOString(),\n        };\n\n        // ÏàòÏ†ïÎêú Î©îÏãúÏßÄ Ïù¥ÌõÑÏùò assistant Î©îÏãúÏßÄÎì§ Ï†úÍ±∞\n        const filteredMessages = updatedMessages.slice(0, messageIndex + 1);\n\n        const updatedInterpretation = {\n          ...currentInterpretation,\n          messages: filteredMessages,\n        };\n\n        // ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏Ïóê ÏóÖÎç∞Ïù¥Ìä∏ ÏïåÎ¶º\n        if (onUpdateInterpretation) {\n          onUpdateInterpretation(updatedInterpretation);\n        }\n\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Î©îÏãúÏßÄ ÏàòÏ†ï Ïã§Ìå®:', error);\n      return false;\n    }\n  };\n\n  // ÏùºÎ∞ò ÎåÄÌôî Î©îÏãúÏßÄ ÏàòÏ†ï Ìï∏Îì§Îü¨\n  const handleEditConversationMessage = async (messageIndex: number, newContent: string): Promise<boolean> => {\n    if (!selectedConversation || !currentConversation) return false;\n\n    try {\n      const result = await chatApi.editMessage(selectedConversation, messageIndex, newContent);\n      \n      if (result.data?.success && result.data.updated_conversation) {\n        // ÏàòÏ†ïÎêú ÎåÄÌôî Ï†ïÎ≥¥Î°ú Ï¶âÏãú UI ÏóÖÎç∞Ïù¥Ìä∏\n        // Ïù¥Î•º ÏúÑÌï¥ ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏Ïùò ÎåÄÌôî ÏÉÅÌÉúÎ•º ÏóÖÎç∞Ïù¥Ìä∏Ìï¥Ïïº Ìï®\n        // ÌòÑÏû¨Îäî Í∞ÑÎã®Ìûà ÌéòÏù¥ÏßÄ ÏÉàÎ°úÍ≥†Ïπ® ÎåÄÏã† Î°úÏª¨ ÏÉÅÌÉúÎßå ÏóÖÎç∞Ïù¥Ìä∏\n        console.log('Î©îÏãúÏßÄÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§:', result.data.updated_conversation);\n        \n        // TODO: ÏÉÅÏúÑ Ïª¥Ìè¨ÎÑåÌä∏ÏóêÏÑú conversations ÏÉÅÌÉúÎ•º ÏóÖÎç∞Ïù¥Ìä∏ÌïòÎäî ÏΩúÎ∞±Ïù¥ ÌïÑÏöî\n        // ÏûÑÏãúÎ°ú ÏÑ±Í≥µ Î∞òÌôò\n        return true;\n      } else {\n        console.error('Î©îÏãúÏßÄ ÏàòÏ†ï Ïã§Ìå®:', result.error);\n        return false;\n      }\n    } catch (error) {\n      console.error('Î©îÏãúÏßÄ ÏàòÏ†ï ÏöîÏ≤≠ Ïã§Ìå®:', error);\n      return false;\n    }\n  };\n\n  const getHeaderTitle = () => {\n    if (selectedConversation && currentConversation) {\n      const persona = personas[currentConversation.persona_id];\n      return `${persona?.name}Í≥ºÏùò ÎåÄÌôî`;\n    }\n    return 'Îã§Ï§ë ÌéòÎ•¥ÏÜåÎÇò Ï±ÑÌåÖ';\n  };\n\n  const getHeaderSubtitle = () => {\n    if (selectedConversation && currentConversation) {\n      return `${currentConversation.messages.length}Í∞úÏùò Î©îÏãúÏßÄ`;\n    }\n    return 'Î™®Îì† ÌéòÎ•¥ÏÜåÎÇòÏôÄ ÎåÄÌôîÌïòÍ±∞ÎÇò Í∞úÎ≥Ñ ÌéòÎ•¥ÏÜåÎÇòÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî';\n  };\n\n  const renderInitialResponses = () => {\n    if (!globalMessages.length) return null;\n    \n    const latestMessage = globalMessages[globalMessages.length - 1];\n    \n    return (\n      <div>\n        {/* ÏÇ¨Ïö©Ïûê ÏßàÎ¨∏ */}\n        <Message\n          message={{\n            role: 'user',\n            content: latestMessage.user_message,\n            timestamp: latestMessage.timestamp,\n          }}\n          personas={personas}\n          showActionButtons={false}\n        />\n        \n        {/* Î™®Îì† ÌéòÎ•¥ÏÜåÎÇò ÏùëÎãµ */}\n        {latestMessage.responses.map((response) => (\n          <Message\n            key={`${latestMessage.id}_${response.persona_id}`}\n            message={{\n              role: 'assistant',\n              content: response.content,\n              timestamp: response.timestamp,\n              persona_id: response.persona_id,\n              persona_name: response.persona_name,\n            }}\n            personas={personas}\n            showActionButtons={true}\n          />\n        ))}\n        \n        <div style={{\n          margin: '20px 0',\n          padding: '16px',\n          backgroundColor: '#f8f8f8',\n          borderRadius: '8px',\n          border: 'none',\n          textAlign: 'center',\n        }}>\n          <div style={{ fontSize: '14px', color: '#666', marginBottom: '8px' }}>\n            üí° Í∞Å ÌéòÎ•¥ÏÜåÎÇòÏôÄ Í∞úÎ≥ÑÏ†ÅÏúºÎ°ú ÎåÄÌôîÎ•º Ïù¥Ïñ¥Í∞ÄÎ†§Î©¥\n          </div>\n          <div style={{ fontSize: '13px', color: '#888' }}>\n            ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞îÏóêÏÑú ÌéòÎ•¥ÏÜåÎÇòÎ•º ÏÑ†ÌÉùÌïòÍ±∞ÎÇò, ÌäπÏ†ï ÎåÄÌôîÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderConversation = () => {\n    if (!currentConversation) return null;\n\n    return currentConversation.messages.map((message, index) => (\n      <Message\n        key={`${currentConversation.id}_${index}`}\n        message={message}\n        personas={personas}\n        showActionButtons={true}\n        onCopy={() => {\n          // Î©îÏãúÏßÄ ÎÇ¥Ïö© Î≥µÏÇ¨\n          navigator.clipboard.writeText(message.content).then(() => {\n            console.log('Î©îÏãúÏßÄÍ∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§');\n          }).catch(err => {\n            console.error('Î≥µÏÇ¨ Ïã§Ìå®:', err);\n          });\n        }}\n        onEdit={message.role === 'user' ? () => {} : undefined}\n        onEditSave={message.role === 'user' ? (newContent) => handleEditConversationMessage(index, newContent) : undefined}\n        onSunAction={() => console.log('Ìï¥ Î≤ÑÌäº - Ìñ•ÌõÑ Íµ¨ÌòÑ')}\n        onPersonAction={() => console.log('ÎÇò Î≤ÑÌäº - Ìñ•ÌõÑ Íµ¨ÌòÑ')}\n        onDocumentAction={() => console.log('Î¨∏ Î≤ÑÌäº - Ìñ•ÌõÑ Íµ¨ÌòÑ')}\n      />\n    ));\n  };\n\n  const renderEmptyState = () => (\n    <EmptyState>\n      <EmptyStateTitle>ÏÉàÎ°úÏö¥ ÎåÄÌôîÎ•º ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî!</EmptyStateTitle>\n      <EmptyStateText>\n        {Object.keys(personas).length > 0 ? (\n          <>\n            ÏïÑÎûòÏóê ÏßàÎ¨∏ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ {Object.keys(personas).length}Í∞úÏùò ÌéòÎ•¥ÏÜåÎÇòÍ∞Ä<br />\n            Í∞ÅÍ∞Å Îã§Î•∏ Í¥ÄÏ†êÏóêÏÑú ÎãµÎ≥ÄÌï¥ÎìúÎ¶ΩÎãàÎã§.\n          </>\n        ) : (\n          'ÌéòÎ•¥ÏÜåÎÇò Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...'\n        )}\n      </EmptyStateText>\n    </EmptyState>\n  );\n\n  // Ìï¥ÏÑù Î∑∞ Î†åÎçîÎßÅ\n  const renderInterpretationView = () => {\n    if (!currentInterpretation) return null;\n\n    return (\n      <InterpretationView\n        interpretation={currentInterpretation.content}\n        personaName={currentInterpretation.personaName}\n        onSendMessage={onInterpretationMessage}\n        onEditMessage={handleEditInterpretationMessage}\n        isLoading={isLoading}\n        messages={currentInterpretation.messages}\n      />\n    );\n  };\n\n  return (\n    <MainArea>\n      {/* Î©îÏù∏ ÏòÅÏó≠ Ìó§Îçî - ÏÇ¨Ïù¥ÎìúÎ∞îÏôÄ ÎÜíÏù¥ ÎßûÏ∂§ (80px) - Îπà Í≥µÍ∞Ñ */}\n          <div style={{ \n        height: '80px',\n        borderBottom: '1px solid #ddd',\n        background: 'white',\n          }}>\n        {/* Îπà Ìó§Îçî Í≥µÍ∞Ñ */}\n          </div>\n\n      {/* ÌõàÏäµ Î™®ÎìúÏùº Îïå Ïπ¥ÌÖåÍ≥†Î¶¨ Î∑∞ ÌëúÏãú */}\n      {selectedPersonaItem === 'training' ? (\n        <TrainingCategoryView\n          personas={personas}\n          onSelectPersona={onSelectPersona || (() => {})}\n          onInterpretationComplete={onInterpretationComplete}\n        />\n      ) : selectedPersonaItem === 'admin' ? (\n        <PersonaAdminPanel \n          onClose={() => {\n            // Í¥ÄÎ¶¨ Î™®Îìú Ï¢ÖÎ£å Ïãú PersonaSidebarÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞\n            if (onSelectPersona) {\n              onSelectPersona(''); // Îπà Í∞íÏúºÎ°ú ÏÑ§Ï†ïÌïòÏó¨ PersonaSidebarÏùò selectedItemÏùÑ nullÎ°ú ÎßåÎì¶\n            }\n          }}\n        />\n      ) : currentInterpretation && selectedConversationItem === 'interpretation' ? (\n        // Ìï¥ÏÑù Î™®ÎìúÏùº Îïå InterpretationView ÏÇ¨Ïö©\n        renderInterpretationView()\n      ) : (\n        <>\n      <ChatContent ref={chatContentRef}>\n        {/* {error && (\n          <ErrorMessage onClick={onClearError}>\n            {error} (ÌÅ¥Î¶≠ÌïòÏó¨ Îã´Í∏∞)\n          </ErrorMessage>\n        )} */}\n\n            {!selectedConversation && !currentInterpretation && globalMessages.length === 0 && renderEmptyState()}\n            {!selectedConversation && !currentInterpretation && globalMessages.length > 0 && renderInitialResponses()}\n        {selectedConversation && renderConversation()}\n\n        {isLoading && <LoadingSpinner />}\n      </ChatContent>\n\n      <MessageInput\n        onSendMessage={handleSendMessage}\n        disabled={isLoading || Object.keys(personas).length === 0}\n        placeholder={\n          selectedConversation && currentConversation\n            ? `${personas[currentConversation.persona_id]?.name}ÏóêÍ≤å Î©îÏãúÏßÄÎ•º Î≥¥ÎÇ¥ÏÑ∏Ïöî...`\n            : \"Î™®Îì† ÌéòÎ•¥ÏÜåÎÇòÏóêÍ≤å ÏßàÎ¨∏Ìï¥Î≥¥ÏÑ∏Ïöî...\"\n        }\n      />\n        </>\n      )}\n    </MainArea>\n  );\n};\n\nexport default ChatArea; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}