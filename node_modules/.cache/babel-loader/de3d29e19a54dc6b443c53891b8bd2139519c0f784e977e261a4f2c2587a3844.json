{"ast":null,"code":"import axios from'axios';export const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8000';const api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});export const chatApi={// 페르소나 정보 가져오기\nasync getPersonas(){try{const response=await api.get('/personas');return{data:response.data};}catch(error){var _error$response,_error$response$data;return{error:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'페르소나 정보를 가져오는데 실패했습니다.'};}},// 해석 상태 조회\nasync getInterpretationStatus(){try{const response=await api.get('/interpretations/status');return{data:response.data};}catch(error){var _error$response2,_error$response2$data;return{error:((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'해석 상태 조회에 실패했습니다.'};}},// 해석 생성\nasync generateInterpretation(request){try{const response=await api.post('/interpretations/generate',request);return{data:response.data};}catch(error){var _error$response3,_error$response3$data;return{error:((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||'해석 생성에 실패했습니다.'};}},// 해석 조회\nasync getInterpretation(personaId){try{const response=await api.get(\"/interpretations/\".concat(personaId));return{data:response.data};}catch(error){var _error$response4,_error$response4$data;return{error:((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||'해석 조회에 실패했습니다.'};}},// 초기 채팅 (모든 페르소나 응답)\nasync sendInitialMessage(content){try{const response=await api.post('/chat/initial',{content});return{data:response.data};}catch(error){var _error$response5,_error$response5$data;return{error:((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||'메시지 전송에 실패했습니다.'};}},// 특정 페르소나와 대화 이어가기\nasync continueConversation(persona_id,user_message,conversation_id){try{const response=await api.post('/chat/continue',{persona_id,user_message,conversation_id});return{data:response.data};}catch(error){var _error$response6,_error$response6$data;return{error:((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.detail)||'대화 이어가기에 실패했습니다.'};}},// 특정 대화 기록 가져오기\nasync getConversation(conversation_id){try{const response=await api.get(\"/conversations/\".concat(conversation_id));return{data:response.data};}catch(error){var _error$response7,_error$response7$data;return{error:((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.detail)||'대화 기록을 가져오는데 실패했습니다.'};}},// 모든 대화 기록 가져오기\nasync getAllConversations(){try{const response=await api.get('/conversations');return{data:response.data};}catch(error){var _error$response8,_error$response8$data;return{error:((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.detail)||'대화 목록을 가져오는데 실패했습니다.'};}},// 전체 메시지 기록 가져오기\nasync getGlobalMessages(){try{const response=await api.get('/messages');return{data:response.data};}catch(error){var _error$response9,_error$response9$data;return{error:((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.detail)||'메시지 기록을 가져오는데 실패했습니다.'};}},// 메시지 수정\nasync editMessage(conversationId,messageIndex,newContent){try{const response=await api.put(\"/conversations/\".concat(conversationId,\"/messages/\").concat(messageIndex),{new_content:newContent});return{data:response.data};}catch(error){var _error$response0,_error$response0$data;return{error:((_error$response0=error.response)===null||_error$response0===void 0?void 0:(_error$response0$data=_error$response0.data)===null||_error$response0$data===void 0?void 0:_error$response0$data.detail)||'메시지 수정에 실패했습니다.'};}},// 스레드 메시지 수정\nasync editThreadMessage(threadId,messageIndex,newContent){try{const response=await api.put(\"/threads/\".concat(threadId,\"/messages/\").concat(messageIndex),{new_content:newContent});return{data:response.data};}catch(error){var _error$response1,_error$response1$data;return{error:((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.detail)||'스레드 메시지 수정에 실패했습니다.'};}},// 모든 페르소나의 자동 해석 생성\nasync generateAllInterpretations(){try{const response=await api.post('/interpretations/generate-all');return{data:response.data};}catch(error){var _error$response10,_error$response10$dat;return{error:((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.detail)||'전체 해석 생성에 실패했습니다.'};}},// 해석된 내용을 기반으로 페르소나와 대화\nasync chatWithInterpretation(personaId,message){try{const response=await api.post('/interpretations/chat-with-interpretation',{persona_id:personaId,user_message:message});return{data:response.data};}catch(error){var _error$response11,_error$response11$dat;return{error:((_error$response11=error.response)===null||_error$response11===void 0?void 0:(_error$response11$dat=_error$response11.data)===null||_error$response11$dat===void 0?void 0:_error$response11$dat.detail)||'해석 기반 채팅에 실패했습니다.'};}},// 컨텍스트 기반 범용 채팅 (해석/나아가기/문장 모두 지원)\nasync chatWithContext(personaId,message,contextType,contextContent,threadId){try{const response=await api.post('/chat/with-context',{persona_id:personaId,user_message:message,context_type:contextType,context_content:contextContent,thread_id:threadId});return{data:response.data};}catch(error){var _error$response12,_error$response12$dat;return{error:((_error$response12=error.response)===null||_error$response12===void 0?void 0:(_error$response12$dat=_error$response12.data)===null||_error$response12$dat===void 0?void 0:_error$response12$dat.detail)||'컨텍스트 기반 채팅에 실패했습니다.'};}},// ========== 새로운 기능: 나아가기, 문장, 상호작용 기록 ==========\n// 나아가기 생성\nasync generateProceed(request){try{const response=await api.post('/proceed/generate',request);return{data:response.data};}catch(error){var _error$response13,_error$response13$dat;return{error:((_error$response13=error.response)===null||_error$response13===void 0?void 0:(_error$response13$dat=_error$response13.data)===null||_error$response13$dat===void 0?void 0:_error$response13$dat.detail)||'나아가기 생성에 실패했습니다.'};}},// 문장 생성\nasync generateSentence(request){try{const response=await api.post('/sentence/generate',request);return{data:response.data};}catch(error){var _error$response14,_error$response14$dat;return{error:((_error$response14=error.response)===null||_error$response14===void 0?void 0:(_error$response14$dat=_error$response14.data)===null||_error$response14$dat===void 0?void 0:_error$response14$dat.detail)||'문장 생성에 실패했습니다.'};}},// 나아가기 내용 조회\nasync getProceedContent(personaId){const response=await fetch(\"\".concat(API_BASE_URL,\"/proceed/\").concat(personaId));if(response.ok){const data=await response.json();return{data};}else{const errorText=await response.text();return{error:errorText};}},// 문장 내용 조회\nasync getSentenceContent(personaId){const response=await fetch(\"\".concat(API_BASE_URL,\"/sentence/\").concat(personaId));if(response.ok){const data=await response.json();return{data};}else{const errorText=await response.text();return{error:errorText};}},// 특정 페르소나의 모든 스레드 조회\nasync getPersonaThreads(personaId){try{const response=await api.get(\"/threads/\".concat(personaId));return{data:response.data};}catch(error){var _error$response15,_error$response15$dat;return{error:((_error$response15=error.response)===null||_error$response15===void 0?void 0:(_error$response15$dat=_error$response15.data)===null||_error$response15$dat===void 0?void 0:_error$response15$dat.detail)||'스레드 조회에 실패했습니다.'};}},// 특정 페르소나의 특정 타입 스레드 조회\nasync getPersonaThreadsByType(personaId,threadType){try{const response=await api.get(\"/threads/\".concat(personaId,\"/\").concat(threadType));return{data:response.data};}catch(error){var _error$response16,_error$response16$dat;return{error:((_error$response16=error.response)===null||_error$response16===void 0?void 0:(_error$response16$dat=_error$response16.data)===null||_error$response16$dat===void 0?void 0:_error$response16$dat.detail)||'스레드 조회에 실패했습니다.'};}},// 스레드와 채팅\nasync chatWithThread(request){try{const response=await api.post('/threads/chat',request);return{data:response.data};}catch(error){var _error$response17,_error$response17$dat;return{error:((_error$response17=error.response)===null||_error$response17===void 0?void 0:(_error$response17$dat=_error$response17.data)===null||_error$response17$dat===void 0?void 0:_error$response17$dat.detail)||'스레드 채팅에 실패했습니다.'};}},// 모든 상호작용 기록 조회\nasync getAllInteractionRecords(){try{const response=await api.get('/interaction-records');return{data:response.data};}catch(error){var _error$response18,_error$response18$dat;return{error:((_error$response18=error.response)===null||_error$response18===void 0?void 0:(_error$response18$dat=_error$response18.data)===null||_error$response18$dat===void 0?void 0:_error$response18$dat.detail)||'상호작용 기록 조회에 실패했습니다.'};}},// 특정 페르소나의 상호작용 기록 조회\nasync getInteractionRecord(personaId){try{const response=await api.get(\"/interaction-records/\".concat(personaId));return{data:response.data};}catch(error){var _error$response19,_error$response19$dat;return{error:((_error$response19=error.response)===null||_error$response19===void 0?void 0:(_error$response19$dat=_error$response19.data)===null||_error$response19$dat===void 0?void 0:_error$response19$dat.detail)||'상호작용 기록 조회에 실패했습니다.'};}},// 해석 생성과 동시에 나아가기, 문장도 자동 생성\nasync generateInterpretationWithExtras(request){try{const response=await api.post('/interpretations/generate-with-extras',request);return{data:response.data};}catch(error){var _error$response20,_error$response20$dat;return{error:((_error$response20=error.response)===null||_error$response20===void 0?void 0:(_error$response20$dat=_error$response20.data)===null||_error$response20$dat===void 0?void 0:_error$response20$dat.detail)||'해석 및 추가 기능 생성에 실패했습니다.'};}},async deleteThread(threadId){console.log('=== deleteThread API 호출 시작 ===');console.log('threadId:',threadId);console.log('API_BASE_URL:',API_BASE_URL);try{const url=\"\".concat(API_BASE_URL,\"/threads/\").concat(threadId);console.log('요청 URL:',url);// 타임아웃 설정 (10초)\nconst controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),10000);const response=await fetch(url,{method:'DELETE',signal:controller.signal,headers:{'Content-Type':'application/json'}});clearTimeout(timeoutId);console.log('HTTP 응답 상태:',response.status);console.log('HTTP 응답 OK:',response.ok);if(response.ok){const data=await response.json();console.log('응답 데이터:',data);return{data};}else{const errorText=await response.text();console.error('HTTP 오류 응답:',errorText);return{error:\"\\uC11C\\uBC84 \\uC624\\uB958 (\".concat(response.status,\"): \").concat(errorText)};}}catch(error){var _error$message,_error$message2;console.error('네트워크 오류:',error);if(error.name==='AbortError'){return{error:'요청 시간 초과: 서버 응답이 너무 늦습니다.'};}else if((_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('Failed to fetch')||(_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('fetch')){return{error:'백엔드 서버에 연결할 수 없습니다. 서버가 실행 중인지 확인해주세요.'};}else{return{error:\"\\uB124\\uD2B8\\uC6CC\\uD06C \\uC624\\uB958: \".concat(error.message||error)};}}},// 현재 내용을 나아가기로 저장 (생성하지 않고 그대로 저장)\nasync saveCurrentAsProceed(personaId,content){try{const response=await api.post('/proceed/save',{persona_id:personaId,content:content});return{data:response.data};}catch(error){var _error$response21,_error$response21$dat;return{error:((_error$response21=error.response)===null||_error$response21===void 0?void 0:(_error$response21$dat=_error$response21.data)===null||_error$response21$dat===void 0?void 0:_error$response21$dat.detail)||'나아가기 저장에 실패했습니다.'};}},// 현재 내용을 문장으로 저장 (생성하지 않고 그대로 저장)\nasync saveCurrentAsSentence(personaId,content){try{const response=await api.post('/sentence/save',{persona_id:personaId,content:content});return{data:response.data};}catch(error){var _error$response22,_error$response22$dat;return{error:((_error$response22=error.response)===null||_error$response22===void 0?void 0:(_error$response22$dat=_error$response22.data)===null||_error$response22$dat===void 0?void 0:_error$response22$dat.detail)||'문장 저장에 실패했습니다.'};}},// 현재 내용을 해석에 추가 저장 (생성하지 않고 그대로 저장)\nasync saveCurrentAsInterpretation(personaId,content){try{const response=await api.post('/interpretations/save',{persona_id:personaId,content:content});return{data:response.data};}catch(error){var _error$response23,_error$response23$dat;return{error:((_error$response23=error.response)===null||_error$response23===void 0?void 0:(_error$response23$dat=_error$response23.data)===null||_error$response23$dat===void 0?void 0:_error$response23$dat.detail)||'해석 저장에 실패했습니다.'};}},// ========== 언어화 기능 ==========\n// 언어화 채팅\nasync chatWithVerbalization(userMessage,threadId){try{const response=await api.post('/verbalization/chat',{user_message:userMessage,thread_id:threadId});return{data:response.data};}catch(error){var _error$response24,_error$response24$dat;return{error:((_error$response24=error.response)===null||_error$response24===void 0?void 0:(_error$response24$dat=_error$response24.data)===null||_error$response24$dat===void 0?void 0:_error$response24$dat.detail)||'언어화 채팅에 실패했습니다.'};}},// 모든 언어화 스레드 조회\nasync getVerbalizationThreads(){try{const response=await api.get('/verbalization/threads');return{data:response.data};}catch(error){var _error$response25,_error$response25$dat;return{error:((_error$response25=error.response)===null||_error$response25===void 0?void 0:(_error$response25$dat=_error$response25.data)===null||_error$response25$dat===void 0?void 0:_error$response25$dat.detail)||'언어화 스레드 조회에 실패했습니다.'};}},// 새 언어화 스레드 생성\nasync createNewVerbalizationThread(){try{const response=await api.post('/verbalization/new-thread');return{data:response.data};}catch(error){var _error$response26,_error$response26$dat;return{error:((_error$response26=error.response)===null||_error$response26===void 0?void 0:(_error$response26$dat=_error$response26.data)===null||_error$response26$dat===void 0?void 0:_error$response26$dat.detail)||'새 언어화 스레드 생성에 실패했습니다.'};}}};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","chatApi","getPersonas","response","get","data","error","_error$response","_error$response$data","detail","getInterpretationStatus","_error$response2","_error$response2$data","generateInterpretation","request","post","_error$response3","_error$response3$data","getInterpretation","personaId","concat","_error$response4","_error$response4$data","sendInitialMessage","content","_error$response5","_error$response5$data","continueConversation","persona_id","user_message","conversation_id","_error$response6","_error$response6$data","getConversation","_error$response7","_error$response7$data","getAllConversations","_error$response8","_error$response8$data","getGlobalMessages","_error$response9","_error$response9$data","editMessage","conversationId","messageIndex","newContent","put","new_content","_error$response0","_error$response0$data","editThreadMessage","threadId","_error$response1","_error$response1$data","generateAllInterpretations","_error$response10","_error$response10$dat","chatWithInterpretation","message","_error$response11","_error$response11$dat","chatWithContext","contextType","contextContent","context_type","context_content","thread_id","_error$response12","_error$response12$dat","generateProceed","_error$response13","_error$response13$dat","generateSentence","_error$response14","_error$response14$dat","getProceedContent","fetch","ok","json","errorText","text","getSentenceContent","getPersonaThreads","_error$response15","_error$response15$dat","getPersonaThreadsByType","threadType","_error$response16","_error$response16$dat","chatWithThread","_error$response17","_error$response17$dat","getAllInteractionRecords","_error$response18","_error$response18$dat","getInteractionRecord","_error$response19","_error$response19$dat","generateInterpretationWithExtras","_error$response20","_error$response20$dat","deleteThread","console","log","url","controller","AbortController","timeoutId","setTimeout","abort","method","signal","clearTimeout","status","_error$message","_error$message2","name","includes","saveCurrentAsProceed","_error$response21","_error$response21$dat","saveCurrentAsSentence","_error$response22","_error$response22$dat","saveCurrentAsInterpretation","_error$response23","_error$response23$dat","chatWithVerbalization","userMessage","_error$response24","_error$response24$dat","getVerbalizationThreads","_error$response25","_error$response25$dat","createNewVerbalizationThread","_error$response26","_error$response26$dat"],"sources":["C:/Users/sungh/Desktop/chat_work/frontend/src/features/shared/api/chatApi.ts"],"sourcesContent":["import axios from 'axios';\nimport { \n  Persona, PersonaResponse, Conversation, GlobalMessage, ApiResponse,\n  InterpretationStatus, InterpretationResponse, InterpretationRequest,\n  ProceedRequest, ProceedResponse, SentenceRequest, SentenceResponse,\n  TrainingThread, InteractionRecord, ThreadChatRequest, ThreadChatResponse,\n  GenerateWithExtrasResponse\n} from '../types';\n\nexport const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const chatApi = {\n  // 페르소나 정보 가져오기\n  async getPersonas(): Promise<ApiResponse<Record<string, Persona>>> {\n    try {\n      const response = await api.get('/personas');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '페르소나 정보를 가져오는데 실패했습니다.' };\n    }\n  },\n\n  // 해석 상태 조회\n  async getInterpretationStatus(): Promise<ApiResponse<InterpretationStatus[]>> {\n    try {\n      const response = await api.get('/interpretations/status');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '해석 상태 조회에 실패했습니다.' };\n    }\n  },\n\n  // 해석 생성\n  async generateInterpretation(request: InterpretationRequest): Promise<ApiResponse<InterpretationResponse>> {\n    try {\n      const response = await api.post('/interpretations/generate', request);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '해석 생성에 실패했습니다.' };\n    }\n  },\n\n  // 해석 조회\n  async getInterpretation(personaId: string): Promise<ApiResponse<InterpretationResponse>> {\n    try {\n      const response = await api.get(`/interpretations/${personaId}`);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '해석 조회에 실패했습니다.' };\n    }\n  },\n\n  // 초기 채팅 (모든 페르소나 응답)\n  async sendInitialMessage(content: string): Promise<ApiResponse<{\n    message_id: string;\n    responses: PersonaResponse[];\n  }>> {\n    try {\n      const response = await api.post('/chat/initial', { content });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '메시지 전송에 실패했습니다.' };\n    }\n  },\n\n  // 특정 페르소나와 대화 이어가기\n  async continueConversation(\n    persona_id: string,\n    user_message: string,\n    conversation_id: string\n  ): Promise<ApiResponse<PersonaResponse>> {\n    try {\n      const response = await api.post('/chat/continue', {\n        persona_id,\n        user_message,\n        conversation_id,\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '대화 이어가기에 실패했습니다.' };\n    }\n  },\n\n  // 특정 대화 기록 가져오기\n  async getConversation(conversation_id: string): Promise<ApiResponse<Conversation>> {\n    try {\n      const response = await api.get(`/conversations/${conversation_id}`);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '대화 기록을 가져오는데 실패했습니다.' };\n    }\n  },\n\n  // 모든 대화 기록 가져오기\n  async getAllConversations(): Promise<ApiResponse<Conversation[]>> {\n    try {\n      const response = await api.get('/conversations');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '대화 목록을 가져오는데 실패했습니다.' };\n    }\n  },\n\n  // 전체 메시지 기록 가져오기\n  async getGlobalMessages(): Promise<ApiResponse<GlobalMessage[]>> {\n    try {\n      const response = await api.get('/messages');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '메시지 기록을 가져오는데 실패했습니다.' };\n    }\n  },\n\n  // 메시지 수정\n  async editMessage(\n    conversationId: string,\n    messageIndex: number,\n    newContent: string\n  ): Promise<ApiResponse<{ \n    success: boolean; \n    message: string; \n    updated_conversation?: Conversation;\n    new_response?: PersonaResponse;\n  }>> {\n    try {\n      const response = await api.put(`/conversations/${conversationId}/messages/${messageIndex}`, {\n        new_content: newContent\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '메시지 수정에 실패했습니다.' };\n    }\n  },\n\n  // 스레드 메시지 수정\n  async editThreadMessage(\n    threadId: string,\n    messageIndex: number,\n    newContent: string\n  ): Promise<ApiResponse<{ \n    success: boolean; \n    message: string; \n    updated_thread?: TrainingThread;\n  }>> {\n    try {\n      const response = await api.put(`/threads/${threadId}/messages/${messageIndex}`, {\n        new_content: newContent\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '스레드 메시지 수정에 실패했습니다.' };\n    }\n  },\n\n  // 모든 페르소나의 자동 해석 생성\n  async generateAllInterpretations(): Promise<ApiResponse<{\n    message: string;\n    interpretations: InterpretationResponse[];\n    total_count: number;\n  }>> {\n    try {\n      const response = await api.post('/interpretations/generate-all');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '전체 해석 생성에 실패했습니다.' };\n    }\n  },\n\n  // 해석된 내용을 기반으로 페르소나와 대화\n  async chatWithInterpretation(\n    personaId: string,\n    message: string\n  ): Promise<ApiResponse<{\n    persona_id: string;\n    persona_name: string;\n    user_message: string;\n    response: string;\n    interpretation_used: boolean;\n    timestamp: string;\n  }>> {\n    try {\n      const response = await api.post('/interpretations/chat-with-interpretation', {\n        persona_id: personaId,\n        user_message: message\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '해석 기반 채팅에 실패했습니다.' };\n    }\n  },\n\n  // 컨텍스트 기반 범용 채팅 (해석/나아가기/문장 모두 지원)\n  async chatWithContext(\n    personaId: string,\n    message: string,\n    contextType: 'interpretation' | 'proceed' | 'sentence',\n    contextContent?: string,\n    threadId?: string\n  ): Promise<ApiResponse<{\n    persona_id: string;\n    persona_name: string;\n    user_message: string;\n    response: string;\n    context_type: string;\n    context_used: boolean;\n    is_first_message: boolean;\n    conversation_id: string;\n    timestamp: string;\n  }>> {\n    try {\n      const response = await api.post('/chat/with-context', {\n        persona_id: personaId,\n        user_message: message,\n        context_type: contextType,\n        context_content: contextContent,\n        thread_id: threadId\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '컨텍스트 기반 채팅에 실패했습니다.' };\n    }\n  },\n\n  // ========== 새로운 기능: 나아가기, 문장, 상호작용 기록 ==========\n\n  // 나아가기 생성\n  async generateProceed(request: ProceedRequest): Promise<ApiResponse<ProceedResponse>> {\n    try {\n      const response = await api.post('/proceed/generate', request);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '나아가기 생성에 실패했습니다.' };\n    }\n  },\n\n  // 문장 생성\n  async generateSentence(request: SentenceRequest): Promise<ApiResponse<SentenceResponse>> {\n    try {\n      const response = await api.post('/sentence/generate', request);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '문장 생성에 실패했습니다.' };\n    }\n  },\n\n  // 나아가기 내용 조회\n  async getProceedContent(personaId: string): Promise<ApiResponse<{ proceed_content: string }>> {\n    const response = await fetch(`${API_BASE_URL}/proceed/${personaId}`);\n\n    if (response.ok) {\n      const data = await response.json();\n      return { data };\n    } else {\n      const errorText = await response.text();\n      return { error: errorText };\n    }\n  },\n\n  // 문장 내용 조회\n  async getSentenceContent(personaId: string): Promise<ApiResponse<{ sentence_content: string }>> {\n    const response = await fetch(`${API_BASE_URL}/sentence/${personaId}`);\n\n    if (response.ok) {\n      const data = await response.json();\n      return { data };\n    } else {\n      const errorText = await response.text();\n      return { error: errorText };\n    }\n  },\n\n  // 특정 페르소나의 모든 스레드 조회\n  async getPersonaThreads(personaId: string): Promise<ApiResponse<TrainingThread[]>> {\n    try {\n      const response = await api.get(`/threads/${personaId}`);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '스레드 조회에 실패했습니다.' };\n    }\n  },\n\n  // 특정 페르소나의 특정 타입 스레드 조회\n  async getPersonaThreadsByType(personaId: string, threadType: string): Promise<ApiResponse<TrainingThread[]>> {\n    try {\n      const response = await api.get(`/threads/${personaId}/${threadType}`);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '스레드 조회에 실패했습니다.' };\n    }\n  },\n\n  // 스레드와 채팅\n  async chatWithThread(request: ThreadChatRequest): Promise<ApiResponse<ThreadChatResponse>> {\n    try {\n      const response = await api.post('/threads/chat', request);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '스레드 채팅에 실패했습니다.' };\n    }\n  },\n\n  // 모든 상호작용 기록 조회\n  async getAllInteractionRecords(): Promise<ApiResponse<InteractionRecord[]>> {\n    try {\n      const response = await api.get('/interaction-records');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '상호작용 기록 조회에 실패했습니다.' };\n    }\n  },\n\n  // 특정 페르소나의 상호작용 기록 조회\n  async getInteractionRecord(personaId: string): Promise<ApiResponse<InteractionRecord>> {\n    try {\n      const response = await api.get(`/interaction-records/${personaId}`);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '상호작용 기록 조회에 실패했습니다.' };\n    }\n  },\n\n  // 해석 생성과 동시에 나아가기, 문장도 자동 생성\n  async generateInterpretationWithExtras(request: InterpretationRequest): Promise<ApiResponse<GenerateWithExtrasResponse>> {\n    try {\n      const response = await api.post('/interpretations/generate-with-extras', request);\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '해석 및 추가 기능 생성에 실패했습니다.' };\n    }\n  },\n\n  async deleteThread(threadId: string): Promise<ApiResponse<{ success: boolean; message: string }>> {\n    console.log('=== deleteThread API 호출 시작 ===');\n    console.log('threadId:', threadId);\n    console.log('API_BASE_URL:', API_BASE_URL);\n    \n    try {\n      const url = `${API_BASE_URL}/threads/${threadId}`;\n      console.log('요청 URL:', url);\n      \n      // 타임아웃 설정 (10초)\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000);\n      \n      const response = await fetch(url, {\n      method: 'DELETE',\n        signal: controller.signal,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n    });\n      \n      clearTimeout(timeoutId);\n      \n      console.log('HTTP 응답 상태:', response.status);\n      console.log('HTTP 응답 OK:', response.ok);\n\n    if (response.ok) {\n      const data = await response.json();\n        console.log('응답 데이터:', data);\n      return { data };\n    } else {\n      const errorText = await response.text();\n        console.error('HTTP 오류 응답:', errorText);\n        return { error: `서버 오류 (${response.status}): ${errorText}` };\n      }\n    } catch (error: any) {\n      console.error('네트워크 오류:', error);\n      \n      if (error.name === 'AbortError') {\n        return { error: '요청 시간 초과: 서버 응답이 너무 늦습니다.' };\n      } else if (error.message?.includes('Failed to fetch') || error.message?.includes('fetch')) {\n        return { error: '백엔드 서버에 연결할 수 없습니다. 서버가 실행 중인지 확인해주세요.' };\n      } else {\n        return { error: `네트워크 오류: ${error.message || error}` };\n      }\n    }\n  },\n\n  // 현재 내용을 나아가기로 저장 (생성하지 않고 그대로 저장)\n  async saveCurrentAsProceed(personaId: string, content: string): Promise<ApiResponse<ProceedResponse>> {\n    try {\n      const response = await api.post('/proceed/save', {\n        persona_id: personaId,\n        content: content\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '나아가기 저장에 실패했습니다.' };\n    }\n  },\n\n  // 현재 내용을 문장으로 저장 (생성하지 않고 그대로 저장)\n  async saveCurrentAsSentence(personaId: string, content: string): Promise<ApiResponse<SentenceResponse>> {\n    try {\n      const response = await api.post('/sentence/save', {\n        persona_id: personaId,\n        content: content\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '문장 저장에 실패했습니다.' };\n    }\n  },\n\n  // 현재 내용을 해석에 추가 저장 (생성하지 않고 그대로 저장)\n  async saveCurrentAsInterpretation(personaId: string, content: string): Promise<ApiResponse<InterpretationResponse>> {\n    try {\n      const response = await api.post('/interpretations/save', {\n        persona_id: personaId,\n        content: content\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '해석 저장에 실패했습니다.' };\n    }\n  },\n\n  // ========== 언어화 기능 ==========\n\n  // 언어화 채팅\n  async chatWithVerbalization(\n    userMessage: string,\n    threadId?: string\n  ): Promise<ApiResponse<ThreadChatResponse>> {\n    try {\n      const response = await api.post('/verbalization/chat', {\n        user_message: userMessage,\n        thread_id: threadId\n      });\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '언어화 채팅에 실패했습니다.' };\n    }\n  },\n\n  // 모든 언어화 스레드 조회\n  async getVerbalizationThreads(): Promise<ApiResponse<TrainingThread[]>> {\n    try {\n      const response = await api.get('/verbalization/threads');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '언어화 스레드 조회에 실패했습니다.' };\n    }\n  },\n\n  // 새 언어화 스레드 생성\n  async createNewVerbalizationThread(): Promise<ApiResponse<TrainingThread>> {\n    try {\n      const response = await api.post('/verbalization/new-thread');\n      return { data: response.data };\n    } catch (error: any) {\n      return { error: error.response?.data?.detail || '새 언어화 스레드 생성에 실패했습니다.' };\n    }\n  },\n}; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CASzB,MAAO,MAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAEpF,KAAM,CAAAC,GAAG,CAAGL,KAAK,CAACM,MAAM,CAAC,CACvBC,OAAO,CAAEN,YAAY,CACrBO,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,OAAO,CAAG,CACrB;AACA,KAAM,CAAAC,WAAWA,CAAA,CAAkD,CACjE,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,CAAC,WAAW,CAAC,CAC3C,MAAO,CAAEC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACnB,MAAO,CAAEF,KAAK,CAAE,EAAAC,eAAA,CAAAD,KAAK,CAACH,QAAQ,UAAAI,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBF,IAAI,UAAAG,oBAAA,iBAApBA,oBAAA,CAAsBC,MAAM,GAAI,wBAAyB,CAAC,CAC5E,CACF,CAAC,CAED;AACA,KAAM,CAAAC,uBAAuBA,CAAA,CAAiD,CAC5E,GAAI,CACF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,CAAC,yBAAyB,CAAC,CACzD,MAAO,CAAEC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAK,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEN,KAAK,CAAE,EAAAK,gBAAA,CAAAL,KAAK,CAACH,QAAQ,UAAAQ,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBN,IAAI,UAAAO,qBAAA,iBAApBA,qBAAA,CAAsBH,MAAM,GAAI,mBAAoB,CAAC,CACvE,CACF,CAAC,CAED;AACA,KAAM,CAAAI,sBAAsBA,CAACC,OAA8B,CAAgD,CACzG,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,2BAA2B,CAAED,OAAO,CAAC,CACrE,MAAO,CAAET,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAU,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEX,KAAK,CAAE,EAAAU,gBAAA,CAAAV,KAAK,CAACH,QAAQ,UAAAa,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBX,IAAI,UAAAY,qBAAA,iBAApBA,qBAAA,CAAsBR,MAAM,GAAI,gBAAiB,CAAC,CACpE,CACF,CAAC,CAED;AACA,KAAM,CAAAS,iBAAiBA,CAACC,SAAiB,CAAgD,CACvF,GAAI,CACF,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,qBAAAgB,MAAA,CAAqBD,SAAS,CAAE,CAAC,CAC/D,MAAO,CAAEd,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAe,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEhB,KAAK,CAAE,EAAAe,gBAAA,CAAAf,KAAK,CAACH,QAAQ,UAAAkB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBhB,IAAI,UAAAiB,qBAAA,iBAApBA,qBAAA,CAAsBb,MAAM,GAAI,gBAAiB,CAAC,CACpE,CACF,CAAC,CAED;AACA,KAAM,CAAAc,kBAAkBA,CAACC,OAAe,CAGpC,CACF,GAAI,CACF,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,eAAe,CAAE,CAAES,OAAQ,CAAC,CAAC,CAC7D,MAAO,CAAEnB,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAmB,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEpB,KAAK,CAAE,EAAAmB,gBAAA,CAAAnB,KAAK,CAACH,QAAQ,UAAAsB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBpB,IAAI,UAAAqB,qBAAA,iBAApBA,qBAAA,CAAsBjB,MAAM,GAAI,iBAAkB,CAAC,CACrE,CACF,CAAC,CAED;AACA,KAAM,CAAAkB,oBAAoBA,CACxBC,UAAkB,CAClBC,YAAoB,CACpBC,eAAuB,CACgB,CACvC,GAAI,CACF,KAAM,CAAA3B,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,gBAAgB,CAAE,CAChDa,UAAU,CACVC,YAAY,CACZC,eACF,CAAC,CAAC,CACF,MAAO,CAAEzB,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAyB,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE1B,KAAK,CAAE,EAAAyB,gBAAA,CAAAzB,KAAK,CAACH,QAAQ,UAAA4B,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB1B,IAAI,UAAA2B,qBAAA,iBAApBA,qBAAA,CAAsBvB,MAAM,GAAI,kBAAmB,CAAC,CACtE,CACF,CAAC,CAED;AACA,KAAM,CAAAwB,eAAeA,CAACH,eAAuB,CAAsC,CACjF,GAAI,CACF,KAAM,CAAA3B,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,mBAAAgB,MAAA,CAAmBU,eAAe,CAAE,CAAC,CACnE,MAAO,CAAEzB,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA4B,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE7B,KAAK,CAAE,EAAA4B,gBAAA,CAAA5B,KAAK,CAACH,QAAQ,UAAA+B,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB7B,IAAI,UAAA8B,qBAAA,iBAApBA,qBAAA,CAAsB1B,MAAM,GAAI,sBAAuB,CAAC,CAC1E,CACF,CAAC,CAED;AACA,KAAM,CAAA2B,mBAAmBA,CAAA,CAAyC,CAChE,GAAI,CACF,KAAM,CAAAjC,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,CAAC,gBAAgB,CAAC,CAChD,MAAO,CAAEC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA+B,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEhC,KAAK,CAAE,EAAA+B,gBAAA,CAAA/B,KAAK,CAACH,QAAQ,UAAAkC,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBhC,IAAI,UAAAiC,qBAAA,iBAApBA,qBAAA,CAAsB7B,MAAM,GAAI,sBAAuB,CAAC,CAC1E,CACF,CAAC,CAED;AACA,KAAM,CAAA8B,iBAAiBA,CAAA,CAA0C,CAC/D,GAAI,CACF,KAAM,CAAApC,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,CAAC,WAAW,CAAC,CAC3C,MAAO,CAAEC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAkC,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEnC,KAAK,CAAE,EAAAkC,gBAAA,CAAAlC,KAAK,CAACH,QAAQ,UAAAqC,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBnC,IAAI,UAAAoC,qBAAA,iBAApBA,qBAAA,CAAsBhC,MAAM,GAAI,uBAAwB,CAAC,CAC3E,CACF,CAAC,CAED;AACA,KAAM,CAAAiC,WAAWA,CACfC,cAAsB,CACtBC,YAAoB,CACpBC,UAAkB,CAMhB,CACF,GAAI,CACF,KAAM,CAAA1C,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACiD,GAAG,mBAAA1B,MAAA,CAAmBuB,cAAc,eAAAvB,MAAA,CAAawB,YAAY,EAAI,CAC1FG,WAAW,CAAEF,UACf,CAAC,CAAC,CACF,MAAO,CAAExC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA0C,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE3C,KAAK,CAAE,EAAA0C,gBAAA,CAAA1C,KAAK,CAACH,QAAQ,UAAA6C,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB3C,IAAI,UAAA4C,qBAAA,iBAApBA,qBAAA,CAAsBxC,MAAM,GAAI,iBAAkB,CAAC,CACrE,CACF,CAAC,CAED;AACA,KAAM,CAAAyC,iBAAiBA,CACrBC,QAAgB,CAChBP,YAAoB,CACpBC,UAAkB,CAKhB,CACF,GAAI,CACF,KAAM,CAAA1C,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACiD,GAAG,aAAA1B,MAAA,CAAa+B,QAAQ,eAAA/B,MAAA,CAAawB,YAAY,EAAI,CAC9EG,WAAW,CAAEF,UACf,CAAC,CAAC,CACF,MAAO,CAAExC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA8C,gBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE/C,KAAK,CAAE,EAAA8C,gBAAA,CAAA9C,KAAK,CAACH,QAAQ,UAAAiD,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB/C,IAAI,UAAAgD,qBAAA,iBAApBA,qBAAA,CAAsB5C,MAAM,GAAI,qBAAsB,CAAC,CACzE,CACF,CAAC,CAED;AACA,KAAM,CAAA6C,0BAA0BA,CAAA,CAI5B,CACF,GAAI,CACF,KAAM,CAAAnD,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,+BAA+B,CAAC,CAChE,MAAO,CAAEV,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAiD,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAElD,KAAK,CAAE,EAAAiD,iBAAA,CAAAjD,KAAK,CAACH,QAAQ,UAAAoD,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBlD,IAAI,UAAAmD,qBAAA,iBAApBA,qBAAA,CAAsB/C,MAAM,GAAI,mBAAoB,CAAC,CACvE,CACF,CAAC,CAED;AACA,KAAM,CAAAgD,sBAAsBA,CAC1BtC,SAAiB,CACjBuC,OAAe,CAQb,CACF,GAAI,CACF,KAAM,CAAAvD,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,2CAA2C,CAAE,CAC3Ea,UAAU,CAAET,SAAS,CACrBU,YAAY,CAAE6B,OAChB,CAAC,CAAC,CACF,MAAO,CAAErD,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAqD,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEtD,KAAK,CAAE,EAAAqD,iBAAA,CAAArD,KAAK,CAACH,QAAQ,UAAAwD,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBtD,IAAI,UAAAuD,qBAAA,iBAApBA,qBAAA,CAAsBnD,MAAM,GAAI,mBAAoB,CAAC,CACvE,CACF,CAAC,CAED;AACA,KAAM,CAAAoD,eAAeA,CACnB1C,SAAiB,CACjBuC,OAAe,CACfI,WAAsD,CACtDC,cAAuB,CACvBZ,QAAiB,CAWf,CACF,GAAI,CACF,KAAM,CAAAhD,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,oBAAoB,CAAE,CACpDa,UAAU,CAAET,SAAS,CACrBU,YAAY,CAAE6B,OAAO,CACrBM,YAAY,CAAEF,WAAW,CACzBG,eAAe,CAAEF,cAAc,CAC/BG,SAAS,CAAEf,QACb,CAAC,CAAC,CACF,MAAO,CAAE9C,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA6D,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE9D,KAAK,CAAE,EAAA6D,iBAAA,CAAA7D,KAAK,CAACH,QAAQ,UAAAgE,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB9D,IAAI,UAAA+D,qBAAA,iBAApBA,qBAAA,CAAsB3D,MAAM,GAAI,qBAAsB,CAAC,CACzE,CACF,CAAC,CAED;AAEA;AACA,KAAM,CAAA4D,eAAeA,CAACvD,OAAuB,CAAyC,CACpF,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,mBAAmB,CAAED,OAAO,CAAC,CAC7D,MAAO,CAAET,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAgE,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEjE,KAAK,CAAE,EAAAgE,iBAAA,CAAAhE,KAAK,CAACH,QAAQ,UAAAmE,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBjE,IAAI,UAAAkE,qBAAA,iBAApBA,qBAAA,CAAsB9D,MAAM,GAAI,kBAAmB,CAAC,CACtE,CACF,CAAC,CAED;AACA,KAAM,CAAA+D,gBAAgBA,CAAC1D,OAAwB,CAA0C,CACvF,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,oBAAoB,CAAED,OAAO,CAAC,CAC9D,MAAO,CAAET,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAmE,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAEpE,KAAK,CAAE,EAAAmE,iBAAA,CAAAnE,KAAK,CAACH,QAAQ,UAAAsE,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBpE,IAAI,UAAAqE,qBAAA,iBAApBA,qBAAA,CAAsBjE,MAAM,GAAI,gBAAiB,CAAC,CACpE,CACF,CAAC,CAED;AACA,KAAM,CAAAkE,iBAAiBA,CAACxD,SAAiB,CAAqD,CAC5F,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAyE,KAAK,IAAAxD,MAAA,CAAI3B,YAAY,cAAA2B,MAAA,CAAYD,SAAS,CAAE,CAAC,CAEpE,GAAIhB,QAAQ,CAAC0E,EAAE,CAAE,CACf,KAAM,CAAAxE,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAAC2E,IAAI,CAAC,CAAC,CAClC,MAAO,CAAEzE,IAAK,CAAC,CACjB,CAAC,IAAM,CACL,KAAM,CAAA0E,SAAS,CAAG,KAAM,CAAA5E,QAAQ,CAAC6E,IAAI,CAAC,CAAC,CACvC,MAAO,CAAE1E,KAAK,CAAEyE,SAAU,CAAC,CAC7B,CACF,CAAC,CAED;AACA,KAAM,CAAAE,kBAAkBA,CAAC9D,SAAiB,CAAsD,CAC9F,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAyE,KAAK,IAAAxD,MAAA,CAAI3B,YAAY,eAAA2B,MAAA,CAAaD,SAAS,CAAE,CAAC,CAErE,GAAIhB,QAAQ,CAAC0E,EAAE,CAAE,CACf,KAAM,CAAAxE,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAAC2E,IAAI,CAAC,CAAC,CAClC,MAAO,CAAEzE,IAAK,CAAC,CACjB,CAAC,IAAM,CACL,KAAM,CAAA0E,SAAS,CAAG,KAAM,CAAA5E,QAAQ,CAAC6E,IAAI,CAAC,CAAC,CACvC,MAAO,CAAE1E,KAAK,CAAEyE,SAAU,CAAC,CAC7B,CACF,CAAC,CAED;AACA,KAAM,CAAAG,iBAAiBA,CAAC/D,SAAiB,CAA0C,CACjF,GAAI,CACF,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,aAAAgB,MAAA,CAAaD,SAAS,CAAE,CAAC,CACvD,MAAO,CAAEd,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA6E,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE9E,KAAK,CAAE,EAAA6E,iBAAA,CAAA7E,KAAK,CAACH,QAAQ,UAAAgF,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB9E,IAAI,UAAA+E,qBAAA,iBAApBA,qBAAA,CAAsB3E,MAAM,GAAI,iBAAkB,CAAC,CACrE,CACF,CAAC,CAED;AACA,KAAM,CAAA4E,uBAAuBA,CAAClE,SAAiB,CAAEmE,UAAkB,CAA0C,CAC3G,GAAI,CACF,KAAM,CAAAnF,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,aAAAgB,MAAA,CAAaD,SAAS,MAAAC,MAAA,CAAIkE,UAAU,CAAE,CAAC,CACrE,MAAO,CAAEjF,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAiF,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAElF,KAAK,CAAE,EAAAiF,iBAAA,CAAAjF,KAAK,CAACH,QAAQ,UAAAoF,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBlF,IAAI,UAAAmF,qBAAA,iBAApBA,qBAAA,CAAsB/E,MAAM,GAAI,iBAAkB,CAAC,CACrE,CACF,CAAC,CAED;AACA,KAAM,CAAAgF,cAAcA,CAAC3E,OAA0B,CAA4C,CACzF,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,eAAe,CAAED,OAAO,CAAC,CACzD,MAAO,CAAET,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAoF,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAErF,KAAK,CAAE,EAAAoF,iBAAA,CAAApF,KAAK,CAACH,QAAQ,UAAAuF,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBrF,IAAI,UAAAsF,qBAAA,iBAApBA,qBAAA,CAAsBlF,MAAM,GAAI,iBAAkB,CAAC,CACrE,CACF,CAAC,CAED;AACA,KAAM,CAAAmF,wBAAwBA,CAAA,CAA8C,CAC1E,GAAI,CACF,KAAM,CAAAzF,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,CAAC,sBAAsB,CAAC,CACtD,MAAO,CAAEC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAuF,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAExF,KAAK,CAAE,EAAAuF,iBAAA,CAAAvF,KAAK,CAACH,QAAQ,UAAA0F,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBxF,IAAI,UAAAyF,qBAAA,iBAApBA,qBAAA,CAAsBrF,MAAM,GAAI,qBAAsB,CAAC,CACzE,CACF,CAAC,CAED;AACA,KAAM,CAAAsF,oBAAoBA,CAAC5E,SAAiB,CAA2C,CACrF,GAAI,CACF,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,yBAAAgB,MAAA,CAAyBD,SAAS,CAAE,CAAC,CACnE,MAAO,CAAEd,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA0F,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE3F,KAAK,CAAE,EAAA0F,iBAAA,CAAA1F,KAAK,CAACH,QAAQ,UAAA6F,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB3F,IAAI,UAAA4F,qBAAA,iBAApBA,qBAAA,CAAsBxF,MAAM,GAAI,qBAAsB,CAAC,CACzE,CACF,CAAC,CAED;AACA,KAAM,CAAAyF,gCAAgCA,CAACpF,OAA8B,CAAoD,CACvH,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,uCAAuC,CAAED,OAAO,CAAC,CACjF,MAAO,CAAET,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA6F,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE9F,KAAK,CAAE,EAAA6F,iBAAA,CAAA7F,KAAK,CAACH,QAAQ,UAAAgG,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB9F,IAAI,UAAA+F,qBAAA,iBAApBA,qBAAA,CAAsB3F,MAAM,GAAI,wBAAyB,CAAC,CAC5E,CACF,CAAC,CAED,KAAM,CAAA4F,YAAYA,CAAClD,QAAgB,CAA+D,CAChGmD,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC7CD,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEpD,QAAQ,CAAC,CAClCmD,OAAO,CAACC,GAAG,CAAC,eAAe,CAAE9G,YAAY,CAAC,CAE1C,GAAI,CACF,KAAM,CAAA+G,GAAG,IAAApF,MAAA,CAAM3B,YAAY,cAAA2B,MAAA,CAAY+B,QAAQ,CAAE,CACjDmD,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEC,GAAG,CAAC,CAE3B;AACA,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAC,SAAS,CAAGC,UAAU,CAAC,IAAMH,UAAU,CAACI,KAAK,CAAC,CAAC,CAAE,KAAK,CAAC,CAE7D,KAAM,CAAA1G,QAAQ,CAAG,KAAM,CAAAyE,KAAK,CAAC4B,GAAG,CAAE,CAClCM,MAAM,CAAE,QAAQ,CACdC,MAAM,CAAEN,UAAU,CAACM,MAAM,CACzB/G,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACJ,CAAC,CAAC,CAEAgH,YAAY,CAACL,SAAS,CAAC,CAEvBL,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEpG,QAAQ,CAAC8G,MAAM,CAAC,CAC3CX,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEpG,QAAQ,CAAC0E,EAAE,CAAC,CAEzC,GAAI1E,QAAQ,CAAC0E,EAAE,CAAE,CACf,KAAM,CAAAxE,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAAC2E,IAAI,CAAC,CAAC,CAChCwB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAElG,IAAI,CAAC,CAC9B,MAAO,CAAEA,IAAK,CAAC,CACjB,CAAC,IAAM,CACL,KAAM,CAAA0E,SAAS,CAAG,KAAM,CAAA5E,QAAQ,CAAC6E,IAAI,CAAC,CAAC,CACrCsB,OAAO,CAAChG,KAAK,CAAC,aAAa,CAAEyE,SAAS,CAAC,CACvC,MAAO,CAAEzE,KAAK,+BAAAc,MAAA,CAAYjB,QAAQ,CAAC8G,MAAM,QAAA7F,MAAA,CAAM2D,SAAS,CAAG,CAAC,CAC9D,CACF,CAAE,MAAOzE,KAAU,CAAE,KAAA4G,cAAA,CAAAC,eAAA,CACnBb,OAAO,CAAChG,KAAK,CAAC,UAAU,CAAEA,KAAK,CAAC,CAEhC,GAAIA,KAAK,CAAC8G,IAAI,GAAK,YAAY,CAAE,CAC/B,MAAO,CAAE9G,KAAK,CAAE,2BAA4B,CAAC,CAC/C,CAAC,IAAM,IAAI,CAAA4G,cAAA,CAAA5G,KAAK,CAACoD,OAAO,UAAAwD,cAAA,WAAbA,cAAA,CAAeG,QAAQ,CAAC,iBAAiB,CAAC,GAAAF,eAAA,CAAI7G,KAAK,CAACoD,OAAO,UAAAyD,eAAA,WAAbA,eAAA,CAAeE,QAAQ,CAAC,OAAO,CAAC,CAAE,CACzF,MAAO,CAAE/G,KAAK,CAAE,wCAAyC,CAAC,CAC5D,CAAC,IAAM,CACL,MAAO,CAAEA,KAAK,2CAAAc,MAAA,CAAcd,KAAK,CAACoD,OAAO,EAAIpD,KAAK,CAAG,CAAC,CACxD,CACF,CACF,CAAC,CAED;AACA,KAAM,CAAAgH,oBAAoBA,CAACnG,SAAiB,CAAEK,OAAe,CAAyC,CACpG,GAAI,CACF,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,eAAe,CAAE,CAC/Ca,UAAU,CAAET,SAAS,CACrBK,OAAO,CAAEA,OACX,CAAC,CAAC,CACF,MAAO,CAAEnB,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAiH,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAElH,KAAK,CAAE,EAAAiH,iBAAA,CAAAjH,KAAK,CAACH,QAAQ,UAAAoH,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBlH,IAAI,UAAAmH,qBAAA,iBAApBA,qBAAA,CAAsB/G,MAAM,GAAI,kBAAmB,CAAC,CACtE,CACF,CAAC,CAED;AACA,KAAM,CAAAgH,qBAAqBA,CAACtG,SAAiB,CAAEK,OAAe,CAA0C,CACtG,GAAI,CACF,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,gBAAgB,CAAE,CAChDa,UAAU,CAAET,SAAS,CACrBK,OAAO,CAAEA,OACX,CAAC,CAAC,CACF,MAAO,CAAEnB,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAoH,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAErH,KAAK,CAAE,EAAAoH,iBAAA,CAAApH,KAAK,CAACH,QAAQ,UAAAuH,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBrH,IAAI,UAAAsH,qBAAA,iBAApBA,qBAAA,CAAsBlH,MAAM,GAAI,gBAAiB,CAAC,CACpE,CACF,CAAC,CAED;AACA,KAAM,CAAAmH,2BAA2BA,CAACzG,SAAiB,CAAEK,OAAe,CAAgD,CAClH,GAAI,CACF,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,uBAAuB,CAAE,CACvDa,UAAU,CAAET,SAAS,CACrBK,OAAO,CAAEA,OACX,CAAC,CAAC,CACF,MAAO,CAAEnB,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAuH,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAExH,KAAK,CAAE,EAAAuH,iBAAA,CAAAvH,KAAK,CAACH,QAAQ,UAAA0H,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBxH,IAAI,UAAAyH,qBAAA,iBAApBA,qBAAA,CAAsBrH,MAAM,GAAI,gBAAiB,CAAC,CACpE,CACF,CAAC,CAED;AAEA;AACA,KAAM,CAAAsH,qBAAqBA,CACzBC,WAAmB,CACnB7E,QAAiB,CACyB,CAC1C,GAAI,CACF,KAAM,CAAAhD,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,qBAAqB,CAAE,CACrDc,YAAY,CAAEmG,WAAW,CACzB9D,SAAS,CAAEf,QACb,CAAC,CAAC,CACF,MAAO,CAAE9C,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA2H,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE5H,KAAK,CAAE,EAAA2H,iBAAA,CAAA3H,KAAK,CAACH,QAAQ,UAAA8H,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB5H,IAAI,UAAA6H,qBAAA,iBAApBA,qBAAA,CAAsBzH,MAAM,GAAI,iBAAkB,CAAC,CACrE,CACF,CAAC,CAED;AACA,KAAM,CAAA0H,uBAAuBA,CAAA,CAA2C,CACtE,GAAI,CACF,KAAM,CAAAhI,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACO,GAAG,CAAC,wBAAwB,CAAC,CACxD,MAAO,CAAEC,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAA8H,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAE/H,KAAK,CAAE,EAAA8H,iBAAA,CAAA9H,KAAK,CAACH,QAAQ,UAAAiI,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB/H,IAAI,UAAAgI,qBAAA,iBAApBA,qBAAA,CAAsB5H,MAAM,GAAI,qBAAsB,CAAC,CACzE,CACF,CAAC,CAED;AACA,KAAM,CAAA6H,4BAA4BA,CAAA,CAAyC,CACzE,GAAI,CACF,KAAM,CAAAnI,QAAQ,CAAG,KAAM,CAAAN,GAAG,CAACkB,IAAI,CAAC,2BAA2B,CAAC,CAC5D,MAAO,CAAEV,IAAI,CAAEF,QAAQ,CAACE,IAAK,CAAC,CAChC,CAAE,MAAOC,KAAU,CAAE,KAAAiI,iBAAA,CAAAC,qBAAA,CACnB,MAAO,CAAElI,KAAK,CAAE,EAAAiI,iBAAA,CAAAjI,KAAK,CAACH,QAAQ,UAAAoI,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBlI,IAAI,UAAAmI,qBAAA,iBAApBA,qBAAA,CAAsB/H,MAAM,GAAI,uBAAwB,CAAC,CAC3E,CACF,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}