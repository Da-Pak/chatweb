{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/sungh/Desktop/chat_work_ver2/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState,useEffect}from'react';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SentenceContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  align-items: flex-start;\\n  gap: \",\";\\n  margin: 4px 0;\\n  cursor: \",\";\\n  padding: 2px 4px;\\n  border-radius: 6px;\\n  transition: all 0.2s ease;\\n  \\n  \",\"\\n\"])),props=>props.$hasSelector?'8px':'0',props=>props.$isHoverable?'pointer':'default',props=>props.$isHoverable&&\"\\n    &:hover {\\n      background-color: #f0f8ff;\\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n    }\\n  \");const SelectButton=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  border: 2px solid #ccc;\\n  background: \",\";\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n  flex-shrink: 0;\\n  margin-top: 2px;\\n  \\n  &:hover {\\n    border-color: #666;\\n  }\\n  \\n  &:before {\\n    content: '';\\n    display: block;\\n    width: 100%;\\n    height: 100%;\\n    border-radius: 50%;\\n  }\\n\"])),props=>props.$isSelected?'#333':'white');const SentenceText=styled.span(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  padding: \",\";\\n  border-radius: 4px;\\n  transition: all 0.2s ease;\\n  line-height: 1.6;\\n  flex: 1;\\n  cursor: \",\";\\n  \\n  \",\"\\n\"])),props=>props.$isHighlighted?'#ffff00':'transparent',props=>props.$isHighlighted?'2px 4px':'0',props=>props.$isClickable?'pointer':'default',props=>props.$isClickable&&\"\\n    &:hover {\\n      background: \".concat(props.$isHighlighted?'#ffff99':'#f0f8ff',\";\\n    }\\n  \"));const MemoBox=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: calc(100% + 20px);\\n  top: 0;\\n  width: 180px;\\n  background: white;\\n  border: 2px solid #ddd;\\n  border-radius: 8px;\\n  padding: 8px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  z-index: 100;\\n  \\n  /* \\uD654\\uBA74 \\uC624\\uB978\\uCABD\\uC744 \\uBC97\\uC5B4\\uB098\\uC9C0 \\uC54A\\uB3C4\\uB85D \\uC870\\uC815 */\\n  @media (max-width: 768px) {\\n    left: auto;\\n    right: -10px;\\n    width: 150px;\\n  }\\n\"])));const MemoTextarea=styled.textarea(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: calc(100% - 80px);\\n  height: 60px;\\n  border: none;\\n  outline: none;\\n  resize: none;\\n  font-size: 12px;\\n  line-height: 1.4;\\n  padding: 4px;\\n\"])));const DeleteMemoButton=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 4px;\\n  right: 4px;\\n  width: 20px;\\n  height: 20px;\\n  border: none;\\n  background: none;\\n  cursor: pointer;\\n  font-size: 14px;\\n  color: #999;\\n  \\n  &:hover {\\n    color: #f00;\\n  }\\n\"])));const SaveMemoButton=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 4px;\\n  right: 4px;\\n  width: 60px;\\n  height: 24px;\\n  border: 1px solid #007bff;\\n  background: #007bff;\\n  color: white;\\n  cursor: pointer;\\n  font-size: 10px;\\n  border-radius: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.2s ease;\\n  \\n  &:hover {\\n    background: #0056b3;\\n    border-color: #0056b3;\\n  }\\n  \\n  &:disabled {\\n    background: #6c757d;\\n    border-color: #6c757d;\\n    cursor: not-allowed;\\n  }\\n\"])));const SelectableSentence=_ref=>{let{sentence,sentenceId,isSelected,isHighlighted,hasMemo,memo='',showSelector=true,onToggleSelect,onMemoChange,onDeleteMemo}=_ref;const[localMemo,setLocalMemo]=useState(memo);const[isSaving,setIsSaving]=useState(false);// 외부에서 전달된 memo가 변경되면 로컬 상태도 업데이트\nuseEffect(()=>{setLocalMemo(memo);},[memo]);const handleMemoInputChange=event=>{setLocalMemo(event.target.value);};const handleSaveMemo=async()=>{if(!onMemoChange)return;setIsSaving(true);try{await onMemoChange(sentenceId,localMemo);}catch(error){console.error('메모 저장 실패:',error);}finally{setIsSaving(false);}};const handleDeleteMemo=()=>{if(onDeleteMemo){setLocalMemo('');// 로컬 상태도 초기화\nonDeleteMemo(sentenceId);}};const handleContainerClick=()=>{if(showSelector){onToggleSelect(sentenceId);}};const handleSelectButtonClick=event=>{// 이벤트 전파 방지 (컨테이너 클릭과 중복 실행 방지)\nevent.stopPropagation();onToggleSelect(sentenceId);};const handleMemoBoxClick=event=>{// 메모박스 클릭 시 이벤트 전파 방지\nevent.stopPropagation();};const handleDeleteMemoClick=event=>{// 삭제 버튼 클릭 시 이벤트 전파 방지\nevent.stopPropagation();handleDeleteMemo();};return/*#__PURE__*/_jsxs(SentenceContainer,{$hasSelector:showSelector,$isHoverable:showSelector,onClick:handleContainerClick,children:[showSelector&&/*#__PURE__*/_jsx(SelectButton,{$isSelected:isSelected,onClick:handleSelectButtonClick}),/*#__PURE__*/_jsx(SentenceText,{$isHighlighted:isHighlighted,$isClickable:showSelector,children:sentence}),hasMemo&&/*#__PURE__*/_jsxs(MemoBox,{onClick:handleMemoBoxClick,children:[/*#__PURE__*/_jsx(DeleteMemoButton,{onClick:handleDeleteMemoClick,children:\"\\uD83D\\uDDD1\"}),/*#__PURE__*/_jsx(MemoTextarea,{value:localMemo||'',onChange:handleMemoInputChange,placeholder:\"\\uBA54\\uBAA8\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",autoFocus:true}),/*#__PURE__*/_jsx(SaveMemoButton,{onClick:handleSaveMemo,disabled:isSaving,children:\"\\uC800\\uC7A5\"})]})]});};export default SelectableSentence;","map":{"version":3,"names":["React","useState","useEffect","styled","jsx","_jsx","jsxs","_jsxs","SentenceContainer","div","_templateObject","_taggedTemplateLiteral","props","$hasSelector","$isHoverable","SelectButton","button","_templateObject2","$isSelected","SentenceText","span","_templateObject3","$isHighlighted","$isClickable","concat","MemoBox","_templateObject4","MemoTextarea","textarea","_templateObject5","DeleteMemoButton","_templateObject6","SaveMemoButton","_templateObject7","SelectableSentence","_ref","sentence","sentenceId","isSelected","isHighlighted","hasMemo","memo","showSelector","onToggleSelect","onMemoChange","onDeleteMemo","localMemo","setLocalMemo","isSaving","setIsSaving","handleMemoInputChange","event","target","value","handleSaveMemo","error","console","handleDeleteMemo","handleContainerClick","handleSelectButtonClick","stopPropagation","handleMemoBoxClick","handleDeleteMemoClick","onClick","children","onChange","placeholder","autoFocus","disabled"],"sources":["C:/Users/sungh/Desktop/chat_work_ver2/frontend/src/features/training/components/SelectableSentence.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\ninterface SelectableSentenceProps {\n  sentence: string;\n  sentenceId: string;\n  isSelected: boolean;\n  isHighlighted: boolean;\n  hasMemo: boolean;\n  memo?: string;\n  showSelector?: boolean;\n  onToggleSelect: (sentenceId: string) => void;\n  onMemoChange?: (sentenceId: string, memo: string) => void;\n  onDeleteMemo?: (sentenceId: string) => void;\n}\n\nconst SentenceContainer = styled.div<{ $hasSelector: boolean; $isHoverable: boolean }>`\n  position: relative;\n  display: flex;\n  align-items: flex-start;\n  gap: ${props => props.$hasSelector ? '8px' : '0'};\n  margin: 4px 0;\n  cursor: ${props => props.$isHoverable ? 'pointer' : 'default'};\n  padding: 2px 4px;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  \n  ${props => props.$isHoverable && `\n    &:hover {\n      background-color: #f0f8ff;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    }\n  `}\n`;\n\nconst SelectButton = styled.button<{ $isSelected: boolean }>`\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  background: ${props => props.$isSelected ? '#333' : 'white'};\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n  margin-top: 2px;\n  \n  &:hover {\n    border-color: #666;\n  }\n  \n  &:before {\n    content: '';\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n`;\n\nconst SentenceText = styled.span<{ $isHighlighted: boolean; $isClickable: boolean }>`\n  background: ${props => props.$isHighlighted ? '#ffff00' : 'transparent'};\n  padding: ${props => props.$isHighlighted ? '2px 4px' : '0'};\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  line-height: 1.6;\n  flex: 1;\n  cursor: ${props => props.$isClickable ? 'pointer' : 'default'};\n  \n  ${props => props.$isClickable && `\n    &:hover {\n      background: ${props.$isHighlighted ? '#ffff99' : '#f0f8ff'};\n    }\n  `}\n`;\n\nconst MemoBox = styled.div`\n  position: absolute;\n  left: calc(100% + 20px);\n  top: 0;\n  width: 180px;\n  background: white;\n  border: 2px solid #ddd;\n  border-radius: 8px;\n  padding: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  z-index: 100;\n  \n  /* 화면 오른쪽을 벗어나지 않도록 조정 */\n  @media (max-width: 768px) {\n    left: auto;\n    right: -10px;\n    width: 150px;\n  }\n`;\n\nconst MemoTextarea = styled.textarea`\n  width: calc(100% - 80px);\n  height: 60px;\n  border: none;\n  outline: none;\n  resize: none;\n  font-size: 12px;\n  line-height: 1.4;\n  padding: 4px;\n`;\n\nconst DeleteMemoButton = styled.button`\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 20px;\n  height: 20px;\n  border: none;\n  background: none;\n  cursor: pointer;\n  font-size: 14px;\n  color: #999;\n  \n  &:hover {\n    color: #f00;\n  }\n`;\n\nconst SaveMemoButton = styled.button`\n  position: absolute;\n  bottom: 4px;\n  right: 4px;\n  width: 60px;\n  height: 24px;\n  border: 1px solid #007bff;\n  background: #007bff;\n  color: white;\n  cursor: pointer;\n  font-size: 10px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #0056b3;\n    border-color: #0056b3;\n  }\n  \n  &:disabled {\n    background: #6c757d;\n    border-color: #6c757d;\n    cursor: not-allowed;\n  }\n`;\n\nconst SelectableSentence: React.FC<SelectableSentenceProps> = ({\n  sentence,\n  sentenceId,\n  isSelected,\n  isHighlighted,\n  hasMemo,\n  memo = '',\n  showSelector = true,\n  onToggleSelect,\n  onMemoChange,\n  onDeleteMemo\n}) => {\n  const [localMemo, setLocalMemo] = useState(memo);\n  const [isSaving, setIsSaving] = useState(false);\n\n  // 외부에서 전달된 memo가 변경되면 로컬 상태도 업데이트\n  useEffect(() => {\n    setLocalMemo(memo);\n  }, [memo]);\n\n  const handleMemoInputChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setLocalMemo(event.target.value);\n  };\n\n  const handleSaveMemo = async () => {\n    if (!onMemoChange) return;\n    \n    setIsSaving(true);\n    try {\n      await onMemoChange(sentenceId, localMemo);\n    } catch (error) {\n      console.error('메모 저장 실패:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleDeleteMemo = () => {\n    if (onDeleteMemo) {\n      setLocalMemo(''); // 로컬 상태도 초기화\n      onDeleteMemo(sentenceId);\n    }\n  };\n\n  const handleContainerClick = () => {\n    if (showSelector) {\n      onToggleSelect(sentenceId);\n    }\n  };\n\n  const handleSelectButtonClick = (event: React.MouseEvent) => {\n    // 이벤트 전파 방지 (컨테이너 클릭과 중복 실행 방지)\n    event.stopPropagation();\n    onToggleSelect(sentenceId);\n  };\n\n  const handleMemoBoxClick = (event: React.MouseEvent) => {\n    // 메모박스 클릭 시 이벤트 전파 방지\n    event.stopPropagation();\n  };\n\n  const handleDeleteMemoClick = (event: React.MouseEvent) => {\n    // 삭제 버튼 클릭 시 이벤트 전파 방지\n    event.stopPropagation();\n    handleDeleteMemo();\n  };\n\n  return (\n    <SentenceContainer \n      $hasSelector={showSelector} \n      $isHoverable={showSelector}\n      onClick={handleContainerClick}\n    >\n      {showSelector && (\n        <SelectButton \n          $isSelected={isSelected}\n          onClick={handleSelectButtonClick}\n        />\n      )}\n      <SentenceText $isHighlighted={isHighlighted} $isClickable={showSelector}>\n        {sentence}\n      </SentenceText>\n      {hasMemo && (\n        <MemoBox onClick={handleMemoBoxClick}>\n          <DeleteMemoButton onClick={handleDeleteMemoClick}>\n            🗑\n          </DeleteMemoButton>\n          <MemoTextarea\n            value={localMemo || ''}\n            onChange={handleMemoInputChange}\n            placeholder=\"메모를 입력하세요...\"\n            autoFocus\n          />\n          <SaveMemoButton onClick={handleSaveMemo} disabled={isSaving}>저장</SaveMemoButton>\n        </MemoBox>\n      )}\n    </SentenceContainer>\n  );\n};\n\nexport default SelectableSentence; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}