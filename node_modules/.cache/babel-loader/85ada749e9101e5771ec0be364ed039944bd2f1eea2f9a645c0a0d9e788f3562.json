{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sungh\\\\Desktop\\\\chat_work\\\\frontend\\\\src\\\\features\\\\vault\\\\components\\\\SentenceVaultView.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { sentenceApi } from '../../training/api/sentenceApi';\nimport { chatApi } from '../../shared/api/chatApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n`;\n_c = Container;\nconst Header = styled.div`\n  padding: 20px;\n  border-bottom: 1px solid #e9ecef;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n`;\n_c2 = Header;\nconst FilterButton = styled.button`\n  background: ${props => props.$isActive ? '#007bff' : 'linear-gradient(135deg, #fff 0%, #f8f9fa 100%)'};\n  color: ${props => props.$isActive ? 'white' : '#333'};\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  \n  &:hover {\n    background: ${props => props.$isActive ? '#0056b3' : 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)'};\n  }\n`;\n_c3 = FilterButton;\nconst NavigationButton = styled.button`\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c4 = NavigationButton;\nconst ContentArea = styled.div`\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  background: #ffffff;\n`;\n_c5 = ContentArea;\nconst SentenceGrid = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n_c6 = SentenceGrid;\nconst SentenceContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n_c7 = SentenceContainer;\nconst SentenceRow = styled.div`\n  width: 100%;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 16px;\n  padding: 16px 20px;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.2s ease;\n  min-height: 60px;\n  display: flex;\n  align-items: center;\n  \n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-1px);\n    border-color: #adb5bd;\n    background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\n  }\n  \n  ${props => props.$isPinned && `\n    border-color: #ffc107;\n    box-shadow: 0 2px 8px rgba(255, 193, 7, 0.2);\n    background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);\n    \n    &:hover {\n      box-shadow: 0 4px 16px rgba(255, 193, 7, 0.3);\n      background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);\n    }\n  `}\n`;\n_c8 = SentenceRow;\nconst SentenceContent = styled.div`\n  flex: 1;\n`;\n_c9 = SentenceContent;\nconst SentenceText = styled.div`\n  font-size: 15px;\n  line-height: 1.6;\n  color: #333;\n  word-break: break-word;\n  font-weight: 500;\n`;\n_c0 = SentenceText;\nconst SentenceMetaExternal = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  font-size: 12px;\n  color: #6c757d;\n  gap: 8px;\n`;\n_c1 = SentenceMetaExternal;\nconst PersonaLabel = styled.span`\n  background: #e9ecef;\n  padding: 3px 8px;\n  border-radius: 6px;\n  font-weight: 500;\n  color: #495057;\n`;\n_c10 = PersonaLabel;\nconst DateLabel = styled.span`\n  font-style: italic;\n  opacity: 0.8;\n`;\n_c11 = DateLabel;\nconst PinIcon = styled.div`\n  position: absolute;\n  top: 12px;\n  right: 16px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: ${props => props.$isPinned ? '#333' : 'transparent'};\n  cursor: pointer;\n  z-index: 2;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    color: #333;\n    background: rgba(0, 0, 0, 0.1);\n  }\n  \n  ${SentenceRow}:hover & {\n    color: ${props => props.$isPinned ? '#333' : '#666'};\n  }\n  \n  &::before {\n    content: ${props => props.$isPinned ? '\"●\"' : '\"○\"'};\n  }\n`;\n_c12 = PinIcon;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  color: #6c757d;\n  \n  .icon {\n    font-size: 48px;\n    margin-bottom: 16px;\n  }\n  \n  .title {\n    font-size: 18px;\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n  \n  .description {\n    font-size: 14px;\n  }\n`;\n_c13 = EmptyState;\nconst ContextMenuContainer = styled.div`\n  position: fixed;\n  top: ${props => props.$y}px;\n  left: ${props => props.$x}px;\n  background: white;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  min-width: 160px;\n  overflow: hidden;\n`;\n_c14 = ContextMenuContainer;\nconst ContextMenuItem = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background-color: #f8f9fa;\n  }\n  \n  &:not(:last-child) {\n    border-bottom: 1px solid #f1f3f4;\n  }\n`;\n_c15 = ContextMenuItem;\nconst ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n`;\n_c16 = ModalOverlay;\nconst ModalContent = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  max-width: 400px;\n  width: 90%;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n`;\n_c17 = ModalContent;\nconst ModalTitle = styled.h3`\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n`;\n_c18 = ModalTitle;\nconst ModalMessage = styled.p`\n  margin: 0 0 24px 0;\n  font-size: 14px;\n  color: #666;\n  line-height: 1.5;\n`;\n_c19 = ModalMessage;\nconst ModalButtons = styled.div`\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n`;\n_c20 = ModalButtons;\nconst ModalButton = styled.button`\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  border: 1px solid;\n  \n  ${props => props.$variant === 'primary' ? `\n    background: #007bff;\n    color: white;\n    border-color: #007bff;\n    \n    &:hover {\n      background: #0056b3;\n      border-color: #0056b3;\n    }\n  ` : `\n    background: white;\n    color: #6c757d;\n    border-color: #dee2e6;\n    \n    &:hover {\n      background: #f8f9fa;\n    }\n  `}\n`;\n_c21 = ModalButton;\nconst SentenceVaultView = ({\n  onNavigateToPersona,\n  onNavigateToThread\n}) => {\n  _s();\n  const [sentences, setSentences] = useState([]);\n  const [filteredSentences, setFilteredSentences] = useState([]);\n  const [personas, setPersonas] = useState({});\n  const [currentFilter, setCurrentFilter] = useState('전체');\n  const [loading, setLoading] = useState(true);\n  const [pinnedSentences, setPinnedSentences] = useState(new Set());\n  const [contextMenu, setContextMenu] = useState(null);\n  const [confirmationModal, setConfirmationModal] = useState(null);\n\n  // 필터 옵션들\n  const [filterOptions, setFilterOptions] = useState(['전체', '언어화', '편지']);\n  const [currentFilterIndex, setCurrentFilterIndex] = useState(0);\n  useEffect(() => {\n    loadData();\n  }, []);\n  useEffect(() => {\n    applyFilter();\n  }, [sentences, currentFilter, pinnedSentences]);\n\n  // 컨텍스트 메뉴 외부 클릭 감지\n  useEffect(() => {\n    const handleClickOutside = () => {\n      console.log('외부 클릭 감지, 컨텍스트 메뉴 닫기');\n      setContextMenu(null);\n    };\n    if (contextMenu) {\n      document.addEventListener('click', handleClickOutside);\n      return () => document.removeEventListener('click', handleClickOutside);\n    }\n  }, [contextMenu]);\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      // 저장고 문장들 로드\n      const sentenceData = await sentenceApi.getVaultSentences();\n      console.log('저장고 데이터:', sentenceData);\n      setSentences(sentenceData);\n\n      // 페르소나 데이터 로드\n      const personaResponse = await chatApi.getPersonas();\n      if (personaResponse.data) {\n        setPersonas(personaResponse.data);\n\n        // 필터 옵션에 페르소나들 추가\n        const personaNames = Object.values(personaResponse.data).map(p => p.name);\n        setFilterOptions(['전체', '언어화', '편지', ...personaNames]);\n      }\n    } catch (error) {\n      console.error('데이터 로딩 실패:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const applyFilter = () => {\n    let filtered = [...sentences];\n    if (currentFilter !== '전체') {\n      if (currentFilter === '언어화') {\n        filtered = filtered.filter(s => s.tags.includes('verbalization'));\n      } else if (currentFilter === '편지') {\n        filtered = filtered.filter(s => s.tags.includes('letter'));\n      } else {\n        // 페르소나 이름으로 필터링\n        const personaId = Object.keys(personas).find(id => personas[id].name === currentFilter);\n        if (personaId) {\n          filtered = filtered.filter(s => s.tags.includes(personaId) || s.source_message_id.includes(personaId));\n        }\n      }\n    }\n\n    // 고정된 문장들을 맨 위로\n    const pinned = filtered.filter(s => pinnedSentences.has(s.id));\n    const unpinned = filtered.filter(s => !pinnedSentences.has(s.id));\n\n    // 날짜순 정렬 (최신순)\n    pinned.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n    unpinned.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n    setFilteredSentences([...pinned, ...unpinned]);\n  };\n  const handleFilterChange = filter => {\n    setCurrentFilter(filter);\n    setCurrentFilterIndex(filterOptions.indexOf(filter));\n  };\n  const handleNavigateFilter = direction => {\n    const newIndex = direction === 'prev' ? Math.max(0, currentFilterIndex - 1) : Math.min(filterOptions.length - 1, currentFilterIndex + 1);\n    setCurrentFilterIndex(newIndex);\n    setCurrentFilter(filterOptions[newIndex]);\n  };\n  const handleSentenceClick = (event, sentence) => {\n    event.preventDefault();\n    event.stopPropagation();\n    console.log('문장 클릭됨:', sentence.sentence.substring(0, 50));\n    console.log('클릭 위치:', event.clientX, event.clientY);\n    setContextMenu({\n      x: event.clientX,\n      y: event.clientY,\n      sentence\n    });\n    console.log('컨텍스트 메뉴 설정됨');\n  };\n  const handleContextMenuAction = (action, sentence) => {\n    console.log('컨텍스트 메뉴 액션:', action);\n    setContextMenu(null);\n    switch (action) {\n      case 'interact':\n      case 'navigate':\n      case 'delete':\n        setConfirmationModal({\n          type: action,\n          sentence\n        });\n        break;\n      case 'pin':\n        togglePin(sentence.id);\n        break;\n    }\n  };\n  const handleConfirmAction = async () => {\n    if (!confirmationModal) return;\n    const {\n      type,\n      sentence\n    } = confirmationModal;\n    try {\n      switch (type) {\n        case 'interact':\n          // 페르소나 페이지의 문장 모드로 이동\n          const personaId = extractPersonaIdFromSentence(sentence);\n          if (personaId && onNavigateToPersona) {\n            onNavigateToPersona(personaId, 'sentence');\n            // TODO: 입력창에 문장 설정하는 로직 추가 필요\n          }\n          break;\n        case 'navigate':\n          // 해당 기록으로 이동\n          if (sentence.source_conversation_id && onNavigateToThread) {\n            onNavigateToThread(sentence.source_conversation_id, 'interpretation');\n          }\n          break;\n        case 'delete':\n          // 문장 삭제\n          await sentenceApi.deleteVaultSentence(sentence.id);\n          setSentences(prev => prev.filter(s => s.id !== sentence.id));\n          break;\n      }\n    } catch (error) {\n      console.error('액션 실행 실패:', error);\n    }\n    setConfirmationModal(null);\n  };\n  const togglePin = sentenceId => {\n    setPinnedSentences(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(sentenceId)) {\n        newSet.delete(sentenceId);\n      } else {\n        newSet.add(sentenceId);\n      }\n      return newSet;\n    });\n  };\n  const extractPersonaIdFromSentence = sentence => {\n    console.log('라벨 추출 중:', sentence);\n    console.log('tags:', sentence.tags);\n    console.log('source_message_id:', sentence.source_message_id);\n    console.log('사용 가능한 페르소나들:', Object.keys(personas));\n\n    // tags에서 페르소나 ID 찾기\n    for (const tag of sentence.tags) {\n      if (personas[tag]) {\n        console.log('태그에서 페르소나 발견:', tag, personas[tag].name);\n        return tag;\n      }\n    }\n    return null;\n  };\n  const getPersonaName = sentence => {\n    var _personas$personaId;\n    const personaId = extractPersonaIdFromSentence(sentence);\n    const name = personaId ? ((_personas$personaId = personas[personaId]) === null || _personas$personaId === void 0 ? void 0 : _personas$personaId.name) || '알 수 없음' : '시스템';\n    console.log('최종 페르소나 이름:', name, '(ID:', personaId, ')');\n    return name;\n  };\n  const getModalContent = () => {\n    if (!confirmationModal) return null;\n    const {\n      type,\n      sentence\n    } = confirmationModal;\n    const personaName = getPersonaName(sentence);\n    switch (type) {\n      case 'interact':\n        return {\n          title: '상호작용 하기',\n          message: `해당 인물(${personaName})의 페이지에서 상호작용을 하시겠습니까?`,\n          confirmText: '상호작용',\n          cancelText: '취소'\n        };\n      case 'navigate':\n        return {\n          title: '해당 기록으로 이동',\n          message: '해당 기록으로 이동하시겠습니까?',\n          confirmText: '이동',\n          cancelText: '취소'\n        };\n      case 'delete':\n        return {\n          title: '문장 삭제',\n          message: '이 문장을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.',\n          confirmText: '삭제',\n          cancelText: '취소'\n        };\n      default:\n        return null;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '40px',\n          textAlign: 'center'\n        },\n        children: \"\\uB85C\\uB529 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 7\n    }, this);\n  }\n  const modalContent = getModalContent();\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(NavigationButton, {\n        onClick: () => handleNavigateFilter('prev'),\n        disabled: currentFilterIndex === 0,\n        children: \"\\u2039\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 9\n      }, this), filterOptions.slice(0, 4).map(option => /*#__PURE__*/_jsxDEV(FilterButton, {\n        $isActive: currentFilter === option,\n        onClick: () => handleFilterChange(option),\n        children: option\n      }, option, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(NavigationButton, {\n        onClick: () => handleNavigateFilter('next'),\n        disabled: currentFilterIndex === filterOptions.length - 1,\n        children: \"\\u203A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContentArea, {\n      children: filteredSentences.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon\",\n          children: \"\\uD83D\\uDCDD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: \"\\uC800\\uC7A5\\uB41C \\uBB38\\uC7A5\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: \"\\uD6C8\\uC2B5 \\uD398\\uC774\\uC9C0\\uC5D0\\uC11C \\uBB38\\uC7A5\\uC744 \\uC800\\uC7A5\\uACE0\\uC5D0 \\uC800\\uC7A5\\uD574\\uBCF4\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(SentenceGrid, {\n        children: filteredSentences.map(sentence => /*#__PURE__*/_jsxDEV(SentenceContainer, {\n          children: [/*#__PURE__*/_jsxDEV(SentenceRow, {\n            $isPinned: pinnedSentences.has(sentence.id),\n            onClick: e => handleSentenceClick(e, sentence),\n            children: [/*#__PURE__*/_jsxDEV(SentenceContent, {\n              children: /*#__PURE__*/_jsxDEV(SentenceText, {\n                children: sentence.sentence\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(PinIcon, {\n              $isPinned: pinnedSentences.has(sentence.id),\n              onClick: e => {\n                e.stopPropagation();\n                togglePin(sentence.id);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(SentenceMetaExternal, {\n            children: [/*#__PURE__*/_jsxDEV(PersonaLabel, {\n              children: getPersonaName(sentence)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(DateLabel, {\n              children: new Date(sentence.created_at).toLocaleDateString('ko-KR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 17\n          }, this)]\n        }, sentence.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 7\n    }, this), contextMenu && /*#__PURE__*/_jsxDEV(ContextMenuContainer, {\n      $x: contextMenu.x,\n      $y: contextMenu.y,\n      children: [/*#__PURE__*/_jsxDEV(ContextMenuItem, {\n        onClick: () => handleContextMenuAction('interact', contextMenu.sentence),\n        children: \"\\uC0C1\\uD638\\uC791\\uC6A9 \\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ContextMenuItem, {\n        onClick: () => handleContextMenuAction('navigate', contextMenu.sentence),\n        children: \"\\uD574\\uB2F9 \\uAE30\\uB85D\\uC73C\\uB85C \\uC774\\uB3D9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ContextMenuItem, {\n        onClick: () => handleContextMenuAction('delete', contextMenu.sentence),\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 9\n    }, this), confirmationModal && modalContent && /*#__PURE__*/_jsxDEV(ModalOverlay, {\n      onClick: () => setConfirmationModal(null),\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: modalContent.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ModalMessage, {\n          children: modalContent.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ModalButtons, {\n          children: [/*#__PURE__*/_jsxDEV(ModalButton, {\n            $variant: \"secondary\",\n            onClick: () => setConfirmationModal(null),\n            children: modalContent.cancelText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalButton, {\n            $variant: \"primary\",\n            onClick: handleConfirmAction,\n            children: modalContent.confirmText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 561,\n    columnNumber: 5\n  }, this);\n};\n_s(SentenceVaultView, \"hBlNSfuszYKKdPnVG0EmQeeKv8w=\");\n_c22 = SentenceVaultView;\nexport default SentenceVaultView;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"FilterButton\");\n$RefreshReg$(_c4, \"NavigationButton\");\n$RefreshReg$(_c5, \"ContentArea\");\n$RefreshReg$(_c6, \"SentenceGrid\");\n$RefreshReg$(_c7, \"SentenceContainer\");\n$RefreshReg$(_c8, \"SentenceRow\");\n$RefreshReg$(_c9, \"SentenceContent\");\n$RefreshReg$(_c0, \"SentenceText\");\n$RefreshReg$(_c1, \"SentenceMetaExternal\");\n$RefreshReg$(_c10, \"PersonaLabel\");\n$RefreshReg$(_c11, \"DateLabel\");\n$RefreshReg$(_c12, \"PinIcon\");\n$RefreshReg$(_c13, \"EmptyState\");\n$RefreshReg$(_c14, \"ContextMenuContainer\");\n$RefreshReg$(_c15, \"ContextMenuItem\");\n$RefreshReg$(_c16, \"ModalOverlay\");\n$RefreshReg$(_c17, \"ModalContent\");\n$RefreshReg$(_c18, \"ModalTitle\");\n$RefreshReg$(_c19, \"ModalMessage\");\n$RefreshReg$(_c20, \"ModalButtons\");\n$RefreshReg$(_c21, \"ModalButton\");\n$RefreshReg$(_c22, \"SentenceVaultView\");","map":{"version":3,"names":["React","useState","useEffect","styled","sentenceApi","chatApi","jsxDEV","_jsxDEV","Container","div","_c","Header","_c2","FilterButton","button","props","$isActive","_c3","NavigationButton","_c4","ContentArea","_c5","SentenceGrid","_c6","SentenceContainer","_c7","SentenceRow","$isPinned","_c8","SentenceContent","_c9","SentenceText","_c0","SentenceMetaExternal","_c1","PersonaLabel","span","_c10","DateLabel","_c11","PinIcon","_c12","EmptyState","_c13","ContextMenuContainer","$y","$x","_c14","ContextMenuItem","_c15","ModalOverlay","_c16","ModalContent","_c17","ModalTitle","h3","_c18","ModalMessage","p","_c19","ModalButtons","_c20","ModalButton","$variant","_c21","SentenceVaultView","onNavigateToPersona","onNavigateToThread","_s","sentences","setSentences","filteredSentences","setFilteredSentences","personas","setPersonas","currentFilter","setCurrentFilter","loading","setLoading","pinnedSentences","setPinnedSentences","Set","contextMenu","setContextMenu","confirmationModal","setConfirmationModal","filterOptions","setFilterOptions","currentFilterIndex","setCurrentFilterIndex","loadData","applyFilter","handleClickOutside","console","log","document","addEventListener","removeEventListener","sentenceData","getVaultSentences","personaResponse","getPersonas","data","personaNames","Object","values","map","name","error","filtered","filter","s","tags","includes","personaId","keys","find","id","source_message_id","pinned","has","unpinned","sort","a","b","Date","created_at","getTime","handleFilterChange","indexOf","handleNavigateFilter","direction","newIndex","Math","max","min","length","handleSentenceClick","event","sentence","preventDefault","stopPropagation","substring","clientX","clientY","x","y","handleContextMenuAction","action","type","togglePin","handleConfirmAction","extractPersonaIdFromSentence","source_conversation_id","deleteVaultSentence","prev","sentenceId","newSet","delete","add","tag","getPersonaName","_personas$personaId","getModalContent","personaName","title","message","confirmText","cancelText","children","style","padding","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","modalContent","onClick","disabled","slice","option","className","e","toLocaleDateString","_c22","$RefreshReg$"],"sources":["C:/Users/sungh/Desktop/chat_work/frontend/src/features/vault/components/SentenceVaultView.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { sentenceApi, SentenceVaultItem } from '../../training/api/sentenceApi';\nimport { chatApi } from '../../shared/api/chatApi';\nimport { Persona } from '../../shared/types';\n\ninterface SentenceVaultViewProps {\n  onNavigateToPersona: (personaId: string, mode: 'sentence') => void;\n  onNavigateToThread: (threadId: string, threadType: string) => void;\n}\n\ninterface ContextMenu {\n  x: number;\n  y: number;\n  sentence: SentenceVaultItem;\n}\n\ninterface ConfirmationModalData {\n  type: 'interact' | 'navigate' | 'delete';\n  sentence: SentenceVaultItem;\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n`;\n\nconst Header = styled.div`\n  padding: 20px;\n  border-bottom: 1px solid #e9ecef;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n`;\n\nconst FilterButton = styled.button<{ $isActive: boolean }>`\n  background: ${props => props.$isActive ? '#007bff' : 'linear-gradient(135deg, #fff 0%, #f8f9fa 100%)'};\n  color: ${props => props.$isActive ? 'white' : '#333'};\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  \n  &:hover {\n    background: ${props => props.$isActive ? '#0056b3' : 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)'};\n  }\n`;\n\nconst NavigationButton = styled.button`\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst ContentArea = styled.div`\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  background: #ffffff;\n`;\n\nconst SentenceGrid = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst SentenceContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nconst SentenceRow = styled.div<{ $isPinned: boolean }>`\n  width: 100%;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 16px;\n  padding: 16px 20px;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.2s ease;\n  min-height: 60px;\n  display: flex;\n  align-items: center;\n  \n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-1px);\n    border-color: #adb5bd;\n    background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\n  }\n  \n  ${props => props.$isPinned && `\n    border-color: #ffc107;\n    box-shadow: 0 2px 8px rgba(255, 193, 7, 0.2);\n    background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);\n    \n    &:hover {\n      box-shadow: 0 4px 16px rgba(255, 193, 7, 0.3);\n      background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);\n    }\n  `}\n`;\n\nconst SentenceContent = styled.div`\n  flex: 1;\n`;\n\nconst SentenceText = styled.div`\n  font-size: 15px;\n  line-height: 1.6;\n  color: #333;\n  word-break: break-word;\n  font-weight: 500;\n`;\n\nconst SentenceMetaExternal = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  font-size: 12px;\n  color: #6c757d;\n  gap: 8px;\n`;\n\nconst PersonaLabel = styled.span`\n  background: #e9ecef;\n  padding: 3px 8px;\n  border-radius: 6px;\n  font-weight: 500;\n  color: #495057;\n`;\n\nconst DateLabel = styled.span`\n  font-style: italic;\n  opacity: 0.8;\n`;\n\nconst PinIcon = styled.div<{ $isPinned: boolean }>`\n  position: absolute;\n  top: 12px;\n  right: 16px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: ${props => props.$isPinned ? '#333' : 'transparent'};\n  cursor: pointer;\n  z-index: 2;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    color: #333;\n    background: rgba(0, 0, 0, 0.1);\n  }\n  \n  ${SentenceRow}:hover & {\n    color: ${props => props.$isPinned ? '#333' : '#666'};\n  }\n  \n  &::before {\n    content: ${props => props.$isPinned ? '\"●\"' : '\"○\"'};\n  }\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  color: #6c757d;\n  \n  .icon {\n    font-size: 48px;\n    margin-bottom: 16px;\n  }\n  \n  .title {\n    font-size: 18px;\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n  \n  .description {\n    font-size: 14px;\n  }\n`;\n\nconst ContextMenuContainer = styled.div<{ $x: number; $y: number }>`\n  position: fixed;\n  top: ${props => props.$y}px;\n  left: ${props => props.$x}px;\n  background: white;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  min-width: 160px;\n  overflow: hidden;\n`;\n\nconst ContextMenuItem = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background-color: #f8f9fa;\n  }\n  \n  &:not(:last-child) {\n    border-bottom: 1px solid #f1f3f4;\n  }\n`;\n\nconst ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n`;\n\nconst ModalContent = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  max-width: 400px;\n  width: 90%;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n`;\n\nconst ModalTitle = styled.h3`\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n`;\n\nconst ModalMessage = styled.p`\n  margin: 0 0 24px 0;\n  font-size: 14px;\n  color: #666;\n  line-height: 1.5;\n`;\n\nconst ModalButtons = styled.div`\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n`;\n\nconst ModalButton = styled.button<{ $variant: 'primary' | 'secondary' }>`\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  border: 1px solid;\n  \n  ${props => props.$variant === 'primary' ? `\n    background: #007bff;\n    color: white;\n    border-color: #007bff;\n    \n    &:hover {\n      background: #0056b3;\n      border-color: #0056b3;\n    }\n  ` : `\n    background: white;\n    color: #6c757d;\n    border-color: #dee2e6;\n    \n    &:hover {\n      background: #f8f9fa;\n    }\n  `}\n`;\n\nconst SentenceVaultView: React.FC<SentenceVaultViewProps> = ({\n  onNavigateToPersona,\n  onNavigateToThread\n}) => {\n  const [sentences, setSentences] = useState<SentenceVaultItem[]>([]);\n  const [filteredSentences, setFilteredSentences] = useState<SentenceVaultItem[]>([]);\n  const [personas, setPersonas] = useState<Record<string, Persona>>({});\n  const [currentFilter, setCurrentFilter] = useState<string>('전체');\n  const [loading, setLoading] = useState(true);\n  const [pinnedSentences, setPinnedSentences] = useState<Set<string>>(new Set());\n  const [contextMenu, setContextMenu] = useState<ContextMenu | null>(null);\n  const [confirmationModal, setConfirmationModal] = useState<ConfirmationModalData | null>(null);\n\n  // 필터 옵션들\n  const [filterOptions, setFilterOptions] = useState<string[]>(['전체', '언어화', '편지']);\n  const [currentFilterIndex, setCurrentFilterIndex] = useState(0);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  useEffect(() => {\n    applyFilter();\n  }, [sentences, currentFilter, pinnedSentences]);\n\n  // 컨텍스트 메뉴 외부 클릭 감지\n  useEffect(() => {\n    const handleClickOutside = () => {\n      console.log('외부 클릭 감지, 컨텍스트 메뉴 닫기');\n      setContextMenu(null);\n    };\n\n    if (contextMenu) {\n      document.addEventListener('click', handleClickOutside);\n      return () => document.removeEventListener('click', handleClickOutside);\n    }\n  }, [contextMenu]);\n\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      // 저장고 문장들 로드\n      const sentenceData = await sentenceApi.getVaultSentences();\n      console.log('저장고 데이터:', sentenceData);\n      setSentences(sentenceData);\n\n      // 페르소나 데이터 로드\n      const personaResponse = await chatApi.getPersonas();\n      if (personaResponse.data) {\n        setPersonas(personaResponse.data);\n        \n        // 필터 옵션에 페르소나들 추가\n        const personaNames = Object.values(personaResponse.data).map(p => p.name);\n        setFilterOptions(['전체', '언어화', '편지', ...personaNames]);\n      }\n    } catch (error) {\n      console.error('데이터 로딩 실패:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const applyFilter = () => {\n    let filtered = [...sentences];\n\n    if (currentFilter !== '전체') {\n      if (currentFilter === '언어화') {\n        filtered = filtered.filter(s => s.tags.includes('verbalization'));\n      } else if (currentFilter === '편지') {\n        filtered = filtered.filter(s => s.tags.includes('letter'));\n      } else {\n        // 페르소나 이름으로 필터링\n        const personaId = Object.keys(personas).find(id => personas[id].name === currentFilter);\n        if (personaId) {\n          filtered = filtered.filter(s => s.tags.includes(personaId) || s.source_message_id.includes(personaId));\n        }\n      }\n    }\n\n    // 고정된 문장들을 맨 위로\n    const pinned = filtered.filter(s => pinnedSentences.has(s.id));\n    const unpinned = filtered.filter(s => !pinnedSentences.has(s.id));\n    \n    // 날짜순 정렬 (최신순)\n    pinned.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n    unpinned.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n\n    setFilteredSentences([...pinned, ...unpinned]);\n  };\n\n  const handleFilterChange = (filter: string) => {\n    setCurrentFilter(filter);\n    setCurrentFilterIndex(filterOptions.indexOf(filter));\n  };\n\n  const handleNavigateFilter = (direction: 'prev' | 'next') => {\n    const newIndex = direction === 'prev' \n      ? Math.max(0, currentFilterIndex - 1)\n      : Math.min(filterOptions.length - 1, currentFilterIndex + 1);\n    \n    setCurrentFilterIndex(newIndex);\n    setCurrentFilter(filterOptions[newIndex]);\n  };\n\n  const handleSentenceClick = (event: React.MouseEvent, sentence: SentenceVaultItem) => {\n    event.preventDefault();\n    event.stopPropagation();\n    \n    console.log('문장 클릭됨:', sentence.sentence.substring(0, 50));\n    console.log('클릭 위치:', event.clientX, event.clientY);\n    \n    setContextMenu({\n      x: event.clientX,\n      y: event.clientY,\n      sentence\n    });\n    \n    console.log('컨텍스트 메뉴 설정됨');\n  };\n\n  const handleContextMenuAction = (action: string, sentence: SentenceVaultItem) => {\n    console.log('컨텍스트 메뉴 액션:', action);\n    setContextMenu(null);\n    \n    switch (action) {\n      case 'interact':\n      case 'navigate':\n      case 'delete':\n        setConfirmationModal({ type: action as any, sentence });\n        break;\n      case 'pin':\n        togglePin(sentence.id);\n        break;\n    }\n  };\n\n  const handleConfirmAction = async () => {\n    if (!confirmationModal) return;\n    \n    const { type, sentence } = confirmationModal;\n    \n    try {\n      switch (type) {\n        case 'interact':\n          // 페르소나 페이지의 문장 모드로 이동\n          const personaId = extractPersonaIdFromSentence(sentence);\n          if (personaId && onNavigateToPersona) {\n            onNavigateToPersona(personaId, 'sentence');\n            // TODO: 입력창에 문장 설정하는 로직 추가 필요\n          }\n          break;\n        case 'navigate':\n          // 해당 기록으로 이동\n          if (sentence.source_conversation_id && onNavigateToThread) {\n            onNavigateToThread(sentence.source_conversation_id, 'interpretation');\n          }\n          break;\n        case 'delete':\n          // 문장 삭제\n          await sentenceApi.deleteVaultSentence(sentence.id);\n          setSentences(prev => prev.filter(s => s.id !== sentence.id));\n          break;\n      }\n    } catch (error) {\n      console.error('액션 실행 실패:', error);\n    }\n    \n    setConfirmationModal(null);\n  };\n\n  const togglePin = (sentenceId: string) => {\n    setPinnedSentences(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(sentenceId)) {\n        newSet.delete(sentenceId);\n      } else {\n        newSet.add(sentenceId);\n      }\n      return newSet;\n    });\n  };\n\n  const extractPersonaIdFromSentence = (sentence: SentenceVaultItem): string | null => {\n    console.log('라벨 추출 중:', sentence);\n    console.log('tags:', sentence.tags);\n    console.log('source_message_id:', sentence.source_message_id);\n    console.log('사용 가능한 페르소나들:', Object.keys(personas));\n    \n    // tags에서 페르소나 ID 찾기\n    for (const tag of sentence.tags) {\n      if (personas[tag]) {\n        console.log('태그에서 페르소나 발견:', tag, personas[tag].name);\n        return tag;\n      }\n    }\n    return null;\n  };\n\n  const getPersonaName = (sentence: SentenceVaultItem): string => {\n    const personaId = extractPersonaIdFromSentence(sentence);\n    const name = personaId ? personas[personaId]?.name || '알 수 없음' : '시스템';\n    console.log('최종 페르소나 이름:', name, '(ID:', personaId, ')');\n    return name;\n  };\n\n  const getModalContent = () => {\n    if (!confirmationModal) return null;\n    \n    const { type, sentence } = confirmationModal;\n    const personaName = getPersonaName(sentence);\n    \n    switch (type) {\n      case 'interact':\n        return {\n          title: '상호작용 하기',\n          message: `해당 인물(${personaName})의 페이지에서 상호작용을 하시겠습니까?`,\n          confirmText: '상호작용',\n          cancelText: '취소'\n        };\n      case 'navigate':\n        return {\n          title: '해당 기록으로 이동',\n          message: '해당 기록으로 이동하시겠습니까?',\n          confirmText: '이동',\n          cancelText: '취소'\n        };\n      case 'delete':\n        return {\n          title: '문장 삭제',\n          message: '이 문장을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.',\n          confirmText: '삭제',\n          cancelText: '취소'\n        };\n      default:\n        return null;\n    }\n  };\n\n  if (loading) {\n    return (\n      <Container>\n        <div style={{ padding: '40px', textAlign: 'center' }}>\n          로딩 중...\n        </div>\n      </Container>\n    );\n  }\n\n  const modalContent = getModalContent();\n\n  return (\n    <Container>\n      <Header>\n        <NavigationButton\n          onClick={() => handleNavigateFilter('prev')}\n          disabled={currentFilterIndex === 0}\n        >\n          ‹\n        </NavigationButton>\n        \n        {filterOptions.slice(0, 4).map(option => (\n          <FilterButton\n            key={option}\n            $isActive={currentFilter === option}\n            onClick={() => handleFilterChange(option)}\n          >\n            {option}\n          </FilterButton>\n        ))}\n        \n        <NavigationButton\n          onClick={() => handleNavigateFilter('next')}\n          disabled={currentFilterIndex === filterOptions.length - 1}\n        >\n          ›\n        </NavigationButton>\n      </Header>\n\n      <ContentArea>\n        {filteredSentences.length === 0 ? (\n          <EmptyState>\n            <div className=\"icon\">📝</div>\n            <div className=\"title\">저장된 문장이 없습니다</div>\n            <div className=\"description\">\n              훈습 페이지에서 문장을 저장고에 저장해보세요\n            </div>\n          </EmptyState>\n        ) : (\n          <SentenceGrid>\n            {filteredSentences.map(sentence => (\n              <SentenceContainer key={sentence.id}>\n                <SentenceRow\n                  $isPinned={pinnedSentences.has(sentence.id)}\n                  onClick={(e) => handleSentenceClick(e, sentence)}\n                >\n                  <SentenceContent>\n                    <SentenceText>{sentence.sentence}</SentenceText>\n                  </SentenceContent>\n                  <PinIcon\n                    $isPinned={pinnedSentences.has(sentence.id)}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      togglePin(sentence.id);\n                    }}\n                  />\n                </SentenceRow>\n                <SentenceMetaExternal>\n                  <PersonaLabel>{getPersonaName(sentence)}</PersonaLabel>\n                  <DateLabel>{new Date(sentence.created_at).toLocaleDateString('ko-KR')}</DateLabel>\n                </SentenceMetaExternal>\n              </SentenceContainer>\n            ))}\n          </SentenceGrid>\n        )}\n      </ContentArea>\n\n      {/* 컨텍스트 메뉴 */}\n      {contextMenu && (\n        <ContextMenuContainer $x={contextMenu.x} $y={contextMenu.y}>\n          <ContextMenuItem onClick={() => handleContextMenuAction('interact', contextMenu.sentence)}>\n            상호작용 하기\n          </ContextMenuItem>\n          <ContextMenuItem onClick={() => handleContextMenuAction('navigate', contextMenu.sentence)}>\n            해당 기록으로 이동\n          </ContextMenuItem>\n          <ContextMenuItem onClick={() => handleContextMenuAction('delete', contextMenu.sentence)}>\n            삭제\n          </ContextMenuItem>\n        </ContextMenuContainer>\n      )}\n\n      {/* 확인 모달 */}\n      {confirmationModal && modalContent && (\n        <ModalOverlay onClick={() => setConfirmationModal(null)}>\n          <ModalContent onClick={(e) => e.stopPropagation()}>\n            <ModalTitle>{modalContent.title}</ModalTitle>\n            <ModalMessage>{modalContent.message}</ModalMessage>\n            <ModalButtons>\n              <ModalButton \n                $variant=\"secondary\" \n                onClick={() => setConfirmationModal(null)}\n              >\n                {modalContent.cancelText}\n              </ModalButton>\n              <ModalButton \n                $variant=\"primary\" \n                onClick={handleConfirmAction}\n              >\n                {modalContent.confirmText}\n              </ModalButton>\n            </ModalButtons>\n          </ModalContent>\n        </ModalOverlay>\n      )}\n    </Container>\n  );\n};\n\nexport default SentenceVaultView; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,WAAW,QAA2B,gCAAgC;AAC/E,SAASC,OAAO,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAmBnD,MAAMC,SAAS,GAAGL,MAAM,CAACM,GAAG;AAC5B;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAJIF,SAAS;AAMf,MAAMG,MAAM,GAAGR,MAAM,CAACM,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GARID,MAAM;AAUZ,MAAME,YAAY,GAAGV,MAAM,CAACW,MAA8B;AAC1D,gBAAgBC,KAAK,IAAIA,KAAK,CAACC,SAAS,GAAG,SAAS,GAAG,gDAAgD;AACvG,WAAWD,KAAK,IAAIA,KAAK,CAACC,SAAS,GAAG,OAAO,GAAG,MAAM;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkBD,KAAK,IAAIA,KAAK,CAACC,SAAS,GAAG,SAAS,GAAG,mDAAmD;AAC5G;AACA,CAAC;AAACC,GAAA,GAZIJ,YAAY;AAclB,MAAMK,gBAAgB,GAAGf,MAAM,CAACW,MAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GArBID,gBAAgB;AAuBtB,MAAME,WAAW,GAAGjB,MAAM,CAACM,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACY,GAAA,GALID,WAAW;AAOjB,MAAME,YAAY,GAAGnB,MAAM,CAACM,GAAG;AAC/B;AACA;AACA;AACA,CAAC;AAACc,GAAA,GAJID,YAAY;AAMlB,MAAME,iBAAiB,GAAGrB,MAAM,CAACM,GAAG;AACpC;AACA;AACA;AACA,CAAC;AAACgB,GAAA,GAJID,iBAAiB;AAMvB,MAAME,WAAW,GAAGvB,MAAM,CAACM,GAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIM,KAAK,IAAIA,KAAK,CAACY,SAAS,IAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AAACC,GAAA,GA9BIF,WAAW;AAgCjB,MAAMG,eAAe,GAAG1B,MAAM,CAACM,GAAG;AAClC;AACA,CAAC;AAACqB,GAAA,GAFID,eAAe;AAIrB,MAAME,YAAY,GAAG5B,MAAM,CAACM,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACuB,GAAA,GANID,YAAY;AAQlB,MAAME,oBAAoB,GAAG9B,MAAM,CAACM,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACyB,GAAA,GAPID,oBAAoB;AAS1B,MAAME,YAAY,GAAGhC,MAAM,CAACiC,IAAI;AAChC;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GANIF,YAAY;AAQlB,MAAMG,SAAS,GAAGnC,MAAM,CAACiC,IAAI;AAC7B;AACA;AACA,CAAC;AAACG,IAAA,GAHID,SAAS;AAKf,MAAME,OAAO,GAAGrC,MAAM,CAACM,GAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAWM,KAAK,IAAIA,KAAK,CAACY,SAAS,GAAG,MAAM,GAAG,aAAa;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAID,WAAW;AACf,aAAaX,KAAK,IAAIA,KAAK,CAACY,SAAS,GAAG,MAAM,GAAG,MAAM;AACvD;AACA;AACA;AACA,eAAeZ,KAAK,IAAIA,KAAK,CAACY,SAAS,GAAG,KAAK,GAAG,KAAK;AACvD;AACA,CAAC;AAACc,IAAA,GA5BID,OAAO;AA8Bb,MAAME,UAAU,GAAGvC,MAAM,CAACM,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GAnBID,UAAU;AAqBhB,MAAM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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}