/*! For license information please see main.4061200e.js.LICENSE.txt */
(()=>{var e={43:(e,n,t)=>{"use strict";e.exports=t(202)},153:(e,n,t)=>{"use strict";var r=t(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,a={},c=null,u=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)i.call(n,r)&&!l.hasOwnProperty(r)&&(a[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===a[r]&&(a[r]=n[r]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:s.current}}n.Fragment=a,n.jsx=c,n.jsxs=c},202:(e,n)=>{"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}function y(){}function x(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,n,r){var o,a={},i=null,s=null;if(null!=n)for(o in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(i=""+n.key),n)S.call(n,o)&&!k.hasOwnProperty(o)&&(a[o]=n[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:t,type:e,key:i,ref:s,props:a,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var j=/\/+/g;function T(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function P(e,n,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+T(l,0):a,w(i)?(o="",null!=e&&(o=e.replace(j,"$&/")+"/"),P(i,n,o,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+e)),n.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+T(s=e[c],c);l+=P(s,n,o,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,n,o,u=a+T(s,c++),i);else if("object"===s)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,n,t){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return n.call(t,e,o++)})),r}function I(e){if(-1===e._status){var n=e._result;(n=n()).then((function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)}),(function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)})),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},z={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:z,ReactCurrentOwner:_};function N(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:A,forEach:function(e,n,t){A(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return A(e,(function(){n++})),n},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=v,n.Fragment=o,n.Profiler=i,n.PureComponent=x,n.StrictMode=a,n.Suspense=u,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,n.act=N,n.cloneElement=function(e,n,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,s=_.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)S.call(n,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:t,type:e.type,key:a,ref:i,props:o,_owner:s}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=E,n.createFactory=function(e){var n=E.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=C,n.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=z.transition;z.transition={};try{e()}finally{z.transition=n}},n.unstable_act=N,n.useCallback=function(e,n){return O.current.useCallback(e,n)},n.useContext=function(e){return O.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return O.current.useDeferredValue(e)},n.useEffect=function(e,n){return O.current.useEffect(e,n)},n.useId=function(){return O.current.useId()},n.useImperativeHandle=function(e,n,t){return O.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return O.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return O.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return O.current.useMemo(e,n)},n.useReducer=function(e,n,t){return O.current.useReducer(e,n,t)},n.useRef=function(e){return O.current.useRef(e)},n.useState=function(e){return O.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return O.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return O.current.useTransition()},n.version="18.3.1"},234:(e,n)=>{"use strict";function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,o=e[r];if(!(0<a(o,n)))break e;e[r]=n,e[t]=o,t=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,t))c<o&&0>a(u,l)?(e[r]=u,e[c]=t,r=c):(e[r]=l,e[s]=t,r=s);else{if(!(c<o&&0>a(u,t)))break e;e[r]=u,e[c]=t,r=c}}}return n}function a(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var n=r(u);null!==n;){if(null===n.callback)o(u);else{if(!(n.startTime<=e))break;o(u),n.sortIndex=n.expirationTime,t(c,n)}n=r(u)}}function w(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,z(S);else{var n=r(u);null!==n&&R(w,n.startTime-e)}}function S(e,t){g=!1,m&&(m=!1,y(C),C=-1),h=!0;var a=p;try{for(b(t),f=r(c);null!==f&&(!(f.expirationTime>t)||e&&!P());){var i=f.callback;if("function"===typeof i){f.callback=null,p=f.priorityLevel;var s=i(f.expirationTime<=t);t=n.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&o(c),b(t)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-t),l=!1}return l}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,E=null,C=-1,j=5,T=-1;function P(){return!(n.unstable_now()-T<j)}function A(){if(null!==E){var e=n.unstable_now();T=e;var t=!0;try{t=E(!0,e)}finally{t?_():(k=!1,E=null)}}else k=!1}if("function"===typeof x)_=function(){x(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,O=I.port2;I.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){v(A,0)};function z(e){E=e,k||(k=!0,_())}function R(e,t){C=v((function(){e(n.unstable_now())}),t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){g||h||(g=!0,z(S))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(e){switch(p){case 1:case 2:case 3:var n=3;break;default:n=p}var t=p;p=n;try{return e()}finally{p=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=p;p=e;try{return n()}finally{p=t}},n.unstable_scheduleCallback=function(e,o,a){var i=n.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,t(u,e),null===r(c)&&e===r(u)&&(m?(y(C),C=-1):m=!0,R(w,a-i))):(e.sortIndex=s,t(c,e),g||h||(g=!0,z(S))),e},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(e){var n=p;return function(){var t=p;p=n;try{return e.apply(this,arguments)}finally{p=t}}}},324:e=>{e.exports=function(e,n,t,r){var o=t?t.call(r,e,n):void 0;if(void 0!==o)return!!o;if(e===n)return!0;if("object"!==typeof e||!e||"object"!==typeof n||!n)return!1;var a=Object.keys(e),i=Object.keys(n);if(a.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var u=e[c],d=n[c];if(!1===(o=t?t.call(r,u,d,c):void 0)||void 0===o&&u!==d)return!1}return!0}},391:(e,n,t)=>{"use strict";var r=t(950);n.createRoot=r.createRoot,n.hydrateRoot=r.hydrateRoot},453:(e,n,t)=>{"use strict";t.d(n,{J:()=>o,chatApi:()=>a});var r=t(917);const o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",a={getPersonas:async()=>(0,r.Vg)("/personas"),getInterpretationStatus:async()=>(0,r.Vg)("/interpretations/status"),generateInterpretation:async e=>(0,r.$P)("/interpretations/generate",e),getInterpretation:async e=>(0,r.Vg)("/interpretations/".concat(e)),sendInitialMessage:async e=>(0,r.Og)({personaId:"",message:e}),continueConversation:async(e,n,t)=>(0,r.Og)({personaId:e,message:n,conversationId:t}),getConversation:async e=>(0,r.Vg)("/conversations/".concat(e)),getAllConversations:async()=>(0,r.Vg)("/conversations"),getGlobalMessages:async()=>(0,r.Vg)("/messages"),editMessage:async(e,n,t)=>(0,r.mu)("/conversations/".concat(e,"/messages/").concat(n),{new_content:t}),editThreadMessage:async(e,n,t)=>(0,r.mu)("/threads/".concat(e,"/messages/").concat(n),{new_content:t}),generateAllInterpretations:async()=>(0,r.$P)("/interpretations/generate-all"),chatWithInterpretation:async(e,n)=>(console.warn("chatWithInterpretation is deprecated. Use universalChat instead."),(0,r.Og)({personaId:e,message:n,contextType:"interpretation"})),chatWithContext:async(e,n,t,o,a)=>(0,r.Og)({personaId:e,message:n,contextType:t,contextContent:o,threadId:a}),generateProceed:async e=>(0,r.$P)("/proceed/generate",e),generateSentence:async e=>(0,r.$P)("/sentence/generate",e),getProceedContent:async e=>(0,r.Vg)("/proceed/".concat(e)),getSentenceContent:async e=>(0,r.Vg)("/sentence/".concat(e)),getPersonaThreads:async e=>(0,r.Vg)("/threads/".concat(e)),getPersonaThreadsByType:async(e,n)=>(0,r.Vg)("/threads/".concat(e,"/").concat(n)),chatWithThread:async e=>(0,r.Og)({personaId:"",message:e.user_message,threadId:e.thread_id}),getAllInteractionRecords:async()=>(0,r.Vg)("/interaction-records"),getInteractionRecord:async e=>(0,r.Vg)("/interaction-records/".concat(e)),generateInterpretationWithExtras:async e=>(0,r.$P)("/interpretations/generate-with-extras",e),deleteThread:async e=>(0,r.Al)("/threads/".concat(e)),saveCurrentAsProceed:async(e,n)=>(0,r.$P)("/proceed/save",{persona_id:e,content:n}),saveCurrentAsSentence:async(e,n)=>(0,r.$P)("/sentence/save",{persona_id:e,content:n}),saveCurrentAsInterpretation:async(e,n)=>(0,r.$P)("/interpretations/save",{persona_id:e,content:n}),chatWithVerbalization:async(e,n)=>(0,r.Og)({personaId:"",message:e,contextType:"verbalization",threadId:n}),getVerbalizationThreads:async()=>(0,r.Vg)("/verbalization/threads"),createNewVerbalizationThread:async()=>(0,r.$P)("/verbalization/new-thread")}},555:(e,n,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var n=function(e,n){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==r(n)?n:n+""}function a(e,n,t){return(n=o(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.d(n,{A:()=>s})},579:(e,n,t)=>{"use strict";e.exports=t(153)},730:(e,n,t)=>{"use strict";var r=t(43),o=t(853);function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(s[e]=n,e=0;e<n.length;e++)i.add(n[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(e,n,t,r,o,a,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var n=e[0];m[n]=new g(n,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,n,t,r){var o=m.hasOwnProperty(n)?m[n]:null;(null!==o?0!==o.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null===n||"undefined"===typeof n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,o,r)&&(t=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):o.mustUseProperty?e[o.propertyName]=null===t?3!==o.type&&"":t:(n=o.attributeName,r=o.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(o=o.type)||4===o&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var n=e.replace(v,y);m[n]=new g(n,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var n=e.replace(v,y);m[n]=new g(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var n=e.replace(v,y);m[n]=new g(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,L=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);D=n&&n[1]||""}return"\n"+D+e}var $=!1;function F(e,n){if(!e||$)return"";$=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(c){var r=c}Reflect.construct(e,[],n)}else{try{n.call()}catch(c){r=c}e.call(n.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{$=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case E:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(n=e.displayName||null)?n:H(e.type)||"Memo";case O:n=e._payload,e=e._init;try{return H(e(n))}catch(t){}}return null}function W(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(n);case 8:return n===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function K(e){e._valueTracker||(e._valueTracker=function(e){var n=V(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var o=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function q(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function Y(e,n){var t=n.checked;return L({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function G(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=B(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function X(e,n){null!=(n=n.checked)&&x(e,"checked",n,!1)}function J(e,n){X(e,n);var t=B(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,B(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Z(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&Q(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var o=0;o<t.length;o++)n["$"+t[o]]=!0;for(t=0;t<e.length;t++)o=n.hasOwnProperty("$"+e[t].value),e[t].selected!==o&&(e[t].selected=o),o&&r&&(e[t].defaultSelected=!0)}else{for(t=""+B(t),n=null,o=0;o<e.length;o++){if(e[o].value===t)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==n||e[o].disabled||(n=e[o])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(a(91));return L({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(a(92));if(ne(t)){if(1<t.length)throw Error(a(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:B(t)}}function ae(e,n){var t=B(n.value),r=B(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?se(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,n)}))}:ue);function fe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ge(e,n,t){return null==n||"boolean"===typeof n||""===n?"":t||"number"!==typeof n||0===n||pe.hasOwnProperty(e)&&pe[e]?(""+n).trim():n+"px"}function me(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),o=ge(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,o):e[t]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),pe[n]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,n){if(n){if(ve[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(a(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(a(62))}}function xe(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function Ee(e){if(e=bo(e)){if("function"!==typeof Se)throw Error(a(280));var n=e.stateNode;n&&(n=So(n),Se(e.stateNode,e.type,n))}}function Ce(e){_e?ke?ke.push(e):ke=[e]:_e=e}function je(){if(_e){var e=_e,n=ke;if(ke=_e=null,Ee(e),n)for(e=0;e<n.length;e++)Ee(n[e])}}function Te(e,n){return e(n)}function Pe(){}var Ae=!1;function Ie(e,n,t){if(Ae)return e(n,t);Ae=!0;try{return Te(e,n,t)}finally{Ae=!1,(null!==_e||null!==ke)&&(Pe(),je())}}function Oe(e,n){var t=e.stateNode;if(null===t)return null;var r=So(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(a(231,n,typeof t));return t}var ze=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){ze=!1}function Ne(e,n,t,r,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Me=!1,$e=null,Fe={onError:function(e){De=!0,Le=e}};function Ue(e,n,t,r,o,a,i,s,l){De=!1,Le=null,Ne.apply(Fe,arguments)}function He(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function We(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function Be(e){if(He(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=He(e)))throw Error(a(188));return n!==e?null:e}for(var t=e,r=n;;){var o=t.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return Be(o),e;if(i===r)return Be(o),n;i=i.sibling}throw Error(a(188))}if(t.return!==r.return)t=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===t){s=!0,t=o,r=i;break}if(l===r){s=!0,r=o,t=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===t){s=!0,t=i,r=o;break}if(l===r){s=!0,r=i,t=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(t.alternate!==r)throw Error(a(190))}if(3!==t.tag)throw Error(a(188));return t.stateNode.current===t?e:n}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Ke(e);if(null!==n)return n;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Ge=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,en=o.unstable_UserBlockingPriority,nn=o.unstable_NormalPriority,tn=o.unstable_LowPriority,rn=o.unstable_IdlePriority,on=null,an=null;var sn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2;var un=64,dn=4194304;function fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var s=i&~o;0!==s?r=fn(s):0!==(a&=i)&&(r=fn(a))}else 0!==(i=t&~o)?r=fn(i):0!==a&&(r=fn(a));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&o)&&((o=r&-r)>=(a=n&-n)||16===o&&0!==(4194240&a)))return n;if(0!==(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)o=1<<(t=31-sn(n)),r|=e[t],n&=~o;return r}function hn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function gn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mn(){var e=un;return 0===(4194240&(un<<=1))&&(un=64),e}function vn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function yn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-sn(n)]=t}function xn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-sn(t),o=1<<r;o&n|e[r]&n&&(e[r]|=n),t&=~o}}var bn=0;function wn(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Sn,_n,kn,En,Cn,jn=!1,Tn=[],Pn=null,An=null,In=null,On=new Map,zn=new Map,Rn=[],Nn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dn(e,n){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":On.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(n.pointerId)}}function Ln(e,n,t,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==n&&(null!==(n=bo(n))&&_n(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==o&&-1===n.indexOf(o)&&n.push(o),e)}function Mn(e){var n=xo(e.target);if(null!==n){var t=He(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=We(t)))return e.blockedOn=n,void Cn(e.priority,(function(){kn(t)}))}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function $n(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Gn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=bo(t))&&_n(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);be=r,t.target.dispatchEvent(r),be=null,n.shift()}return!0}function Fn(e,n,t){$n(e)&&t.delete(n)}function Un(){jn=!1,null!==Pn&&$n(Pn)&&(Pn=null),null!==An&&$n(An)&&(An=null),null!==In&&$n(In)&&(In=null),On.forEach(Fn),zn.forEach(Fn)}function Hn(e,n){e.blockedOn===n&&(e.blockedOn=null,jn||(jn=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Un)))}function Wn(e){function n(n){return Hn(n,e)}if(0<Tn.length){Hn(Tn[0],e);for(var t=1;t<Tn.length;t++){var r=Tn[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pn&&Hn(Pn,e),null!==An&&Hn(An,e),null!==In&&Hn(In,e),On.forEach(n),zn.forEach(n),t=0;t<Rn.length;t++)(r=Rn[t]).blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&null===(t=Rn[0]).blockedOn;)Mn(t),null===t.blockedOn&&Rn.shift()}var Bn=b.ReactCurrentBatchConfig,Vn=!0;function Kn(e,n,t,r){var o=bn,a=Bn.transition;Bn.transition=null;try{bn=1,Qn(e,n,t,r)}finally{bn=o,Bn.transition=a}}function qn(e,n,t,r){var o=bn,a=Bn.transition;Bn.transition=null;try{bn=4,Qn(e,n,t,r)}finally{bn=o,Bn.transition=a}}function Qn(e,n,t,r){if(Vn){var o=Gn(e,n,t,r);if(null===o)Br(e,n,r,Yn,t),Dn(e,r);else if(function(e,n,t,r,o){switch(n){case"focusin":return Pn=Ln(Pn,e,n,t,r,o),!0;case"dragenter":return An=Ln(An,e,n,t,r,o),!0;case"mouseover":return In=Ln(In,e,n,t,r,o),!0;case"pointerover":var a=o.pointerId;return On.set(a,Ln(On.get(a)||null,e,n,t,r,o)),!0;case"gotpointercapture":return a=o.pointerId,zn.set(a,Ln(zn.get(a)||null,e,n,t,r,o)),!0}return!1}(o,e,n,t,r))r.stopPropagation();else if(Dn(e,r),4&n&&-1<Nn.indexOf(e)){for(;null!==o;){var a=bo(o);if(null!==a&&Sn(a),null===(a=Gn(e,n,t,r))&&Br(e,n,r,Yn,t),a===o)break;o=a}null!==o&&r.stopPropagation()}else Br(e,n,r,null,t)}}var Yn=null;function Gn(e,n,t,r){if(Yn=null,null!==(e=xo(e=we(r))))if(null===(n=He(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=We(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yn=e,null}function Xn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Jn=null,Zn=null,et=null;function nt(){if(et)return et;var e,n,t=Zn,r=t.length,o="value"in Jn?Jn.value:Jn.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return et=o.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function ot(){return!1}function at(e){function n(n,t,r,o,a){for(var i in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rt:ot,this.isPropagationStopped=ot,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var it,st,lt,ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ut=at(ct),dt=L({},ct,{view:0,detail:0}),ft=at(dt),pt=L({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Et,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lt&&(lt&&"mousemove"===e.type?(it=e.screenX-lt.screenX,st=e.screenY-lt.screenY):st=it=0,lt=e),it)},movementY:function(e){return"movementY"in e?e.movementY:st}}),ht=at(pt),gt=at(L({},pt,{dataTransfer:0})),mt=at(L({},dt,{relatedTarget:0})),vt=at(L({},ct,{animationName:0,elapsedTime:0,pseudoElement:0})),yt=L({},ct,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xt=at(yt),bt=at(L({},ct,{data:0})),wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=_t[e])&&!!n[e]}function Et(){return kt}var Ct=L({},dt,{key:function(e){if(e.key){var n=wt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?St[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Et,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jt=at(Ct),Tt=at(L({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pt=at(L({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Et})),At=at(L({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0})),It=L({},pt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ot=at(It),zt=[9,13,27,32],Rt=u&&"CompositionEvent"in window,Nt=null;u&&"documentMode"in document&&(Nt=document.documentMode);var Dt=u&&"TextEvent"in window&&!Nt,Lt=u&&(!Rt||Nt&&8<Nt&&11>=Nt),Mt=String.fromCharCode(32),$t=!1;function Ft(e,n){switch(e){case"keyup":return-1!==zt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ut(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ht=!1;var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Wt[e.type]:"textarea"===n}function Vt(e,n,t,r){Ce(r),0<(n=Kr(n,"onChange")).length&&(t=new ut("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Kt=null,qt=null;function Qt(e){Mr(e,0)}function Yt(e){if(q(wo(e)))return e}function Gt(e,n){if("change"===e)return n}var Xt=!1;if(u){var Jt;if(u){var Zt="oninput"in document;if(!Zt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zt="function"===typeof er.oninput}Jt=Zt}else Jt=!1;Xt=Jt&&(!document.documentMode||9<document.documentMode)}function nr(){Kt&&(Kt.detachEvent("onpropertychange",tr),qt=Kt=null)}function tr(e){if("value"===e.propertyName&&Yt(qt)){var n=[];Vt(n,qt,e,we(e)),Ie(Qt,n)}}function rr(e,n,t){"focusin"===e?(nr(),qt=t,(Kt=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yt(qt)}function ar(e,n){if("click"===e)return Yt(n)}function ir(e,n){if("input"===e||"change"===e)return Yt(n)}var sr="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function lr(e,n){if(sr(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!d.call(n,o)||!sr(e[o],n[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,n){var t,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?dr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function fr(){for(var e=window,n=Q();n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(r){t=!1}if(!t)break;n=Q((e=n.contentWindow).document)}return n}function pr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function hr(e){var n=fr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&dr(t.ownerDocument.documentElement,t)){if(null!==r&&pr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var o=t.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ur(t,a);var i=ur(t,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,xr=!1;function br(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;xr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(n=new ut("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=mr)))}function wr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function Er(e){if(_r[e])return _r[e];if(!Sr[e])return e;var n,t=Sr[e];for(n in t)if(t.hasOwnProperty(n)&&n in kr)return _r[e]=t[n];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Er("animationend"),jr=Er("animationiteration"),Tr=Er("animationstart"),Pr=Er("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,n){Ar.set(e,n),l(n,[e])}for(var zr=0;zr<Ir.length;zr++){var Rr=Ir[zr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(jr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Lr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,o,i,s,l,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(a(198));var u=Le;De=!1,Le=null,Me||(Me=!0,$e=u)}}(r,n,void 0,e),e.currentTarget=null}function Mr(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var r=e[t],o=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;Lr(o,s,c),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;Lr(o,s,c),a=l}}}if(Me)throw e=$e,Me=!1,$e=null,e}function $r(e,n){var t=n[mo];void 0===t&&(t=n[mo]=new Set);var r=e+"__bubble";t.has(r)||(Wr(n,e,2,!1),t.add(r))}function Fr(e,n,t){var r=0;n&&(r|=4),Wr(t,e,r,n)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(n){"selectionchange"!==n&&(Dr.has(n)||Fr(n,!1,e),Fr(n,!0,e))}));var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Ur]||(n[Ur]=!0,Fr("selectionchange",!1,n))}}function Wr(e,n,t,r){switch(Xn(n)){case 1:var o=Kn;break;case 4:o=qn;break;default:o=Qn}t=o.bind(null,n,t,e),o=void 0,!ze||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(o=!0),r?void 0!==o?e.addEventListener(n,t,{capture:!0,passive:o}):e.addEventListener(n,t,!0):void 0!==o?e.addEventListener(n,t,{passive:o}):e.addEventListener(n,t,!1)}function Br(e,n,t,r,o){var a=r;if(0===(1&n)&&0===(2&n)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=xo(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=a,o=we(t),i=[];e:{var s=Ar.get(e);if(void 0!==s){var l=ut,c=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":l=jt;break;case"focusin":c="focus",l=mt;break;case"focusout":c="blur",l=mt;break;case"beforeblur":case"afterblur":l=mt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pt;break;case Cr:case jr:case Tr:l=vt;break;case Pr:l=At;break;case"scroll":l=ft;break;case"wheel":l=Ot;break;case"copy":case"cut":case"paste":l=xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tt}var u=0!==(4&n),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(null!=(g=Oe(h,f))&&u.push(Vr(h,g,p)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,t,o),i.push({event:s,listeners:u}))}}if(0===(7&n)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||t===be||!(c=t.relatedTarget||t.fromElement)||!xo(c)&&!c[go])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=t.relatedTarget||t.toElement)?xo(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=ht,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tt,g="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:wo(l),p=null==c?s:wo(c),(s=new u(g,h+"leave",l,t,o)).target=d,s.relatedTarget=p,g=null,xo(o)===r&&((u=new u(f,h+"enter",c,t,o)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(f=c,h=0,p=u=l;p;p=qr(p))h++;for(p=0,g=f;g;g=qr(g))p++;for(;0<h-p;)u=qr(u),h--;for(;0<p-h;)f=qr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=qr(u),f=qr(f)}u=null}else u=null;null!==l&&Qr(i,s,l,u,!1),null!==c&&null!==d&&Qr(i,d,c,u,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Gt;else if(Bt(s))if(Xt)m=ir;else{m=or;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Vt(i,m,t,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wo(r):window,e){case"focusin":(Bt(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(i,t,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(i,t,o)}var y;if(Rt)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ht?Ft(e,t)&&(x="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(x="onCompositionStart");x&&(Lt&&"ko"!==t.locale&&(Ht||"onCompositionStart"!==x?"onCompositionEnd"===x&&Ht&&(y=nt()):(Zn="value"in(Jn=o)?Jn.value:Jn.textContent,Ht=!0)),0<(v=Kr(r,x)).length&&(x=new bt(x,e,null,t,o),i.push({event:x,listeners:v}),y?x.data=y:null!==(y=Ut(t))&&(x.data=y))),(y=Dt?function(e,n){switch(e){case"compositionend":return Ut(n);case"keypress":return 32!==n.which?null:($t=!0,Mt);case"textInput":return(e=n.data)===Mt&&$t?null:e;default:return null}}(e,t):function(e,n){if(Ht)return"compositionend"===e||!Rt&&Ft(e,n)?(e=nt(),et=Zn=Jn=null,Ht=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lt&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new bt("onBeforeInput","beforeinput",null,t,o),i.push({event:o,listeners:r}),o.data=y))}Mr(i,n)}))}function Vr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Kr(e,n){for(var t=n+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Oe(e,t))&&r.unshift(Vr(e,a,o)),null!=(a=Oe(e,n))&&r.push(Vr(e,a,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,n,t,r,o){for(var a=n._reactName,i=[];null!==t&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Oe(t,a))&&i.unshift(Vr(t,l,s)):o||null!=(l=Oe(t,a))&&i.push(Vr(t,l,s))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var Yr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Gr,"")}function Jr(e,n,t){if(n=Xr(n),Xr(e)!==n&&t)throw Error(a(425))}function Zr(){}var eo=null,no=null;function to(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,n){var t=n,r=0;do{var o=t.nextSibling;if(e.removeChild(t),o&&8===o.nodeType)if("/$"===(t=o.data)){if(0===r)return e.removeChild(o),void Wn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=o}while(t);Wn(n)}function co(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function uo(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,go="__reactContainer$"+fo,mo="__reactEvents$"+fo,vo="__reactListeners$"+fo,yo="__reactHandles$"+fo;function xo(e){var n=e[po];if(n)return n;for(var t=e.parentNode;t;){if(n=t[go]||t[po]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=uo(e);null!==e;){if(t=e[po])return t;e=uo(e)}return n}t=(e=t).parentNode}return null}function bo(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function So(e){return e[ho]||null}var _o=[],ko=-1;function Eo(e){return{current:e}}function Co(e){0>ko||(e.current=_o[ko],_o[ko]=null,ko--)}function jo(e,n){ko++,_o[ko]=e.current,e.current=n}var To={},Po=Eo(To),Ao=Eo(!1),Io=To;function Oo(e,n){var t=e.type.contextTypes;if(!t)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in t)a[o]=n[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function zo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){Co(Ao),Co(Po)}function No(e,n,t){if(Po.current!==To)throw Error(a(168));jo(Po,n),jo(Ao,t)}function Do(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!==typeof r.getChildContext)return t;for(var o in r=r.getChildContext())if(!(o in n))throw Error(a(108,W(e)||"Unknown",o));return L({},t,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Io=Po.current,jo(Po,e),jo(Ao,Ao.current),!0}function Mo(e,n,t){var r=e.stateNode;if(!r)throw Error(a(169));t?(e=Do(e,n,Io),r.__reactInternalMemoizedMergedChildContext=e,Co(Ao),Co(Po),jo(Po,e)):Co(Ao),jo(Ao,t)}var $o=null,Fo=!1,Uo=!1;function Ho(e){null===$o?$o=[e]:$o.push(e)}function Wo(){if(!Uo&&null!==$o){Uo=!0;var e=0,n=bn;try{var t=$o;for(bn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}$o=null,Fo=!1}catch(o){throw null!==$o&&($o=$o.slice(e+1)),qe(Ze,Wo),o}finally{bn=n,Uo=!1}}return null}var Bo=[],Vo=0,Ko=null,qo=0,Qo=[],Yo=0,Go=null,Xo=1,Jo="";function Zo(e,n){Bo[Vo++]=qo,Bo[Vo++]=Ko,Ko=e,qo=n}function ea(e,n,t){Qo[Yo++]=Xo,Qo[Yo++]=Jo,Qo[Yo++]=Go,Go=e;var r=Xo;e=Jo;var o=32-sn(r)-1;r&=~(1<<o),t+=1;var a=32-sn(n)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Xo=1<<32-sn(n)+o|t<<o|r,Jo=a+e}else Xo=1<<a|t<<o|r,Jo=e}function na(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function ta(e){for(;e===Ko;)Ko=Bo[--Vo],Bo[Vo]=null,qo=Bo[--Vo],Bo[Vo]=null;for(;e===Go;)Go=Qo[--Yo],Qo[Yo]=null,Jo=Qo[--Yo],Qo[Yo]=null,Xo=Qo[--Yo],Qo[Yo]=null}var ra=null,oa=null,aa=!1,ia=null;function sa(e,n){var t=Ic(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function la(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ra=e,oa=co(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ra=e,oa=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Go?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Ic(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ra=e,oa=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var n=oa;if(n){var t=n;if(!la(e,n)){if(ca(e))throw Error(a(418));n=co(t.nextSibling);var r=ra;n&&la(e,n)?sa(r,t):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!to(e.type,e.memoizedProps)),n&&(n=oa)){if(ca(e))throw pa(),Error(a(418));for(;n;)sa(e,n),n=co(n.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){oa=co(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}oa=null}}else oa=ra?co(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=co(e.nextSibling)}function ha(){oa=ra=null,aa=!1}function ga(e){null===ia?ia=[e]:ia.push(e)}var ma=b.ReactCurrentBatchConfig;function va(e,n,t){if(null!==(e=t.ref)&&"function"!==typeof e&&"object"!==typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(a(309));var r=t.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=o.refs;null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!==typeof e)throw Error(a(284));if(!t._owner)throw Error(a(290,e))}return e}function ya(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function ba(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function o(e,n){return(e=zc(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Lc(t,e.mode,r)).return=e,n):((n=o(n,t)).return=e,n)}function c(e,n,t,r){var a=t.type;return a===_?d(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&xa(a)===n.type)?((r=o(n,t.props)).ref=va(e,n,t),r.return=e,r):((r=Rc(t.type,t.key,t.props,null,e.mode,r)).ref=va(e,n,t),r.return=e,r)}function u(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Mc(t,e.mode,r)).return=e,n):((n=o(n,t.children||[])).return=e,n)}function d(e,n,t,r,a){return null===n||7!==n.tag?((n=Nc(t,e.mode,r,a)).return=e,n):((n=o(n,t)).return=e,n)}function f(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n)return(n=Lc(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return(t=Rc(n.type,n.key,n.props,null,e.mode,t)).ref=va(e,null,n),t.return=e,t;case S:return(n=Mc(n,e.mode,t)).return=e,n;case O:return f(e,(0,n._init)(n._payload),t)}if(ne(n)||N(n))return(n=Nc(n,e.mode,t,null)).return=e,n;ya(e,n)}return null}function p(e,n,t,r){var o=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t)return null!==o?null:l(e,n,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return t.key===o?c(e,n,t,r):null;case S:return t.key===o?u(e,n,t,r):null;case O:return p(e,n,(o=t._init)(t._payload),r)}if(ne(t)||N(t))return null!==o?null:d(e,n,t,r,null);ya(e,t)}return null}function h(e,n,t,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(n,e=e.get(t)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(n,e=e.get(null===r.key?t:r.key)||null,r,o);case S:return u(n,e=e.get(null===r.key?t:r.key)||null,r,o);case O:return h(e,n,t,(0,r._init)(r._payload),o)}if(ne(r)||N(r))return d(n,e=e.get(t)||null,r,o,null);ya(n,r)}return null}function g(o,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(o,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&n(o,d),a=i(v,a,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return t(o,d),aa&&Zo(o,g),c;if(null===d){for(;g<s.length;g++)null!==(d=f(o,s[g],l))&&(a=i(d,a,g),null===u?c=d:u.sibling=d,u=d);return aa&&Zo(o,g),c}for(d=r(o,d);g<s.length;g++)null!==(m=h(d,o,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=i(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return n(o,e)})),aa&&Zo(o,g),c}function m(o,s,l,c){var u=N(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var x=p(o,g,y.value,c);if(null===x){null===g&&(g=v);break}e&&g&&null===x.alternate&&n(o,g),s=i(x,s,m),null===d?u=x:d.sibling=x,d=x,g=v}if(y.done)return t(o,g),aa&&Zo(o,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(o,y.value,c))&&(s=i(y,s,m),null===d?u=y:d.sibling=y,d=y);return aa&&Zo(o,m),u}for(g=r(o,g);!y.done;m++,y=l.next())null!==(y=h(g,o,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=i(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return n(o,e)})),aa&&Zo(o,m),u}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===_&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===_){if(7===u.tag){t(r,u.sibling),(a=o(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&xa(c)===u.type){t(r,u.sibling),(a=o(u,i.props)).ref=va(r,u,i),a.return=r,r=a;break e}t(r,u);break}n(r,u),u=u.sibling}i.type===_?((a=Nc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Rc(i.type,i.key,i.props,null,r.mode,l)).ref=va(r,a,i),l.return=r,r=l)}return s(r);case S:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){t(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}t(r,a);break}n(r,a),a=a.sibling}(a=Mc(i,r.mode,l)).return=r,r=a}return s(r);case O:return e(r,a,(u=i._init)(i._payload),l)}if(ne(i))return g(r,a,i,l);if(N(i))return m(r,a,i,l);ya(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(t(r,a.sibling),(a=o(a,i)).return=r,r=a):(t(r,a),(a=Lc(i,r.mode,l)).return=r,r=a),s(r)):t(r,a)}}var wa=ba(!0),Sa=ba(!1),_a=Eo(null),ka=null,Ea=null,Ca=null;function ja(){Ca=Ea=ka=null}function Ta(e){var n=_a.current;Co(_a),e._currentValue=n}function Pa(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Aa(e,n){ka=e,Ca=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(xs=!0),e.firstContext=null)}function Ia(e){var n=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:n,next:null},null===Ea){if(null===ka)throw Error(a(308));Ea=e,ka.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return n}var Oa=null;function za(e){null===Oa?Oa=[e]:Oa.push(e)}function Ra(e,n,t,r){var o=n.interleaved;return null===o?(t.next=t,za(n)):(t.next=o.next,o.next=t),n.interleaved=t,Na(e,r)}function Na(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Da=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Fa(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var o=r.pending;return null===o?n.next=n:(n.next=o.next,o.next=n),r.pending=n,Na(e,t)}return null===(o=r.interleaved)?(n.next=n,za(r)):(n.next=o.next,o.next=n),r.interleaved=n,Na(e,t)}function Ua(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,xn(e,t)}}function Ha(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var o=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?o=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?o=a=n:a=a.next=n}else o=a=n;return t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Wa(e,n,t,r){var o=e.updateQueue;Da=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,u=c=l=null,s=a;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,g=s;switch(f=n,p=t,g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=g.payload)?h.call(p,d,f):h)||void 0===f)break e;d=L({},d,f);break e;case 2:Da=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(n=o.shared.interleaved)){o=n;do{i|=o.lane,o=o.next}while(o!==n)}else null===a&&(o.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=d}}function Ba(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],o=r.callback;if(null!==o){if(r.callback=null,r=t,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Va={},Ka=Eo(Va),qa=Eo(Va),Qa=Eo(Va);function Ya(e){if(e===Va)throw Error(a(174));return e}function Ga(e,n){switch(jo(Qa,n),jo(qa,e),jo(Ka,Va),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:le(null,"");break;default:n=le(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Co(Ka),jo(Ka,n)}function Xa(){Co(Ka),Co(qa),Co(Qa)}function Ja(e){Ya(Qa.current);var n=Ya(Ka.current),t=le(n,e.type);n!==t&&(jo(qa,e),jo(Ka,t))}function Za(e){qa.current===e&&(Co(Ka),Co(qa))}var ei=Eo(0);function ni(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var oi=b.ReactCurrentDispatcher,ai=b.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,ui=!1,di=!1,fi=0,pi=0;function hi(){throw Error(a(321))}function gi(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!sr(e[t],n[t]))return!1;return!0}function mi(e,n,t,r,o,i){if(ii=i,si=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:es,e=t(r,o),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(a(301));i+=1,ci=li=null,n.updateQueue=null,oi.current=ns,e=t(r,o)}while(di)}if(oi.current=Ji,n=null!==li&&null!==li.next,ii=0,ci=li=si=null,ui=!1,n)throw Error(a(300));return e}function vi(){var e=0!==fi;return fi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function xi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var n=null===ci?si.memoizedState:ci.next;if(null!==n)ci=n,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function bi(e,n){return"function"===typeof n?n(e):n}function wi(e){var n=xi(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=li,o=r.baseQueue,i=t.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,t.pending=null}if(null!==o){i=o.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,si.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,sr(r,n.memoizedState)||(xs=!0),n.memoizedState=r,n.baseState=s,n.baseQueue=c,t.lastRenderedState=r}if(null!==(e=t.interleaved)){o=e;do{i=o.lane,si.lanes|=i,Dl|=i,o=o.next}while(o!==e)}else null===o&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Si(e){var n=xi(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=t.dispatch,o=t.pending,i=n.memoizedState;if(null!==o){t.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sr(i,n.memoizedState)||(xs=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function _i(){}function ki(e,n){var t=si,r=xi(),o=n(),i=!sr(r.memoizedState,o);if(i&&(r.memoizedState=o,xs=!0),r=r.queue,Di(ji.bind(null,t,r,e),[e]),r.getSnapshot!==n||i||null!==ci&&1&ci.memoizedState.tag){if(t.flags|=2048,Ii(9,Ci.bind(null,t,r,o,n),void 0,null),null===Pl)throw Error(a(349));0!==(30&ii)||Ei(t,n,o)}return o}function Ei(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=si.updateQueue)?(n={lastEffect:null,stores:null},si.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Ci(e,n,t,r){n.value=t,n.getSnapshot=r,Ti(n)&&Pi(e)}function ji(e,n,t){return t((function(){Ti(n)&&Pi(e)}))}function Ti(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!sr(e,t)}catch(r){return!0}}function Pi(e){var n=Na(e,1);null!==n&&tc(n,e,1,-1)}function Ai(e){var n=yi();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},n.queue=e,e=e.dispatch=Qi.bind(null,si,e),[n.memoizedState,e]}function Ii(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=si.updateQueue)?(n={lastEffect:null,stores:null},si.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Oi(){return xi().memoizedState}function zi(e,n,t,r){var o=yi();si.flags|=e,o.memoizedState=Ii(1|n,t,void 0,void 0===r?null:r)}function Ri(e,n,t,r){var o=xi();r=void 0===r?null:r;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==r&&gi(r,i.deps))return void(o.memoizedState=Ii(n,t,a,r))}si.flags|=e,o.memoizedState=Ii(1|n,t,a,r)}function Ni(e,n){return zi(8390656,8,e,n)}function Di(e,n){return Ri(2048,8,e,n)}function Li(e,n){return Ri(4,2,e,n)}function Mi(e,n){return Ri(4,4,e,n)}function $i(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Fi(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Ri(4,4,$i.bind(null,n,e),t)}function Ui(){}function Hi(e,n){var t=xi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&gi(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Wi(e,n){var t=xi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&gi(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Bi(e,n,t){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=t):(sr(t,n)||(t=mn(),si.lanes|=t,Dl|=t,e.baseState=!0),n)}function Vi(e,n){var t=bn;bn=0!==t&&4>t?t:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),n()}finally{bn=t,ai.transition=r}}function Ki(){return xi().memoizedState}function qi(e,n,t){var r=nc(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Yi(e))Gi(n,t);else if(null!==(t=Ra(e,n,t,r))){tc(t,e,r,ec()),Xi(t,n,r)}}function Qi(e,n,t){var r=nc(e),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Gi(n,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,s=a(i,t);if(o.hasEagerState=!0,o.eagerState=s,sr(s,i)){var l=n.interleaved;return null===l?(o.next=o,za(n)):(o.next=l.next,l.next=o),void(n.interleaved=o)}}catch(c){}null!==(t=Ra(e,n,o,r))&&(tc(t,e,r,o=ec()),Xi(t,n,r))}}function Yi(e){var n=e.alternate;return e===si||null!==n&&n===si}function Gi(e,n){di=ui=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Xi(e,n,t){if(0!==(4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,xn(e,t)}}var Ji={readContext:Ia,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:Ia,useCallback:function(e,n){return yi().memoizedState=[e,void 0===n?null:n],e},useContext:Ia,useEffect:Ni,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,zi(4194308,4,$i.bind(null,n,e),t)},useLayoutEffect:function(e,n){return zi(4194308,4,e,n)},useInsertionEffect:function(e,n){return zi(4,2,e,n)},useMemo:function(e,n){var t=yi();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=yi();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=qi.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ai,useDebugValue:Ui,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ai(!1),n=e[0];return e=Vi.bind(null,e[1]),yi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=si,o=yi();if(aa){if(void 0===t)throw Error(a(407));t=t()}else{if(t=n(),null===Pl)throw Error(a(349));0!==(30&ii)||Ei(r,n,t)}o.memoizedState=t;var i={value:t,getSnapshot:n};return o.queue=i,Ni(ji.bind(null,r,i,e),[e]),r.flags|=2048,Ii(9,Ci.bind(null,r,i,t,n),void 0,null),t},useId:function(){var e=yi(),n=Pl.identifierPrefix;if(aa){var t=Jo;n=":"+n+"R"+(t=(Xo&~(1<<32-sn(Xo)-1)).toString(32)+t),0<(t=fi++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=pi++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},es={readContext:Ia,useCallback:Hi,useContext:Ia,useEffect:Di,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Mi,useMemo:Wi,useReducer:wi,useRef:Oi,useState:function(){return wi(bi)},useDebugValue:Ui,useDeferredValue:function(e){return Bi(xi(),li.memoizedState,e)},useTransition:function(){return[wi(bi)[0],xi().memoizedState]},useMutableSource:_i,useSyncExternalStore:ki,useId:Ki,unstable_isNewReconciler:!1},ns={readContext:Ia,useCallback:Hi,useContext:Ia,useEffect:Di,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Mi,useMemo:Wi,useReducer:Si,useRef:Oi,useState:function(){return Si(bi)},useDebugValue:Ui,useDeferredValue:function(e){var n=xi();return null===li?n.memoizedState=e:Bi(n,li.memoizedState,e)},useTransition:function(){return[Si(bi)[0],xi().memoizedState]},useMutableSource:_i,useSyncExternalStore:ki,useId:Ki,unstable_isNewReconciler:!1};function ts(e,n){if(e&&e.defaultProps){for(var t in n=L({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function rs(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:L({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ec(),o=nc(e),a=$a(r,o);a.payload=n,void 0!==t&&null!==t&&(a.callback=t),null!==(n=Fa(e,a,o))&&(tc(n,e,o,r),Ua(n,e,o))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ec(),o=nc(e),a=$a(r,o);a.tag=1,a.payload=n,void 0!==t&&null!==t&&(a.callback=t),null!==(n=Fa(e,a,o))&&(tc(n,e,o,r),Ua(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ec(),r=nc(e),o=$a(t,r);o.tag=2,void 0!==n&&null!==n&&(o.callback=n),null!==(n=Fa(e,o,r))&&(tc(n,e,r,t),Ua(n,e,r))}};function as(e,n,t,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!lr(t,r)||!lr(o,a))}function is(e,n,t){var r=!1,o=To,a=n.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(o=zo(n)?Io:Po.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?Oo(e,o):To),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=os,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function ss(e,n,t,r){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&os.enqueueReplaceState(n,n.state,null)}function ls(e,n,t,r){var o=e.stateNode;o.props=t,o.state=e.memoizedState,o.refs={},La(e);var a=n.contextType;"object"===typeof a&&null!==a?o.context=Ia(a):(a=zo(n)?Io:Po.current,o.context=Oo(e,a)),o.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(rs(e,n,a,t),o.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(n=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&os.enqueueReplaceState(o,o.state,null),Wa(e,t,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,n){try{var t="",r=n;do{t+=U(r),r=r.return}while(r);var o=t}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:n,stack:o,digest:null}}function us(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function ds(e,n){try{console.error(n.value)}catch(t){setTimeout((function(){throw t}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,n,t){(t=$a(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Bl||(Bl=!0,Vl=r),ds(0,n)},t}function hs(e,n,t){(t=$a(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=n.value;t.payload=function(){return r(o)},t.callback=function(){ds(0,n)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){ds(0,n),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function gs(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var o=new Set;r.set(n,o)}else void 0===(o=r.get(n))&&(o=new Set,r.set(n,o));o.has(t)||(o.add(t),e=Ec.bind(null,e,n,t),n.then(e,e))}function ms(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function vs(e,n,t,r,o){return 0===(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=$a(-1,1)).tag=2,Fa(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ys=b.ReactCurrentOwner,xs=!1;function bs(e,n,t,r){n.child=null===e?Sa(n,null,t,r):wa(n,e.child,t,r)}function ws(e,n,t,r,o){t=t.render;var a=n.ref;return Aa(n,o),r=mi(e,n,t,r,a,o),t=vi(),null===e||xs?(aa&&t&&na(n),n.flags|=1,bs(e,n,r,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Bs(e,n,o))}function Ss(e,n,t,r,o){if(null===e){var a=t.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Rc(t.type,null,r,n,n.mode,o)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,_s(e,n,a,r,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(i,r)&&e.ref===n.ref)return Bs(e,n,o)}return n.flags|=1,(e=zc(a,r)).ref=n.ref,e.return=n,n.child=e}function _s(e,n,t,r,o){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===n.ref){if(xs=!1,n.pendingProps=r=a,0===(e.lanes&o))return n.lanes=e.lanes,Bs(e,n,o);0!==(131072&e.flags)&&(xs=!0)}}return Cs(e,n,t,r,o)}function ks(e,n,t){var r=n.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},jo(zl,Ol),Ol|=t;else{if(0===(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,jo(zl,Ol),Ol|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,jo(zl,Ol),Ol|=r}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,jo(zl,Ol),Ol|=r;return bs(e,n,o,t),n.child}function Es(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Cs(e,n,t,r,o){var a=zo(t)?Io:Po.current;return a=Oo(n,a),Aa(n,o),t=mi(e,n,t,r,a,o),r=vi(),null===e||xs?(aa&&r&&na(n),n.flags|=1,bs(e,n,t,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Bs(e,n,o))}function js(e,n,t,r,o){if(zo(t)){var a=!0;Lo(n)}else a=!1;if(Aa(n,o),null===n.stateNode)Ws(e,n),is(n,t,r),ls(n,t,r,o),r=!0;else if(null===e){var i=n.stateNode,s=n.memoizedProps;i.props=s;var l=i.context,c=t.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oo(n,c=zo(t)?Io:Po.current);var u=t.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==c)&&ss(n,i,r,c),Da=!1;var f=n.memoizedState;i.state=f,Wa(n,r,i,o),l=n.memoizedState,s!==r||f!==l||Ao.current||Da?("function"===typeof u&&(rs(n,t,u,r),l=n.memoizedState),(s=Da||as(n,t,s,r,f,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(n.flags|=4194308)):("function"===typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"===typeof i.componentDidMount&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,Ma(e,n),s=n.memoizedProps,c=n.type===n.elementType?s:ts(n.type,s),i.props=c,d=n.pendingProps,f=i.context,"object"===typeof(l=t.contextType)&&null!==l?l=Ia(l):l=Oo(n,l=zo(t)?Io:Po.current);var p=t.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||f!==l)&&ss(n,i,r,l),Da=!1,f=n.memoizedState,i.state=f,Wa(n,r,i,o);var h=n.memoizedState;s!==d||f!==h||Ao.current||Da?("function"===typeof p&&(rs(n,t,p,r),h=n.memoizedState),(c=Da||as(n,t,c,r,f,h,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(n.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),r=!1)}return Ts(e,n,t,r,a,o)}function Ts(e,n,t,r,o,a){Es(e,n);var i=0!==(128&n.flags);if(!r&&!i)return o&&Mo(n,t,!1),Bs(e,n,a);r=n.stateNode,ys.current=n;var s=i&&"function"!==typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=wa(n,e.child,null,a),n.child=wa(n,null,s,a)):bs(e,n,s,a),n.memoizedState=r.state,o&&Mo(n,t,!0),n.child}function Ps(e){var n=e.stateNode;n.pendingContext?No(0,n.pendingContext,n.pendingContext!==n.context):n.context&&No(0,n.context,!1),Ga(e,n.containerInfo)}function As(e,n,t,r,o){return ha(),ga(o),n.flags|=256,bs(e,n,t,r),n.child}var Is,Os,zs,Rs,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,n,t){var r,o=n.pendingProps,i=ei.current,s=!1,l=0!==(128&n.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),jo(ei,1&i),null===e)return ua(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=n.mode,s=n.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,o,0,null),e=Nc(e,o,t,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=Ds(t),n.memoizedState=Ns,e):Ms(n,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,n,t,r,o,i,s){if(t)return 256&n.flags?(n.flags&=-257,$s(e,n,s,r=us(Error(a(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=r.fallback,o=n.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(i=Nc(i,o,s,null)).flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,0!==(1&n.mode)&&wa(n,e.child,null,s),n.child.memoizedState=Ds(s),n.memoizedState=Ns,i);if(0===(1&n.mode))return $s(e,n,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,$s(e,n,s,r=us(i=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Pl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Na(e,o),tc(r,e,o,-1))}return gc(),$s(e,n,s,r=us(Error(a(421))))}return"$?"===o.data?(n.flags|=128,n.child=e.child,n=jc.bind(null,e),o._reactRetry=n,null):(e=i.treeContext,oa=co(o.nextSibling),ra=n,aa=!0,ia=null,null!==e&&(Qo[Yo++]=Xo,Qo[Yo++]=Jo,Qo[Yo++]=Go,Xo=e.id,Jo=e.overflow,Go=n),n=Ms(n,r.children),n.flags|=4096,n)}(e,n,l,o,r,i,t);if(s){s=o.fallback,l=n.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&n.child!==i?((o=n.child).childLanes=0,o.pendingProps=c,n.deletions=null):(o=zc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=zc(r,s):(s=Nc(s,l,t,null)).flags|=2,s.return=n,o.return=n,o.sibling=s,n.child=o,o=s,s=n.child,l=null===(l=e.child.memoizedState)?Ds(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~t,n.memoizedState=Ns,o}return e=(s=e.child).sibling,o=zc(s,{mode:"visible",children:o.children}),0===(1&n.mode)&&(o.lanes=t),o.return=n,o.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=o,n.memoizedState=null,o}function Ms(e,n){return(n=Dc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function $s(e,n,t,r){return null!==r&&ga(r),wa(n,e.child,null,t),(e=Ms(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Fs(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Pa(e.return,n,t)}function Us(e,n,t,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=o)}function Hs(e,n,t){var r=n.pendingProps,o=r.revealOrder,a=r.tail;if(bs(e,n,r.children,t),0!==(2&(r=ei.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,t,n);else if(19===e.tag)Fs(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(jo(ei,r),0===(1&n.mode))n.memoizedState=null;else switch(o){case"forwards":for(t=n.child,o=null;null!==t;)null!==(e=t.alternate)&&null===ni(e)&&(o=t),t=t.sibling;null===(t=o)?(o=n.child,n.child=null):(o=t.sibling,t.sibling=null),Us(n,!1,o,t,a);break;case"backwards":for(t=null,o=n.child,n.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ni(e)){n.child=o;break}e=o.sibling,o.sibling=t,t=o,o=e}Us(n,!0,t,null,a);break;case"together":Us(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ws(e,n){0===(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Bs(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Dl|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(a(153));if(null!==n.child){for(t=zc(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=zc(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Vs(e,n){if(!aa)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function qs(e,n,t){var r=n.pendingProps;switch(ta(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(n),null;case 1:case 17:return zo(n.type)&&Ro(),Ks(n),null;case 3:return r=n.stateNode,Xa(),Co(Ao),Co(Po),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,null!==ia&&(ic(ia),ia=null))),Os(e,n),Ks(n),null;case 5:Za(n);var o=Ya(Qa.current);if(t=n.type,null!==e&&null!=n.stateNode)zs(e,n,t,r,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(a(166));return Ks(n),null}if(e=Ya(Ka.current),fa(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[po]=n,r[ho]=i,e=0!==(1&n.mode),t){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(o=0;o<Nr.length;o++)$r(Nr[o],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":G(r,i),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$r("invalid",r);break;case"textarea":oe(r,i),$r("invalid",r)}for(var l in ye(t,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$r("scroll",r)}switch(t){case"input":K(r),Z(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=o,n.updateQueue=r,null!==r&&(n.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(t,{is:r.is}):(e=l.createElement(t),"select"===t&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,t),e[po]=n,e[ho]=r,Is(e,n,!1,!1),n.stateNode=e;e:{switch(l=xe(t,r),t){case"dialog":$r("cancel",e),$r("close",e),o=r;break;case"iframe":case"object":case"embed":$r("load",e),o=r;break;case"video":case"audio":for(o=0;o<Nr.length;o++)$r(Nr[o],e);o=r;break;case"source":$r("error",e),o=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),o=r;break;case"details":$r("toggle",e),o=r;break;case"input":G(e,r),o=Y(e,r),$r("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),$r("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),$r("invalid",e)}for(i in ye(t,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?me(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==t||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&$r("scroll",e):null!=u&&x(e,i,u,l))}switch(t){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?te(e,!!r.multiple,i,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Ks(n),null;case 6:if(e&&null!=n.stateNode)Rs(e,n,e.memoizedProps,r);else{if("string"!==typeof r&&null===n.stateNode)throw Error(a(166));if(t=Ya(Qa.current),Ya(Ka.current),fa(n)){if(r=n.stateNode,t=n.memoizedProps,r[po]=n,(i=r.nodeValue!==t)&&null!==(e=ra))switch(e.tag){case 3:Jr(r.nodeValue,t,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,t,0!==(1&e.mode))}i&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[po]=n,n.stateNode=r}return Ks(n),null;case 13:if(Co(ei),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&n.mode)&&0===(128&n.flags))pa(),ha(),n.flags|=98560,i=!1;else if(i=fa(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(a(317));i[po]=n}else ha(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Ks(n),i=!1}else null!==ia&&(ic(ia),ia=null),i=!0;if(!i)return 65536&n.flags?n:null}return 0!==(128&n.flags)?(n.lanes=t,n):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,0!==(1&n.mode)&&(null===e||0!==(1&ei.current)?0===Rl&&(Rl=3):gc())),null!==n.updateQueue&&(n.flags|=4),Ks(n),null);case 4:return Xa(),Os(e,n),null===e&&Hr(n.stateNode.containerInfo),Ks(n),null;case 10:return Ta(n.type._context),Ks(n),null;case 19:if(Co(ei),null===(i=n.memoizedState))return Ks(n),null;if(r=0!==(128&n.flags),null===(l=i.rendering))if(r)Vs(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(l=ni(e))){for(n.flags|=128,Vs(i,!1),null!==(r=l.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return jo(ei,1&ei.current|2),n.child}e=e.sibling}null!==i.tail&&Xe()>Hl&&(n.flags|=128,r=!0,Vs(i,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=ni(l))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Vs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return Ks(n),null}else 2*Xe()-i.renderingStartTime>Hl&&1073741824!==t&&(n.flags|=128,r=!0,Vs(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(null!==(t=i.last)?t.sibling=l:n.child=l,i.last=l)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Xe(),n.sibling=null,t=ei.current,jo(ei,r?1&t|2:1&t),n):(Ks(n),null);case 22:case 23:return dc(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&0!==(1&n.mode)?0!==(1073741824&Ol)&&(Ks(n),6&n.subtreeFlags&&(n.flags|=8192)):Ks(n),null;case 24:case 25:return null}throw Error(a(156,n.tag))}function Qs(e,n){switch(ta(n),n.tag){case 1:return zo(n.type)&&Ro(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Xa(),Co(Ao),Co(Po),ri(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 5:return Za(n),null;case 13:if(Co(ei),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(a(340));ha()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Co(ei),null;case 4:return Xa(),null;case 10:return Ta(n.type._context),null;case 22:case 23:return dc(),null;default:return null}}Is=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Os=function(){},zs=function(e,n,t,r){var o=e.memoizedProps;if(o!==r){e=n.stateNode,Ya(Ka.current);var a,i=null;switch(t){case"input":o=Y(e,o),r=Y(e,r),i=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(t,r),t=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(i||(i=[]),i.push(u,t)),t=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$r("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(n.updateQueue=u)&&(n.flags|=4)}},Rs=function(e,n,t,r){t!==r&&(n.flags|=4)};var Ys=!1,Gs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,n){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){kc(e,n,r)}else t.current=null}function el(e,n,t){try{t()}catch(r){kc(e,n,r)}}var nl=!1;function tl(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(n,t,a)}o=o.next}while(o!==r)}}function rl(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function ol(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"===typeof n?n(e):n.current=e}}function al(e){var n=e.alternate;null!==n&&(e.alternate=null,al(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[po],delete n[ho],delete n[mo],delete n[vo],delete n[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,n,t),e=e.sibling;null!==e;)ll(e,n,t),e=e.sibling}function cl(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,n,t),e=e.sibling;null!==e;)cl(e,n,t),e=e.sibling}var ul=null,dl=!1;function fl(e,n,t){for(t=t.child;null!==t;)pl(e,n,t),t=t.sibling}function pl(e,n,t){if(an&&"function"===typeof an.onCommitFiberUnmount)try{an.onCommitFiberUnmount(on,t)}catch(s){}switch(t.tag){case 5:Gs||Zs(t,n);case 6:var r=ul,o=dl;ul=null,fl(e,n,t),dl=o,null!==(ul=r)&&(dl?(e=ul,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):ul.removeChild(t.stateNode));break;case 18:null!==ul&&(dl?(e=ul,t=t.stateNode,8===e.nodeType?lo(e.parentNode,t):1===e.nodeType&&lo(e,t),Wn(e)):lo(ul,t.stateNode));break;case 4:r=ul,o=dl,ul=t.stateNode.containerInfo,dl=!0,fl(e,n,t),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=t.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(t,n,i),o=o.next}while(o!==r)}fl(e,n,t);break;case 1:if(!Gs&&(Zs(t,n),"function"===typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){kc(t,n,s)}fl(e,n,t);break;case 21:fl(e,n,t);break;case 22:1&t.mode?(Gs=(r=Gs)||null!==t.memoizedState,fl(e,n,t),Gs=r):fl(e,n,t);break;default:fl(e,n,t)}}function hl(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Xs),n.forEach((function(n){var r=Tc.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))}))}}function gl(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var o=t[r];try{var i=e,s=n,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(i,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){kc(o,n,u)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)ml(n,e),n=n.sibling}function ml(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(n,e),vl(e),4&r){try{tl(3,e,e.return),rl(3,e)}catch(m){kc(e,e.return,m)}try{tl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:gl(n,e),vl(e),512&r&&null!==t&&Zs(t,t.return);break;case 5:if(gl(n,e),vl(e),512&r&&null!==t&&Zs(t,t.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==t?t.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(o,i),xe(l,s);var u=xe(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):x(o,d,f,u)}switch(l){case"input":J(o,i);break;case"textarea":ae(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?te(o,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?te(o,!!i.multiple,i.defaultValue,!0):te(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(m){kc(e,e.return,m)}}break;case 6:if(gl(n,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){kc(e,e.return,m)}}break;case 3:if(gl(n,e),vl(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{Wn(n.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:gl(n,e),vl(e);break;case 13:gl(n,e),vl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Xe())),4&r&&hl(e);break;case 22:if(d=null!==t&&null!==t.memoizedState,1&e.mode?(Gs=(u=Gs)||d,gl(n,e),Gs=u):gl(n,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(h=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:Zs(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,t=p.return;try{n=r,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(m){kc(r,t,m)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){wl(f);continue}}null!==h?(h.return=p,Js=h):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){kc(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(n,e),vl(e),4&r&&hl(e);case 21:}}function vl(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(il(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(a(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function yl(e,n,t){Js=e,xl(e,n,t)}function xl(e,n,t){for(var r=0!==(1&e.mode);null!==Js;){var o=Js,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Ys;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Gs;s=Ys;var c=Gs;if(Ys=i,(Gs=l)&&!c)for(Js=o;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?Sl(o):null!==l?(l.return=i,Js=l):Sl(o);for(;null!==a;)Js=a,xl(a,n,t),a=a.sibling;Js=o,Ys=s,Gs=c}bl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Js=a):bl(e)}}function bl(e){for(;null!==Js;){var n=Js;if(0!==(8772&n.flags)){var t=n.alternate;try{if(0!==(8772&n.flags))switch(n.tag){case 0:case 11:case 15:Gs||rl(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Gs)if(null===t)r.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:ts(n.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&Ba(n,i,r);break;case 3:var s=n.updateQueue;if(null!==s){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Ba(n,s,t)}break;case 5:var l=n.stateNode;if(null===t&&4&n.flags){t=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var u=n.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wn(f)}}}break;default:throw Error(a(163))}Gs||512&n.flags&&ol(n)}catch(p){kc(n,n.return,p)}}if(n===e){Js=null;break}if(null!==(t=n.sibling)){t.return=n.return,Js=t;break}Js=n.return}}function wl(e){for(;null!==Js;){var n=Js;if(n===e){Js=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Js=t;break}Js=n.return}}function Sl(e){for(;null!==Js;){var n=Js;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{rl(4,n)}catch(l){kc(n,t,l)}break;case 1:var r=n.stateNode;if("function"===typeof r.componentDidMount){var o=n.return;try{r.componentDidMount()}catch(l){kc(n,o,l)}}var a=n.return;try{ol(n)}catch(l){kc(n,a,l)}break;case 5:var i=n.return;try{ol(n)}catch(l){kc(n,i,l)}}}catch(l){kc(n,n.return,l)}if(n===e){Js=null;break}var s=n.sibling;if(null!==s){s.return=n.return,Js=s;break}Js=n.return}}var _l,kl=Math.ceil,El=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,jl=b.ReactCurrentBatchConfig,Tl=0,Pl=null,Al=null,Il=0,Ol=0,zl=Eo(0),Rl=0,Nl=null,Dl=0,Ll=0,Ml=0,$l=null,Fl=null,Ul=0,Hl=1/0,Wl=null,Bl=!1,Vl=null,Kl=null,ql=!1,Ql=null,Yl=0,Gl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Il?Il&-Il:null!==ma.transition?(0===Zl&&(Zl=mn()),Zl):0!==(e=bn)?e:e=void 0===(e=window.event)?16:Xn(e.type)}function tc(e,n,t,r){if(50<Gl)throw Gl=0,Xl=null,Error(a(185));yn(e,t,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Ll|=t),4===Rl&&sc(e,Il)),rc(e,r),1===t&&0===Tl&&0===(1&n.mode)&&(Hl=Xe()+500,Fo&&Wo()))}function rc(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-sn(a),s=1<<i,l=o[i];-1===l?0!==(s&t)&&0===(s&r)||(o[i]=hn(s,n)):l<=n&&(e.expiredLanes|=s),a&=~s}}(e,n);var r=pn(e,e===Pl?Il:0);if(0===r)null!==t&&Qe(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&Qe(t),1===n)0===e.tag?function(e){Fo=!0,Ho(e)}(lc.bind(null,e)):Ho(lc.bind(null,e)),io((function(){0===(6&Tl)&&Wo()})),t=null;else{switch(wn(r)){case 1:t=Ze;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Pc(t,oc.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function oc(e,n){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(a(327));var t=e.callbackNode;if(Sc()&&e.callbackNode!==t)return null;var r=pn(e,e===Pl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||n)n=mc(e,r);else{n=r;var o=Tl;Tl|=2;var i=hc();for(Pl===e&&Il===n||(Wl=null,Hl=Xe()+500,fc(e,n));;)try{yc();break}catch(l){pc(e,l)}ja(),El.current=i,Tl=o,null!==Al?n=0:(Pl=null,Il=0,n=Rl)}if(0!==n){if(2===n&&(0!==(o=gn(e))&&(r=o,n=ac(e,o))),1===n)throw t=Nl,fc(e,0),sc(e,r),rc(e,Xe()),t;if(6===n)sc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var o=t[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(s){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(o)&&(2===(n=mc(e,r))&&(0!==(i=gn(e))&&(r=i,n=ac(e,i))),1===n))throw t=Nl,fc(e,0),sc(e,r),rc(e,Xe()),t;switch(e.finishedWork=o,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Fl,Wl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(n=Ul+500-Xe())){if(0!==pn(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Fl,Wl),n);break}wc(e,Fl,Wl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(n=e.eventTimes,o=-1;0<r;){var s=31-sn(r);i=1<<s,(s=n[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Fl,Wl),r);break}wc(e,Fl,Wl);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===t?oc.bind(null,e):null}function ac(e,n){var t=$l;return e.current.memoizedState.isDehydrated&&(fc(e,n).flags|=256),2!==(e=mc(e,n))&&(n=Fl,Fl=t,null!==n&&ic(n)),e}function ic(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,n){for(n&=~Ml,n&=~Ll,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-sn(n),r=1<<t;e[t]=-1,n&=~r}}function lc(e){if(0!==(6&Tl))throw Error(a(327));Sc();var n=pn(e,0);if(0===(1&n))return rc(e,Xe()),null;var t=mc(e,n);if(0!==e.tag&&2===t){var r=gn(e);0!==r&&(n=r,t=ac(e,r))}if(1===t)throw t=Nl,fc(e,0),sc(e,n),rc(e,Xe()),t;if(6===t)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,Fl,Wl),rc(e,Xe()),null}function cc(e,n){var t=Tl;Tl|=1;try{return e(n)}finally{0===(Tl=t)&&(Hl=Xe()+500,Fo&&Wo())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Sc();var n=Tl;Tl|=1;var t=jl.transition,r=bn;try{if(jl.transition=null,bn=1,e)return e()}finally{bn=r,jl.transition=t,0===(6&(Tl=n))&&Wo()}}function dc(){Ol=zl.current,Co(zl)}function fc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,oo(t)),null!==Al)for(t=Al.return;null!==t;){var r=t;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ro();break;case 3:Xa(),Co(Ao),Co(Po),ri();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:Co(ei);break;case 10:Ta(r.type._context);break;case 22:case 23:dc()}t=t.return}if(Pl=e,Al=e=zc(e.current,null),Il=Ol=n,Rl=0,Nl=null,Ml=Ll=Dl=0,Fl=$l=null,null!==Oa){for(n=0;n<Oa.length;n++)if(null!==(r=(t=Oa[n]).interleaved)){t.interleaved=null;var o=r.next,a=t.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}t.pending=r}Oa=null}return e}function pc(e,n){for(;;){var t=Al;try{if(ja(),oi.current=Ji,ui){for(var r=si.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ui=!1}if(ii=0,ci=li=si=null,di=!1,fi=0,Cl.current=null,null===t||null===t.return){Rl=1,Nl=n,Al=null;break}e:{var i=e,s=t.return,l=t,c=n;if(n=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,vs(h,s,l,0,n),1&h.mode&&gs(i,u,n),c=u;var g=(n=h).updateQueue;if(null===g){var m=new Set;m.add(c),n.updateQueue=m}else g.add(c);break e}if(0===(1&n)){gs(i,u,n),gc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,n),ga(cs(c,l));break e}}i=c=cs(c,l),4!==Rl&&(Rl=2),null===$l?$l=[i]:$l.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,Ha(i,ps(0,c,n));break e;case 1:l=c;var y=i.type,x=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){i.flags|=65536,n&=-n,i.lanes|=n,Ha(i,hs(i,l,n));break e}}i=i.return}while(null!==i)}bc(t)}catch(b){n=b,Al===t&&null!==t&&(Al=t=t.return);continue}break}}function hc(){var e=El.current;return El.current=Ji,null===e?Ji:e}function gc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Ll)||sc(Pl,Il)}function mc(e,n){var t=Tl;Tl|=2;var r=hc();for(Pl===e&&Il===n||(Wl=null,fc(e,n));;)try{vc();break}catch(o){pc(e,o)}if(ja(),Tl=t,El.current=r,null!==Al)throw Error(a(261));return Pl=null,Il=0,Rl}function vc(){for(;null!==Al;)xc(Al)}function yc(){for(;null!==Al&&!Ye();)xc(Al)}function xc(e){var n=_l(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===n?bc(e):Al=n,Cl.current=null}function bc(e){var n=e;do{var t=n.alternate;if(e=n.return,0===(32768&n.flags)){if(null!==(t=qs(t,n,Ol)))return void(Al=t)}else{if(null!==(t=Qs(t,n)))return t.flags&=32767,void(Al=t);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(Al=n);Al=n=e}while(null!==n);0===Rl&&(Rl=5)}function wc(e,n,t){var r=bn,o=jl.transition;try{jl.transition=null,bn=1,function(e,n,t,r){do{Sc()}while(null!==Ql);if(0!==(6&Tl))throw Error(a(327));t=e.finishedWork;var o=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var o=31-sn(t),a=1<<o;n[o]=0,r[o]=-1,e[o]=-1,t&=~a}}(e,i),e===Pl&&(Al=Pl=null,Il=0),0===(2064&t.subtreeFlags)&&0===(2064&t.flags)||ql||(ql=!0,Pc(nn,(function(){return Sc(),null}))),i=0!==(15990&t.flags),0!==(15990&t.subtreeFlags)||i){i=jl.transition,jl.transition=null;var s=bn;bn=1;var l=Tl;Tl|=4,Cl.current=null,function(e,n){if(eo=Vn,pr(e=fr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(w){t=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,p=null;n:for(;;){for(var h;f!==t||0!==o&&3!==f.nodeType||(l=s+o),f!==i||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break n;if(p===t&&++u===o&&(l=s),p===i&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(no={focusedElem:e,selectionRange:t},Vn=!1,Js=n;null!==Js;)if(e=(n=Js).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Js=e;else for(;null!==Js;){n=Js;try{var g=n.alternate;if(0!==(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=n.stateNode,x=y.getSnapshotBeforeUpdate(n.elementType===n.type?m:ts(n.type,m),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=n.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){kc(n,n.return,w)}if(null!==(e=n.sibling)){e.return=n.return,Js=e;break}Js=n.return}g=nl,nl=!1}(e,t),ml(t,e),hr(no),Vn=!!eo,no=eo=null,e.current=t,yl(t,e,o),Ge(),Tl=l,bn=s,jl.transition=i}else e.current=t;if(ql&&(ql=!1,Ql=e,Yl=o),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(an&&"function"===typeof an.onCommitFiberRoot)try{an.onCommitFiberRoot(on,e,void 0,128===(128&e.current.flags))}catch(n){}}(t.stateNode),rc(e,Xe()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)o=n[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(Bl)throw Bl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===Xl?Gl++:(Gl=0,Xl=e):Gl=0,Wo()}(e,n,t,r)}finally{jl.transition=o,bn=r}return null}function Sc(){if(null!==Ql){var e=wn(Yl),n=jl.transition,t=bn;try{if(jl.transition=null,bn=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Tl))throw Error(a(331));var o=Tl;for(Tl|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:tl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var p=(d=Js).sibling,h=d.return;if(al(d),d===u){Js=null;break}if(null!==p){p.return=h,Js=p;break}Js=h}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Js=y;break e}Js=i.return}}var x=e.current;for(Js=x;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=x;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Tl=o,Wo(),an&&"function"===typeof an.onPostCommitFiberRoot)try{an.onPostCommitFiberRoot(on,e)}catch(S){}r=!0}return r}finally{bn=t,jl.transition=n}}return!1}function _c(e,n,t){e=Fa(e,n=ps(0,n=cs(t,n),1),1),n=ec(),null!==e&&(yn(e,1,n),rc(e,n))}function kc(e,n,t){if(3===e.tag)_c(e,e,t);else for(;null!==n;){if(3===n.tag){_c(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){n=Fa(n,e=hs(n,e=cs(t,e),1),1),e=ec(),null!==n&&(yn(n,1,e),rc(n,e));break}}n=n.return}}function Ec(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=ec(),e.pingedLanes|=e.suspendedLanes&t,Pl===e&&(Il&t)===t&&(4===Rl||3===Rl&&(130023424&Il)===Il&&500>Xe()-Ul?fc(e,0):Ml|=t),rc(e,n)}function Cc(e,n){0===n&&(0===(1&e.mode)?n=1:(n=dn,0===(130023424&(dn<<=1))&&(dn=4194304)));var t=ec();null!==(e=Na(e,n))&&(yn(e,n,t),rc(e,t))}function jc(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Cc(e,t)}function Tc(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(t=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(n),Cc(e,t)}function Pc(e,n){return qe(e,n)}function Ac(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,n,t,r){return new Ac(e,n,t,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,n){var t=e.alternate;return null===t?((t=Ic(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Rc(e,n,t,r,o,i){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Nc(t.children,o,i,n);case k:s=8,o|=8;break;case E:return(e=Ic(12,t,n,2|o)).elementType=E,e.lanes=i,e;case P:return(e=Ic(13,t,n,o)).elementType=P,e.lanes=i,e;case A:return(e=Ic(19,t,n,o)).elementType=A,e.lanes=i,e;case z:return Dc(t,o,i,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case j:s=9;break e;case T:s=11;break e;case I:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(n=Ic(s,t,n,o)).elementType=e,n.type=r,n.lanes=i,n}function Nc(e,n,t,r){return(e=Ic(7,e,r,n)).lanes=t,e}function Dc(e,n,t,r){return(e=Ic(22,e,r,n)).elementType=z,e.lanes=t,e.stateNode={isHidden:!1},e}function Lc(e,n,t){return(e=Ic(6,e,null,n)).lanes=t,e}function Mc(e,n,t){return(n=Ic(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function $c(e,n,t,r,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,n,t,r,o,a,i,s,l){return e=new $c(e,n,t,s,l),1===n?(n=1,!0===a&&(n|=8)):n=0,a=Ic(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function Uc(e){if(!e)return To;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(zo(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(a(171))}if(1===e.tag){var t=e.type;if(zo(t))return Do(e,t,n)}return n}function Hc(e,n,t,r,o,a,i,s,l){return(e=Fc(t,r,!0,e,0,a,0,s,l)).context=Uc(null),t=e.current,(a=$a(r=ec(),o=nc(t))).callback=void 0!==n&&null!==n?n:null,Fa(t,a,o),e.current.lanes=o,yn(e,o,r),rc(e,r),e}function Wc(e,n,t,r){var o=n.current,a=ec(),i=nc(o);return t=Uc(t),null===n.context?n.context=t:n.pendingContext=t,(n=$a(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Fa(o,n,i))&&(tc(e,o,i,a),Ua(e,o,i)),i}function Bc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Kc(e,n){Vc(e,n),(e=e.alternate)&&Vc(e,n)}_l=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Ao.current)xs=!0;else{if(0===(e.lanes&t)&&0===(128&n.flags))return xs=!1,function(e,n,t){switch(n.tag){case 3:Ps(n),ha();break;case 5:Ja(n);break;case 1:zo(n.type)&&Lo(n);break;case 4:Ga(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,o=n.memoizedProps.value;jo(_a,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(jo(ei,1&ei.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Ls(e,n,t):(jo(ei,1&ei.current),null!==(e=Bs(e,n,t))?e.sibling:null);jo(ei,1&ei.current);break;case 19:if(r=0!==(t&n.childLanes),0!==(128&e.flags)){if(r)return Hs(e,n,t);n.flags|=128}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),jo(ei,ei.current),r)break;return null;case 22:case 23:return n.lanes=0,ks(e,n,t)}return Bs(e,n,t)}(e,n,t);xs=0!==(131072&e.flags)}else xs=!1,aa&&0!==(1048576&n.flags)&&ea(n,qo,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Ws(e,n),e=n.pendingProps;var o=Oo(n,Po.current);Aa(n,t),o=mi(null,n,r,e,o,t);var i=vi();return n.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,zo(r)?(i=!0,Lo(n)):i=!1,n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,La(n),o.updater=os,n.stateNode=o,o._reactInternals=n,ls(n,r,e,t),n=Ts(null,n,r,!0,i,t)):(n.tag=0,aa&&i&&na(n),bs(null,n,o,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Ws(e,n),e=n.pendingProps,r=(o=r._init)(r._payload),n.type=r,o=n.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===I)return 14}return 2}(r),e=ts(r,e),o){case 0:n=Cs(null,n,r,e,t);break e;case 1:n=js(null,n,r,e,t);break e;case 11:n=ws(null,n,r,e,t);break e;case 14:n=Ss(null,n,r,ts(r.type,e),t);break e}throw Error(a(306,r,""))}return n;case 0:return r=n.type,o=n.pendingProps,Cs(e,n,r,o=n.elementType===r?o:ts(r,o),t);case 1:return r=n.type,o=n.pendingProps,js(e,n,r,o=n.elementType===r?o:ts(r,o),t);case 3:e:{if(Ps(n),null===e)throw Error(a(387));r=n.pendingProps,o=(i=n.memoizedState).element,Ma(e,n),Wa(n,r,null,t);var s=n.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=As(e,n,r,t,o=cs(Error(a(423)),n));break e}if(r!==o){n=As(e,n,r,t,o=cs(Error(a(424)),n));break e}for(oa=co(n.stateNode.containerInfo.firstChild),ra=n,aa=!0,ia=null,t=Sa(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(ha(),r===o){n=Bs(e,n,t);break e}bs(e,n,r,t)}n=n.child}return n;case 5:return Ja(n),null===e&&ua(n),r=n.type,o=n.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,to(r,o)?s=null:null!==i&&to(r,i)&&(n.flags|=32),Es(e,n),bs(e,n,s,t),n.child;case 6:return null===e&&ua(n),null;case 13:return Ls(e,n,t);case 4:return Ga(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=wa(n,null,r,t):bs(e,n,r,t),n.child;case 11:return r=n.type,o=n.pendingProps,ws(e,n,r,o=n.elementType===r?o:ts(r,o),t);case 7:return bs(e,n,n.pendingProps,t),n.child;case 8:case 12:return bs(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,o=n.pendingProps,i=n.memoizedProps,s=o.value,jo(_a,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===o.children&&!Ao.current){n=Bs(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=$a(-1,t&-t)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,null!==(c=i.alternate)&&(c.lanes|=t),Pa(i.return,t,n),l.lanes|=t;break}c=c.next}}else if(10===i.tag)s=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=t,null!==(l=s.alternate)&&(l.lanes|=t),Pa(s,t,n),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===n){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}bs(e,n,o.children,t),n=n.child}return n;case 9:return o=n.type,r=n.pendingProps.children,Aa(n,t),r=r(o=Ia(o)),n.flags|=1,bs(e,n,r,t),n.child;case 14:return o=ts(r=n.type,n.pendingProps),Ss(e,n,r,o=ts(r.type,o),t);case 15:return _s(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,o=n.pendingProps,o=n.elementType===r?o:ts(r,o),Ws(e,n),n.tag=1,zo(r)?(e=!0,Lo(n)):e=!1,Aa(n,t),is(n,r,o),ls(n,r,o,t),Ts(null,n,r,!0,e,t);case 19:return Hs(e,n,t);case 22:return ks(e,n,t)}throw Error(a(156,n.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,n,t,r,o){var a=t._reactRootContainer;if(a){var i=a;if("function"===typeof o){var s=o;o=function(){var e=Bc(i);s.call(e)}}Wc(n,i,e,o)}else i=function(e,n,t,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Bc(i);a.call(e)}}var i=Hc(n,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[go]=i.current,Hr(8===e.nodeType?e.parentNode:e),uc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Bc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[go]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(n,l,t,r)})),l}(t,n,e,o,r);return Bc(i)}Yc.prototype.render=Qc.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(a(409));Wc(e,n,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;uc((function(){Wc(null,e,null,null)})),n[go]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=En();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Rn.length&&0!==n&&n<Rn[t].priority;t++);Rn.splice(t,0,e),0===t&&Mn(e)}},Sn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=fn(n.pendingLanes);0!==t&&(xn(n,1|t),rc(n,Xe()),0===(6&Tl)&&(Hl=Xe()+500,Wo()))}break;case 13:uc((function(){var n=Na(e,1);if(null!==n){var t=ec();tc(n,e,1,t)}})),Kc(e,1)}},_n=function(e){if(13===e.tag){var n=Na(e,134217728);if(null!==n)tc(n,e,134217728,ec());Kc(e,134217728)}},kn=function(e){if(13===e.tag){var n=nc(e),t=Na(e,n);if(null!==t)tc(t,e,n,ec());Kc(e,n)}},En=function(){return bn},Cn=function(e,n){var t=bn;try{return bn=e,n()}finally{bn=t}},Se=function(e,n,t){switch(n){case"input":if(J(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(a(90));q(r),J(r,o)}}}break;case"textarea":ae(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},Te=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[bo,wo,So,Ce,je,cc]},nu={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{on=ru.inject(tu),an=ru}catch(ue){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(n))throw Error(a(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Gc(e))throw Error(a(299));var t=!1,r="",o=qc;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),n=Fc(e,1,!1,null,0,t,0,r,o),e[go]=n.current,Hr(8===e.nodeType?e.parentNode:e),new Qc(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(n))?null:e.stateNode},n.flushSync=function(e){return uc(e)},n.hydrate=function(e,n,t){if(!Xc(n))throw Error(a(200));return Zc(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Gc(e))throw Error(a(405));var r=null!=t&&t.hydratedSources||null,o=!1,i="",s=qc;if(null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(o=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),n=Hc(n,null,e,1,null!=t?t:null,o,0,i,s),e[go]=n.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o);return new Yc(n)},n.render=function(e,n,t){if(!Xc(n))throw Error(a(200));return Zc(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},n.unstable_batchedUpdates=cc,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Xc(t))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,n,t,!1,r)},n.version="18.3.1-next-f1338f8080-20240426"},853:(e,n,t)=>{"use strict";e.exports=t(234)},917:(e,n,t)=>{"use strict";t.d(n,{$P:()=>l,Al:()=>u,Og:()=>f,Vg:()=>s,i3:()=>d,mu:()=>c});var r=t(555),o=t(453);async function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:t="GET",body:a,headers:s={},timeout:l=i(e)}=n,c=(0,r.A)({"Content-Type":"application/json"},s);try{const n=new AbortController,r=setTimeout((()=>n.abort()),l),i=await fetch("".concat(o.J).concat(e),{method:t,headers:c,body:a?JSON.stringify(a):void 0,signal:n.signal});if(clearTimeout(r),i.ok){return{data:await i.json()}}{const e=await i.json().catch((()=>null));return{error:(null===e||void 0===e?void 0:e.detail)||"\uc11c\ubc84 \uc624\ub958 (".concat(i.status,")")}}}catch(d){var u;return"AbortError"===d.name?{error:"\uc694\uccad \uc2dc\uac04 \ucd08\uacfc: \uc11c\ubc84 \uc751\ub2f5\uc774 \ub108\ubb34 \ub2a6\uc2b5\ub2c8\ub2e4. (".concat(l/1e3,"\ucd08 \ucd08\uacfc)")}:null!==(u=d.message)&&void 0!==u&&u.includes("fetch")?{error:"\ubc31\uc5d4\ub4dc \uc11c\ubc84\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc11c\ubc84\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694."}:{error:"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958: ".concat(d.message||d)}}}function i(e){return e.includes("/interpretations/generate")||e.includes("/interpretations/generate-all")||e.includes("/interpretations/generate-with-extras")?6e4:e.includes("/chat/")||e.includes("/threads/chat")||e.includes("/verbalization/chat")?3e4:15e3}async function s(e){return a(e,{method:"GET"})}async function l(e,n){return a(e,{method:"POST",body:n})}async function c(e,n){return a(e,{method:"PUT",body:n})}async function u(e){return a(e,{method:"DELETE"})}class d{constructor(e){this.baseEndpoint=e}async getAll(){return s(this.baseEndpoint)}async create(e){return l(this.baseEndpoint,e)}async delete(e){return u("".concat(this.baseEndpoint,"/").concat(e))}async update(e,n){return c("".concat(this.baseEndpoint,"/").concat(e),n)}async interact(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l("".concat(this.baseEndpoint,"/").concat(e,"/interact"),n)}}async function f(e){const{personaId:n,message:t,contextType:r,contextContent:o,threadId:a,conversationId:i}=e;return"verbalization"===r?l("/verbalization/chat",{user_message:t,thread_id:a}):a?l("/threads/chat",{thread_id:a,user_message:t}):r&&o?l("/chat/with-context",{persona_id:n,user_message:t,context_type:r,context_content:o,thread_id:a}):i?l("/chat/continue",{persona_id:n,user_message:t,conversation_id:i}):l("/chat/initial",{content:t})}},950:(e,n,t)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(730)}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nc=void 0,(()=>{"use strict";var e={};t.r(e),t.d(e,{hasBrowserEnv:()=>ms,hasStandardBrowserEnv:()=>ys,hasStandardBrowserWebWorkerEnv:()=>xs,navigator:()=>vs,origin:()=>bs});var n=t(43),r=t(391),o=t(555),a=t(453);const i={personas:{},globalMessages:[],conversations:{},selectedConversation:null,selectedPersona:null,isLoading:!1};function s(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var l=function(){return l=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},l.apply(this,arguments)};Object.create;function c(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var u=t(324),d=t.n(u),f="-ms-",p="-moz-",h="-webkit-",g="comm",m="rule",v="decl",y="@keyframes",x=Math.abs,b=String.fromCharCode,w=Object.assign;function S(e){return e.trim()}function _(e,n){return(e=n.exec(e))?e[0]:e}function k(e,n,t){return e.replace(n,t)}function E(e,n,t){return e.indexOf(n,t)}function C(e,n){return 0|e.charCodeAt(n)}function j(e,n,t){return e.slice(n,t)}function T(e){return e.length}function P(e){return e.length}function A(e,n){return n.push(e),e}function I(e,n){return e.filter((function(e){return!_(e,n)}))}var O=1,z=1,R=0,N=0,D=0,L="";function M(e,n,t,r,o,a,i,s){return{value:e,root:n,parent:t,type:r,props:o,children:a,line:O,column:z,length:i,return:"",siblings:s}}function $(e,n){return w(M("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},n)}function F(e){for(;e.root;)e=$(e.root,{children:[e]});A(e,e.siblings)}function U(){return D=N>0?C(L,--N):0,z--,10===D&&(z=1,O--),D}function H(){return D=N<R?C(L,N++):0,z++,10===D&&(z=1,O++),D}function W(){return C(L,N)}function B(){return N}function V(e,n){return j(L,e,n)}function K(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function q(e){return O=z=1,R=T(L=e),N=0,[]}function Q(e){return L="",e}function Y(e){return S(V(N-1,J(91===e?e+2:40===e?e+1:e)))}function G(e){for(;(D=W())&&D<33;)H();return K(e)>2||K(D)>3?"":" "}function X(e,n){for(;--n&&H()&&!(D<48||D>102||D>57&&D<65||D>70&&D<97););return V(e,B()+(n<6&&32==W()&&32==H()))}function J(e){for(;H();)switch(D){case e:return N;case 34:case 39:34!==e&&39!==e&&J(D);break;case 40:41===e&&J(e);break;case 92:H()}return N}function Z(e,n){for(;H()&&e+D!==57&&(e+D!==84||47!==W()););return"/*"+V(n,N-1)+"*"+b(47===e?e:H())}function ee(e){for(;!K(W());)H();return V(e,N)}function ne(e,n){for(var t="",r=0;r<e.length;r++)t+=n(e[r],r,e,n)||"";return t}function te(e,n,t,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case v:return e.return=e.return||e.value;case g:return"";case y:return e.return=e.value+"{"+ne(e.children,r)+"}";case m:if(!T(e.value=e.props.join(",")))return""}return T(t=ne(e.children,r))?e.return=e.value+"{"+t+"}":""}function re(e,n,t){switch(function(e,n){return 45^C(e,0)?(((n<<2^C(e,0))<<2^C(e,1))<<2^C(e,2))<<2^C(e,3):0}(e,n)){case 5103:return h+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return h+e+e;case 4789:return p+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return h+e+p+e+f+e+e;case 5936:switch(C(e,n+11)){case 114:return h+e+f+k(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return h+e+f+k(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return h+e+f+k(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return h+e+f+e+e;case 6165:return h+e+f+"flex-"+e+e;case 5187:return h+e+k(e,/(\w+).+(:[^]+)/,h+"box-$1$2"+f+"flex-$1$2")+e;case 5443:return h+e+f+"flex-item-"+k(e,/flex-|-self/g,"")+(_(e,/flex-|baseline/)?"":f+"grid-row-"+k(e,/flex-|-self/g,""))+e;case 4675:return h+e+f+"flex-line-pack"+k(e,/align-content|flex-|-self/g,"")+e;case 5548:return h+e+f+k(e,"shrink","negative")+e;case 5292:return h+e+f+k(e,"basis","preferred-size")+e;case 6060:return h+"box-"+k(e,"-grow","")+h+e+f+k(e,"grow","positive")+e;case 4554:return h+k(e,/([^-])(transform)/g,"$1"+h+"$2")+e;case 6187:return k(k(k(e,/(zoom-|grab)/,h+"$1"),/(image-set)/,h+"$1"),e,"")+e;case 5495:case 3959:return k(e,/(image-set\([^]*)/,h+"$1$`$1");case 4968:return k(k(e,/(.+:)(flex-)?(.*)/,h+"box-pack:$3"+f+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+h+e+e;case 4200:if(!_(e,/flex-|baseline/))return f+"grid-column-align"+j(e,n)+e;break;case 2592:case 3360:return f+k(e,"template-","")+e;case 4384:case 3616:return t&&t.some((function(e,t){return n=t,_(e.props,/grid-\w+-end/)}))?~E(e+(t=t[n].value),"span",0)?e:f+k(e,"-start","")+e+f+"grid-row-span:"+(~E(t,"span",0)?_(t,/\d+/):+_(t,/\d+/)-+_(e,/\d+/))+";":f+k(e,"-start","")+e;case 4896:case 4128:return t&&t.some((function(e){return _(e.props,/grid-\w+-start/)}))?e:f+k(k(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return k(e,/(.+)-inline(.+)/,h+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(T(e)-1-n>6)switch(C(e,n+1)){case 109:if(45!==C(e,n+4))break;case 102:return k(e,/(.+:)(.+)-([^]+)/,"$1"+h+"$2-$3$1"+p+(108==C(e,n+3)?"$3":"$2-$3"))+e;case 115:return~E(e,"stretch",0)?re(k(e,"stretch","fill-available"),n,t)+e:e}break;case 5152:case 5920:return k(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(n,t,r,o,a,i,s){return f+t+":"+r+s+(o?f+t+"-span:"+(a?i:+i-+r)+s:"")+e}));case 4949:if(121===C(e,n+6))return k(e,":",":"+h)+e;break;case 6444:switch(C(e,45===C(e,14)?18:11)){case 120:return k(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+h+(45===C(e,14)?"inline-":"")+"box$3$1"+h+"$2$3$1"+f+"$2box$3")+e;case 100:return k(e,":",":"+f)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return k(e,"scroll-","scroll-snap-")+e}return e}function oe(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case v:return void(e.return=re(e.value,e.length,t));case y:return ne([$(e,{value:k(e.value,"@","@"+h)})],r);case m:if(e.length)return function(e,n){return e.map(n).join("")}(t=e.props,(function(n){switch(_(n,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":F($(e,{props:[k(n,/:(read-\w+)/,":-moz-$1")]})),F($(e,{props:[n]})),w(e,{props:I(t,r)});break;case"::placeholder":F($(e,{props:[k(n,/:(plac\w+)/,":"+h+"input-$1")]})),F($(e,{props:[k(n,/:(plac\w+)/,":-moz-$1")]})),F($(e,{props:[k(n,/:(plac\w+)/,f+"input-$1")]})),F($(e,{props:[n]})),w(e,{props:I(t,r)})}return""}))}}function ae(e){return Q(ie("",null,null,null,[""],e=q(e),0,[0],e))}function ie(e,n,t,r,o,a,i,s,l){for(var c=0,u=0,d=i,f=0,p=0,h=0,g=1,m=1,v=1,y=0,w="",S=o,_=a,j=r,P=w;m;)switch(h=y,y=H()){case 40:if(108!=h&&58==C(P,d-1)){-1!=E(P+=k(Y(y),"&","&\f"),"&\f",x(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:P+=Y(y);break;case 9:case 10:case 13:case 32:P+=G(h);break;case 92:P+=X(B()-1,7);continue;case 47:switch(W()){case 42:case 47:A(le(Z(H(),B()),n,t,l),l);break;default:P+="/"}break;case 123*g:s[c++]=T(P)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:-1==v&&(P=k(P,/\f/g,"")),p>0&&T(P)-d&&A(p>32?ce(P+";",r,t,d-1,l):ce(k(P," ","")+";",r,t,d-2,l),l);break;case 59:P+=";";default:if(A(j=se(P,n,t,c,u,o,s,w,S=[],_=[],d,a),a),123===y)if(0===u)ie(P,n,j,j,S,a,d,s,_);else switch(99===f&&110===C(P,3)?100:f){case 100:case 108:case 109:case 115:ie(e,j,j,r&&A(se(e,j,j,0,0,o,s,w,o,S=[],d,_),_),o,_,d,s,r?S:_);break;default:ie(P,j,j,j,[""],_,0,s,_)}}c=u=p=0,g=v=1,w=P="",d=i;break;case 58:d=1+T(P),p=h;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==U())continue;switch(P+=b(y),y*g){case 38:v=u>0?1:(P+="\f",-1);break;case 44:s[c++]=(T(P)-1)*v,v=1;break;case 64:45===W()&&(P+=Y(H())),f=W(),u=d=T(w=P+=ee(B())),y++;break;case 45:45===h&&2==T(P)&&(g=0)}}return a}function se(e,n,t,r,o,a,i,s,l,c,u,d){for(var f=o-1,p=0===o?a:[""],h=P(p),g=0,v=0,y=0;g<r;++g)for(var b=0,w=j(e,f+1,f=x(v=i[g])),_=e;b<h;++b)(_=S(v>0?p[b]+" "+w:k(w,/&\f/g,p[b])))&&(l[y++]=_);return M(e,n,t,0===o?m:s,l,c,u,d)}function le(e,n,t,r){return M(e,n,t,g,b(D),j(e,2,-2),0,r)}function ce(e,n,t,r,o){return M(e,n,t,v,j(e,0,r),j(e,r+1,-1),r,o)}var ue={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},de="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",fe="active",pe="data-styled-version",he="6.1.18",ge="/*!sc*/\n",me="undefined"!=typeof window&&"undefined"!=typeof document,ve=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ye={},xe=(new Set,Object.freeze([])),be=Object.freeze({});function we(e,n,t){return void 0===t&&(t=be),e.theme!==t.theme&&e.theme||n||t.theme}var Se=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),_e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ke=/(^-|-$)/g;function Ee(e){return e.replace(_e,"-").replace(ke,"")}var Ce=/(a)(d)/gi,je=function(e){return String.fromCharCode(e+(e>25?39:97))};function Te(e){var n,t="";for(n=Math.abs(e);n>52;n=n/52|0)t=je(n%52)+t;return(je(n%52)+t).replace(Ce,"$1-$2")}var Pe,Ae=function(e,n){for(var t=n.length;t;)e=33*e^n.charCodeAt(--t);return e},Ie=function(e){return Ae(5381,e)};function Oe(e){return Te(Ie(e)>>>0)}function ze(e){return e.displayName||e.name||"Component"}function Re(e){return"string"==typeof e&&!0}var Ne="function"==typeof Symbol&&Symbol.for,De=Ne?Symbol.for("react.memo"):60115,Le=Ne?Symbol.for("react.forward_ref"):60112,Me={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Fe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ue=((Pe={})[Le]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pe[De]=Fe,Pe);function He(e){return("type"in(n=e)&&n.type.$$typeof)===De?Fe:"$$typeof"in e?Ue[e.$$typeof]:Me;var n}var We=Object.defineProperty,Be=Object.getOwnPropertyNames,Ve=Object.getOwnPropertySymbols,Ke=Object.getOwnPropertyDescriptor,qe=Object.getPrototypeOf,Qe=Object.prototype;function Ye(e,n,t){if("string"!=typeof n){if(Qe){var r=qe(n);r&&r!==Qe&&Ye(e,r,t)}var o=Be(n);Ve&&(o=o.concat(Ve(n)));for(var a=He(e),i=He(n),s=0;s<o.length;++s){var l=o[s];if(!(l in $e||t&&t[l]||i&&l in i||a&&l in a)){var c=Ke(n,l);try{We(e,l,c)}catch(e){}}}}return e}function Ge(e){return"function"==typeof e}function Xe(e){return"object"==typeof e&&"styledComponentId"in e}function Je(e,n){return e&&n?"".concat(e," ").concat(n):e||n||""}function Ze(e,n){if(0===e.length)return"";for(var t=e[0],r=1;r<e.length;r++)t+=n?n+e[r]:e[r];return t}function en(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function nn(e,n,t){if(void 0===t&&(t=!1),!t&&!en(e)&&!Array.isArray(e))return n;if(Array.isArray(n))for(var r=0;r<n.length;r++)e[r]=nn(e[r],n[r]);else if(en(n))for(var r in n)e[r]=nn(e[r],n[r]);return e}function tn(e,n){Object.defineProperty(e,"toString",{value:n})}function rn(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var on=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var n=0,t=0;t<e;t++)n+=this.groupSizes[t];return n},e.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var t=this.groupSizes,r=t.length,o=r;e>=o;)if((o<<=1)<0)throw rn(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(t),this.length=o;for(var a=r;a<o;a++)this.groupSizes[a]=0}for(var i=this.indexOfGroup(e+1),s=(a=0,n.length);a<s;a++)this.tag.insertRule(i,n[a])&&(this.groupSizes[e]++,i++)},e.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],t=this.indexOfGroup(e),r=t+n;this.groupSizes[e]=0;for(var o=t;o<r;o++)this.tag.deleteRule(t)}},e.prototype.getGroup=function(e){var n="";if(e>=this.length||0===this.groupSizes[e])return n;for(var t=this.groupSizes[e],r=this.indexOfGroup(e),o=r+t,a=r;a<o;a++)n+="".concat(this.tag.getRule(a)).concat(ge);return n},e}(),an=new Map,sn=new Map,ln=1,cn=function(e){if(an.has(e))return an.get(e);for(;sn.has(ln);)ln++;var n=ln++;return an.set(e,n),sn.set(n,e),n},un=function(e,n){ln=n+1,an.set(e,n),sn.set(n,e)},dn="style[".concat(de,"][").concat(pe,'="').concat(he,'"]'),fn=new RegExp("^".concat(de,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),pn=function(e,n,t){for(var r,o=t.split(","),a=0,i=o.length;a<i;a++)(r=o[a])&&e.registerName(n,r)},hn=function(e,n){for(var t,r=(null!==(t=n.textContent)&&void 0!==t?t:"").split(ge),o=[],a=0,i=r.length;a<i;a++){var s=r[a].trim();if(s){var l=s.match(fn);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(un(u,c),pn(e,u,l[3]),e.getTag().insertRules(c,o)),o.length=0}else o.push(s)}}},gn=function(e){for(var n=document.querySelectorAll(dn),t=0,r=n.length;t<r;t++){var o=n[t];o&&o.getAttribute(de)!==fe&&(hn(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function mn(){return t.nc}var vn=function(e){var n=document.head,t=e||n,r=document.createElement("style"),o=function(e){var n=Array.from(e.querySelectorAll("style[".concat(de,"]")));return n[n.length-1]}(t),a=void 0!==o?o.nextSibling:null;r.setAttribute(de,fe),r.setAttribute(pe,he);var i=mn();return i&&r.setAttribute("nonce",i),t.insertBefore(r,a),r},yn=function(){function e(e){this.element=vn(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var n=document.styleSheets,t=0,r=n.length;t<r;t++){var o=n[t];if(o.ownerNode===e)return o}throw rn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},e}(),xn=function(){function e(e){this.element=vn(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var t=document.createTextNode(n);return this.element.insertBefore(t,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),bn=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),wn=me,Sn={isServer:!me,useCSSOMInjection:!ve},_n=function(){function e(e,n,t){void 0===e&&(e=be),void 0===n&&(n={});var r=this;this.options=l(l({},Sn),e),this.gs=n,this.names=new Map(t),this.server=!!e.isServer,!this.server&&me&&wn&&(wn=!1,gn(this)),tn(this,(function(){return function(e){for(var n=e.getTag(),t=n.length,r="",o=function(t){var o=function(e){return sn.get(e)}(t);if(void 0===o)return"continue";var a=e.names.get(o),i=n.getGroup(t);if(void 0===a||!a.size||0===i.length)return"continue";var s="".concat(de,".g").concat(t,'[id="').concat(o,'"]'),l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(i).concat(s,'{content:"').concat(l,'"}').concat(ge)},a=0;a<t;a++)o(a);return r}(r)}))}return e.registerId=function(e){return cn(e)},e.prototype.rehydrate=function(){!this.server&&me&&gn(this)},e.prototype.reconstructWithOptions=function(n,t){return void 0===t&&(t=!0),new e(l(l({},this.options),n),this.gs,t&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var n=e.useCSSOMInjection,t=e.target;return e.isServer?new bn(t):n?new yn(t):new xn(t)}(this.options),new on(e)));var e},e.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},e.prototype.registerName=function(e,n){if(cn(e),this.names.has(e))this.names.get(e).add(n);else{var t=new Set;t.add(n),this.names.set(e,t)}},e.prototype.insertRules=function(e,n,t){this.registerName(e,n),this.getTag().insertRules(cn(e),t)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(cn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),kn=/&/g,En=/^\s*\/\/.*$/gm;function Cn(e,n){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(n," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(n," ")),e.props=e.props.map((function(e){return"".concat(n," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Cn(e.children,n)),e}))}function jn(e){var n,t,r,o=void 0===e?be:e,a=o.options,i=void 0===a?be:a,s=o.plugins,l=void 0===s?xe:s,c=function(e,r,o){return o.startsWith(t)&&o.endsWith(t)&&o.replaceAll(t,"").length>0?".".concat(n):e},u=l.slice();u.push((function(e){e.type===m&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(kn,t).replace(r,c))})),i.prefix&&u.push(oe),u.push(te);var d=function(e,o,a,s){void 0===o&&(o=""),void 0===a&&(a=""),void 0===s&&(s="&"),n=s,t=o,r=new RegExp("\\".concat(t,"\\b"),"g");var l=e.replace(En,""),c=ae(a||o?"".concat(a," ").concat(o," { ").concat(l," }"):l);i.namespace&&(c=Cn(c,i.namespace));var d,f=[];return ne(c,function(e){var n=P(e);return function(t,r,o,a){for(var i="",s=0;s<n;s++)i+=e[s](t,r,o,a)||"";return i}}(u.concat((d=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),f};return d.hash=l.length?l.reduce((function(e,n){return n.name||rn(15),Ae(e,n.name)}),5381).toString():"",d}var Tn=new _n,Pn=jn(),An=n.createContext({shouldForwardProp:void 0,styleSheet:Tn,stylis:Pn}),In=(An.Consumer,n.createContext(void 0));function On(){return(0,n.useContext)(An)}function zn(e){var t=(0,n.useState)(e.stylisPlugins),r=t[0],o=t[1],a=On().styleSheet,i=(0,n.useMemo)((function(){var n=a;return e.sheet?n=e.sheet:e.target&&(n=n.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n}),[e.disableCSSOMInjection,e.sheet,e.target,a]),s=(0,n.useMemo)((function(){return jn({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,n.useEffect)((function(){d()(r,e.stylisPlugins)||o(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,n.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:i,stylis:s}}),[e.shouldForwardProp,i,s]);return n.createElement(An.Provider,{value:l},n.createElement(In.Provider,{value:s},e.children))}var Rn=function(){function e(e,n){var t=this;this.inject=function(e,n){void 0===n&&(n=Pn);var r=t.name+n.hash;e.hasNameForId(t.id,r)||e.insertRules(t.id,r,n(t.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,tn(this,(function(){throw rn(12,String(t.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Pn),this.name+e.hash},e}(),Nn=function(e){return e>="A"&&e<="Z"};function Dn(e){for(var n="",t=0;t<e.length;t++){var r=e[t];if(1===t&&"-"===r&&"-"===e[0])return e;Nn(r)?n+="-"+r.toLowerCase():n+=r}return n.startsWith("ms-")?"-"+n:n}var Ln=function(e){return null==e||!1===e||""===e},Mn=function(e){var n,t,r=[];for(var o in e){var a=e[o];e.hasOwnProperty(o)&&!Ln(a)&&(Array.isArray(a)&&a.isCss||Ge(a)?r.push("".concat(Dn(o),":"),a,";"):en(a)?r.push.apply(r,c(c(["".concat(o," {")],Mn(a),!1),["}"],!1)):r.push("".concat(Dn(o),": ").concat((n=o,null==(t=a)||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||n in ue||n.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function $n(e,n,t,r){return Ln(e)?[]:Xe(e)?[".".concat(e.styledComponentId)]:Ge(e)?!Ge(o=e)||o.prototype&&o.prototype.isReactComponent||!n?[e]:$n(e(n),n,t,r):e instanceof Rn?t?(e.inject(t,r),[e.getName(r)]):[e]:en(e)?Mn(e):Array.isArray(e)?Array.prototype.concat.apply(xe,e.map((function(e){return $n(e,n,t,r)}))):[e.toString()];var o}function Fn(e){for(var n=0;n<e.length;n+=1){var t=e[n];if(Ge(t)&&!Xe(t))return!1}return!0}var Un=Ie(he),Hn=function(){function e(e,n,t){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===t||t.isStatic)&&Fn(e),this.componentId=n,this.baseHash=Ae(Un,n),this.baseStyle=t,_n.registerId(n)}return e.prototype.generateAndInjectStyles=function(e,n,t){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,t):"";if(this.isStatic&&!t.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))r=Je(r,this.staticRulesId);else{var o=Ze($n(this.rules,e,n,t)),a=Te(Ae(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,a)){var i=t(o,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,i)}r=Je(r,a),this.staticRulesId=a}else{for(var s=Ae(this.baseHash,t.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=Ze($n(u,e,n,t));s=Ae(s,d+c),l+=d}}if(l){var f=Te(s>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,t(l,".".concat(f),void 0,this.componentId)),r=Je(r,f)}}return r},e}(),Wn=n.createContext(void 0);Wn.Consumer;var Bn={};new Set;function Vn(e,t,r){var o=Xe(e),a=e,i=!Re(e),s=t.attrs,c=void 0===s?xe:s,u=t.componentId,d=void 0===u?function(e,n){var t="string"!=typeof e?"sc":Ee(e);Bn[t]=(Bn[t]||0)+1;var r="".concat(t,"-").concat(Oe(he+t+Bn[t]));return n?"".concat(n,"-").concat(r):r}(t.displayName,t.parentComponentId):u,f=t.displayName,p=void 0===f?function(e){return Re(e)?"styled.".concat(e):"Styled(".concat(ze(e),")")}(e):f,h=t.displayName&&t.componentId?"".concat(Ee(t.displayName),"-").concat(t.componentId):t.componentId||d,g=o&&a.attrs?a.attrs.concat(c).filter(Boolean):c,m=t.shouldForwardProp;if(o&&a.shouldForwardProp){var v=a.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;m=function(e,n){return v(e,n)&&y(e,n)}}else m=v}var x=new Hn(r,h,o?a.componentStyle:void 0);function b(e,t){return function(e,t,r){var o=e.attrs,a=e.componentStyle,i=e.defaultProps,s=e.foldedComponentIds,c=e.styledComponentId,u=e.target,d=n.useContext(Wn),f=On(),p=e.shouldForwardProp||f.shouldForwardProp,h=we(t,d,i)||be,g=function(e,n,t){for(var r,o=l(l({},n),{className:void 0,theme:t}),a=0;a<e.length;a+=1){var i=Ge(r=e[a])?r(o):r;for(var s in i)o[s]="className"===s?Je(o[s],i[s]):"style"===s?l(l({},o[s]),i[s]):i[s]}return n.className&&(o.className=Je(o.className,n.className)),o}(o,t,h),m=g.as||u,v={};for(var y in g)void 0===g[y]||"$"===y[0]||"as"===y||"theme"===y&&g.theme===h||("forwardedAs"===y?v.as=g.forwardedAs:p&&!p(y,m)||(v[y]=g[y]));var x=function(e,n){var t=On();return e.generateAndInjectStyles(n,t.styleSheet,t.stylis)}(a,g),b=Je(s,c);return x&&(b+=" "+x),g.className&&(b+=" "+g.className),v[Re(m)&&!Se.has(m)?"class":"className"]=b,r&&(v.ref=r),(0,n.createElement)(m,v)}(w,e,t)}b.displayName=p;var w=n.forwardRef(b);return w.attrs=g,w.componentStyle=x,w.displayName=p,w.shouldForwardProp=m,w.foldedComponentIds=o?Je(a.foldedComponentIds,a.styledComponentId):"",w.styledComponentId=h,w.target=o?a.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=0,o=n;r<o.length;r++)nn(e,o[r],!0);return e}({},a.defaultProps,e):e}}),tn(w,(function(){return".".concat(w.styledComponentId)})),i&&Ye(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function Kn(e,n){for(var t=[e[0]],r=0,o=n.length;r<o;r+=1)t.push(n[r],e[r+1]);return t}var qn=function(e){return Object.assign(e,{isCss:!0})};function Qn(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(Ge(e)||en(e))return qn($n(Kn(xe,c([e],n,!0))));var r=e;return 0===n.length&&1===r.length&&"string"==typeof r[0]?$n(r):qn($n(Kn(r,n)))}function Yn(e,n,t){if(void 0===t&&(t=be),!n)throw rn(1,n);var r=function(r){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return e(n,t,Qn.apply(void 0,c([r],o,!1)))};return r.attrs=function(r){return Yn(e,n,l(l({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Yn(e,n,l(l({},t),r))},r}var Gn=function(e){return Yn(Vn,e)},Xn=Gn;Se.forEach((function(e){Xn[e]=Gn(e)}));var Jn=function(){function e(e,n){this.rules=e,this.componentId=n,this.isStatic=Fn(e),_n.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,n,t,r){var o=r(Ze($n(this.rules,n,t,r)),""),a=this.componentId+e;t.insertRules(a,a,o)},e.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,n,t,r){e>2&&_n.registerId(this.componentId+e),this.removeStyles(e,t),this.createStyles(e,n,t,r)},e}();var Zn,et,nt,tt,rt,ot,at,it,st,lt,ct,ut,dt,ft,pt,ht,gt,mt,vt,yt,xt,bt,wt,St,_t,kt,Et,Ct,jt,Tt,Pt,At,It,Ot,zt,Rt,Nt;(function(){function e(){var e=this;this._emitSheetCSS=function(){var n=e.instance.toString();if(!n)return"";var t=mn(),r=Ze([t&&'nonce="'.concat(t,'"'),"".concat(de,'="true"'),"".concat(pe,'="').concat(he,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(n,"</style>")},this.getStyleTags=function(){if(e.sealed)throw rn(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw rn(2);var r=e.instance.toString();if(!r)return[];var o=((t={})[de]="",t[pe]=he,t.dangerouslySetInnerHTML={__html:r},t),a=mn();return a&&(o.nonce=a),[n.createElement("style",l({},o,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new _n({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw rn(2);return n.createElement(zn,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw rn(3)}})(),"__sc-".concat(de,"__");const Dt=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=Qn.apply(void 0,c([e],t,!1)),a="sc-global-".concat(Oe(JSON.stringify(o))),i=new Jn(o,a),s=function(e){var t=On(),r=n.useContext(Wn),o=n.useRef(t.styleSheet.allocateGSInstance(a)).current;return t.styleSheet.server&&u(o,e,t.styleSheet,r,t.stylis),n.useLayoutEffect((function(){if(!t.styleSheet.server)return u(o,e,t.styleSheet,r,t.stylis),function(){return i.removeStyles(o,t.styleSheet)}}),[o,e,t.styleSheet,r,t.stylis]),null};function u(e,n,t,r,o){if(i.isStatic)i.renderStyles(e,ye,t,o);else{var a=l(l({},n),{theme:we(n,r,s.defaultProps)});i.renderStyles(e,a,t,o)}}return n.memo(s)}(Zn||(Zn=s(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: #f5f5f5;\n    color: #333;\n    overflow: hidden;\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: #f0f0f0;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #bbb;\n    border-radius: 10px;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background: #999;\n  }\n"]))),Lt=Xn.div(et||(et=s(["\n  display: flex;\n  height: 100vh;\n  background-color: #f5f5f5;\n  gap: 0px;\n  padding: 0px;\n"]))),Mt=Xn.div(nt||(nt=s(["\n  width: ",";\n  background-color: ",";\n  border: none;\n  border-radius: 0;\n  display: flex;\n  flex-direction: column;\n  box-shadow: none;\n  transition: all 0.3s ease;\n  overflow: hidden;\n  position: relative;\n  z-index: ",";\n"])),(e=>e.$isCollapsed?"60px":e.width),(e=>("conversation"===e.$variant||e.$variant,"#ffffff")),(e=>"conversation"===e.$variant?2:1)),$t=Xn.button(tt||(tt=s(["\n  position: absolute;\n  top: 12px;\n  right: 4px;\n  width: 32px;\n  height: 32px;\n  border: none;\n  background-color: #ffffff;\n  border-radius: 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  color: #666;\n  transition: all 0.2s ease;\n  z-index: 10;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  \n  &:hover {\n    background-color: #f8f8f8;\n    color: #333;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  &::before {\n    content: '';\n    width: 18px;\n    height: 2px;\n    background-color: currentColor;\n    border-radius: 1px;\n    box-shadow: \n      0 -5px 0 currentColor,\n      0 5px 0 currentColor;\n    transition: all 0.2s ease;\n  }\n"]))),Ft=Xn.div(rt||(rt=s(["\n  height: 80px;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  opacity: ",";\n  transition: opacity 0.3s ease;\n  ","\n"])),(e=>e.$isCollapsed?0:1),(e=>e.$isCollapsed&&"\n    padding: 8px;\n  ")),Ut=Xn.h2(ot||(ot=s(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n  text-align: center;\n  ","\n"])),(e=>e.$isCollapsed&&"\n    opacity: 0;\n    pointer-events: none;\n  ")),Ht=(Xn.p(at||(at=s(["\n  font-size: 14px;\n  color: #666;\n  ","\n"])),(e=>e.$isCollapsed&&"\n    opacity: 0;\n    pointer-events: none;\n  ")),Xn.div(it||(it=s(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n  opacity: ",";\n  transition: opacity 0.3s ease;\n  ","\n"])),(e=>e.$isCollapsed?0:1),(e=>e.$isCollapsed&&"\n    pointer-events: none;\n  "))),Wt=Xn.div(st||(st=s(["\n  flex: 1;\n  overflow-y: auto;\n  background-color: transparent;\n  padding: 16px 0;\n  ","\n  ","\n"])),(e=>"conversation"===e.$variant&&"\n    border-right: 1px solid #000000;\n  "),(e=>"persona"===e.$variant&&"\n    border-right: 1px solid #000000;\n  ")),Bt=Xn.div(lt||(lt=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  border-radius: 0;\n  border: none;\n  overflow: hidden;\n"]))),Vt=(Xn.div(ct||(ct=s(["\n  padding: 20px;\n  border-bottom: 1px solid #ddd;\n  background-color: #f8f8f8;\n  border-radius: 12px 12px 0 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Xn.h1(ut||(ut=s(["\n  font-size: 24px;\n  font-weight: 600;\n  color: #333;\n"]))),Xn.div(dt||(dt=s(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"])))),Kt=Xn.div(ft||(ft=s(["\n  display: flex;\n  flex-direction: column;\n  align-items: ",";\n  margin-bottom: 16px;\n"])),(e=>e.$isUser?"flex-end":"flex-start")),qt=Xn.div(pt||(pt=s(["\n  max-width: 70%;\n  padding: 16px 20px;\n  border-radius: ",";\n  background: ",";\n  color: #333;\n  font-size: 15px;\n  line-height: 1.4;\n  box-shadow: ",";\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  border: none;\n"])),(e=>e.$isUser?"20px":"0px"),(e=>e.$isUser?"linear-gradient(135deg, #ffffff 0%, #e8e8e8 100%)":"#ffffff"),(e=>e.$isUser?"0 2px 8px rgba(0, 0, 0, 0.1)":"none")),Qt=Xn.div(ht||(ht=s(["\n  font-size: 12px;\n  color: #666;\n  margin-top: 4px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Yt=Xn.div(gt||(gt=s(["\n  padding: 20px;\n  border-top: none;\n  background-color: #ffffff;\n"]))),Gt=Xn.div(mt||(mt=s(["\n  display: flex;\n  align-items: stretch;\n  max-width: 100%;\n  position: relative;\n  gap: 12px;\n"]))),Xt=Xn.div(vt||(vt=s(["\n  flex: 1;\n  position: relative;\n  max-width: calc(100% - 160px); /* \ubc84\ud2bc\ub4e4\uc744 \uc704\ud55c \uacf5\uac04 \ud655\ubcf4 */\n"]))),Jt=Xn.textarea(yt||(yt=s(["\n  width: 100%;\n  min-height: 88px; /* 2\ubc30\ub85c \uc99d\uac00 */\n  max-height: 200px;\n  padding: 16px 50px 16px 16px; /* \uc0c1\ud558 \ud328\ub529 \uc99d\uac00 */\n  border: 1px solid #ddd;\n  border-radius: 22px;\n  font-size: 15px;\n  font-family: inherit;\n  resize: none;\n  outline: none;\n  background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);\n  overflow-y: auto;\n  \n  /* \uc2a4\ud06c\ub864\ubc14 \uc228\uae30\uae30 */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE, Edge */\n  &::-webkit-scrollbar {\n    display: none; /* Chrome, Safari */\n  }\n  \n  &:focus {\n    border-color: #666;\n    box-shadow: 0 0 0 3px rgba(102, 102, 102, 0.1);\n  }\n  \n  &::placeholder {\n    color: #999;\n  }\n"]))),Zt=Xn.button(xt||(xt=s(["\n  position: absolute;\n  right: 12px;\n  bottom: 12px;\n  width: 36px;\n  height: 36px;\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: ",";\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    transform: ",";\n  }\n  \n  &:active {\n    transform: ",";\n    background-color: ",";\n  }\n"])),(e=>e.disabled?"#f5f5f5":"white"),(e=>e.disabled?"#999":"#333"),(e=>e.disabled?"#ddd":"#333"),(e=>e.disabled?"not-allowed":"pointer"),(e=>e.disabled?"#f5f5f5":"#f8f8f8"),(e=>e.disabled?"#ddd":"#000"),(e=>e.disabled?"none":"scale(1.05)"),(e=>e.disabled?"none":"scale(0.95)"),(e=>e.disabled?"#f5f5f5":"#f0f0f0")),er=Xn.div(bt||(bt=s(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 88px; /* \uc785\ub825\ucc3d\uacfc \uac19\uc740 \ub192\uc774 */\n  min-width: 140px; /* \ubc84\ud2bc\ub4e4\uc758 \ucd5c\uc18c \ub108\ube44 */\n"]))),nr=(Xn.button(wt||(wt=s(["\n  width: 100%;\n  height: 40px; /* \uc785\ub825\ucc3d \ub192\uc774\uc758 \uc808\ubc18\ubcf4\ub2e4 \uc57d\uac04 \uc791\uac8c */\n  border-radius: 16px; /* \ubb38\uc7a5\uc120\ud0dd \ubc84\ud2bc\uacfc \ub3d9\uc77c\ud55c \ub77c\uc6b4\ub529 */\n  border: 1px solid #ccc;\n  background: linear-gradient(90deg, #ffffff 0%, #f0f0f0 100%); /* \uc67c\ucabd\uc5d0\uc11c \uc624\ub978\ucabd\uc73c\ub85c \ud770\uc0c9\u2192\uc5f0\ud55c\ud68c\uc0c9 */\n  color: #333;\n  font-size: 11px;\n  font-weight: bold;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  line-height: 1.2;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* \uc0b4\uc9dd\uc758 \uc74c\uc601 \ucc98\ub9ac */\n  \n  &:hover {\n    background: linear-gradient(90deg, #f8f8f8 0%, #e8e8e8 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\n  }\n  \n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n"]))),Xn.button(St||(St=s(["\n  width: 100%;\n  height: 40px; /* \uc785\ub825\ucc3d \ub192\uc774\uc758 \uc808\ubc18\ubcf4\ub2e4 \uc57d\uac04 \uc791\uac8c */\n  background: ",";\n  color: ",";\n  border: 2px solid ","; /* \ud56d\uc0c1 \uac80\uc740 \ud14c\ub450\ub9ac */\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  \n  &:hover {\n    background: ",";\n  }\n  \n  &:active {\n    transform: scale(0.98);\n  }\n"])),(e=>e.$hasSelected?"white":(e.$isActive,"#333")),(e=>e.$hasSelected?"#333":(e.$isActive,"white")),(e=>(e.$hasSelected,"#333")),(e=>e.$hasSelected?"#f8f8f8":(e.$isActive,"#555")))),tr=(Xn.div(_t||(_t=s(["\n  padding: 16px;\n  margin-bottom: 8px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: 2px solid ",";\n  background-color: ",";\n  \n  &:hover {\n    background-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n"])),(e=>e.$isSelected?"#555":"transparent"),(e=>e.$isSelected?"#f5f5f5":"#fafafa"),(e=>e.$isSelected?"#efefef":"#f0f0f0")),Xn.div(kt||(kt=s(["\n  font-weight: 600;\n  font-size: 16px;\n  color: #333;\n  margin-bottom: 4px;\n"]))),Xn.div(Et||(Et=s(["\n  font-size: 14px;\n  color: #666;\n  line-height: 1.3;\n"]))),Xn.div(Ct||(Ct=s(["\n  padding: 12px 16px;\n  margin-bottom: 8px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background-color: ",";\n  border-left: 3px solid ",";\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),(e=>e.$isSelected?"#efefef":"transparent"),(e=>e.$isSelected?"#555":"transparent"),(e=>e.$isSelected?"#efefef":"#f5f5f5")),Xn.div(jt||(jt=s(["\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),Xn.div(Tt||(Tt=s(["\n  font-size: 12px;\n  color: #666;\n"]))),Xn.div(Pt||(Pt=s(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  \n  &::after {\n    content: '';\n    width: 32px;\n    height: 32px;\n    border: 3px solid #f3f3f3;\n    border-top: 3px solid #666;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"]))),Xn.div(At||(At=s(["\n  padding: 12px 16px;\n  background-color: #f8f8f8;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  color: #333;\n  font-size: 14px;\n  margin: 16px;\n"]))),Xn.div(It||(It=s(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n  padding: 40px;\n  text-align: center;\n  color: #666;\n"])))),rr=Xn.h3(Ot||(Ot=s(["\n  font-size: 18px;\n  margin-bottom: 8px;\n  color: #333;\n"]))),or=Xn.p(zt||(zt=s(["\n  font-size: 14px;\n  line-height: 1.5;\n"]))),ar=Xn.div(Rt||(Rt=s(["\n  padding: 16px 20px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: ",";\n  color: #333;\n  font-size: 16px;\n  font-weight: 500;\n  \n  &:hover {\n    background: ",";\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n"])),(e=>e.$isSelected?"linear-gradient(to right, #ffffff 0%, #e0e0e0 100%)":"transparent"),(e=>e.$isSelected?"linear-gradient(to right, #ffffff 0%, #e0e0e0 100%)":"#e0e0e0")),ir=Xn.div(Nt||(Nt=s(["\n  padding: 16px 20px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: ",";\n  color: #333;\n  font-size: 16px;\n  font-weight: 500;\n  \n  &:hover {\n    background: ",";\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n"])),(e=>e.$isSelected?"linear-gradient(to right, #ffffff 0%, #e0e0e0 100%)":"transparent"),(e=>e.$isSelected?"linear-gradient(to right, #ffffff 0%, #e0e0e0 100%)":"#e0e0e0"));var sr,lr,cr,ur,dr,fr,pr,hr,gr,mr,vr,yr,xr,br,wr=t(579);const Sr=Xn.div(sr||(sr=s(["\n  width: 100%;\n"]))),_r=Xn.div(lr||(lr=s(["\n  border-bottom: 1px solid #f0f0f0;\n"]))),kr=Xn.div(cr||(cr=s(["\n  padding: 12px 16px;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n  font-weight: ",";\n  border-radius: ",";\n  margin: ",";\n  transition: all 0.2s ease;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  \n  &:hover {\n    background: ",";\n  }\n"])),(e=>e.$isSelected?"linear-gradient(135deg, #6c757d 0%, #5a6268 100%)":"transparent"),(e=>e.$isSelected?"white":"#333"),(e=>e.$isSelected?"600":"500"),(e=>e.$isSelected?"8px":"0"),(e=>e.$isSelected?"4px 8px":"0"),(e=>e.$isSelected?"linear-gradient(135deg, #6c757d 0%, #5a6268 100%)":"#f8f9fa")),Er=Xn.div(ur||(ur=s(["\n  max-height: ",";\n  overflow: hidden;\n  transition: max-height 0.3s ease;\n  background: #f8f9fa;\n"])),(e=>e.$isExpanded?"300px":"0")),Cr=Xn.div(dr||(dr=s(["\n  position: relative;\n  height: ",";\n  min-height: ",";\n  overflow: hidden;\n  transition: height 0.3s ease;\n  background: #f8f9fa;\n  border-bottom: ",";\n  \n  &:hover {\n    border-bottom-color: ",";\n  }\n"])),(e=>e.$isExpanded?"".concat(e.$height,"px"):"0"),(e=>e.$isExpanded?"100px":"0"),(e=>e.$isExpanded?"2px solid #ddd":"none"),(e=>e.$isExpanded?"#6c757d":"transparent")),jr=Xn.div(fr||(fr=s(["\n  height: calc(100% - 6px);\n  overflow-y: auto;\n  padding: 8px;\n  padding-bottom: 14px; /* resize handle\uc744 \uc704\ud55c \uc5ec\uc720 \uacf5\uac04 */\n"]))),Tr=Xn.div(pr||(pr=s(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 6px;\n  cursor: ns-resize;\n  background: rgba(108, 117, 125, 0.3);\n  z-index: 10;\n  border-top: 1px solid #ddd;\n  \n  &:hover {\n    background: #6c757d;\n    border-top-color: #5a6268;\n  }\n  \n  &:active {\n    background: #5a6268;\n    border-top-color: #495057;\n  }\n  \n  /* \ub354 \ub113\uc740 \ud074\ub9ad \uc601\uc5ed\uc744 \uc704\ud55c \uac00\uc0c1 \uc694\uc18c */\n  &::before {\n    content: '';\n    position: absolute;\n    top: -3px;\n    left: 0;\n    right: 0;\n    height: 12px;\n    cursor: ns-resize;\n  }\n"]))),Pr=Xn.div(hr||(hr=s(["\n  padding: 8px 12px;\n  cursor: pointer;\n  color: ",";\n  font-size: 13px;\n  border-left: 2px solid ",";\n  background: ",";\n  transition: all 0.2s ease;\n  margin: 2px 0;\n  border-radius: 4px;\n  border: 1px solid #e0e0e0;\n  \n  &:hover {\n    background: #f0f0f0;\n    color: #6c757d;\n    border-color: #6c757d;\n  }\n"])),(e=>e.$isSelected?"#6c757d":"#666"),(e=>e.$isSelected?"#6c757d":"transparent"),(e=>e.$isSelected?"#f0f0f0":"transparent")),Ar=Xn.span(gr||(gr=s(["\n  display: inline-block;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-size: 9px;\n  font-weight: 600;\n  text-transform: uppercase;\n  margin-right: 6px;\n  background-color: #6c757d;\n  color: white;\n"]))),Ir=Xn.div(mr||(mr=s(["\n  padding: 8px 32px 8px 32px;\n  cursor: pointer;\n  color: ",";\n  font-size: 14px;\n  border-left: 3px solid ",";\n  background: ",";\n  transition: all 0.2s ease;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  \n  &:hover {\n    background: #f8f9fa;\n    color: #6c757d;\n  }\n"])),(e=>e.$isSelected?"#6c757d":"#666"),(e=>e.$isSelected?"#6c757d":"transparent"),(e=>e.$isSelected?"#f8f9fa":"transparent")),Or=Xn.div(vr||(vr=s(["\n  flex: 1;\n"]))),zr=Xn.button(yr||(yr=s(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #999;\n  font-size: 14px;\n  padding: 4px;\n  border-radius: 4px;\n  opacity: 0;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #e9ecef;\n    color: #dc3545;\n  }\n\n  ",":hover & {\n    opacity: 1;\n  }\n"])),Ir),Rr=Xn.div(xr||(xr=s(["\n  font-weight: 500;\n  margin-bottom: 2px;\n"]))),Nr=Xn.div(br||(br=s(["\n  font-size: 12px;\n  opacity: 0.7;\n"]))),Dr=e=>{let{selectedItem:t,onSelectItem:r,isCollapsed:i=!1,onToggle:s,selectedPersonaName:l,selectedPersonaId:c,refreshTrigger:u,mode:d,personas:f,verbalizationThreads:p,onSelectVerbalizationThread:h,onRefreshTrigger:g}=e;const[m,v]=(0,n.useState)(new Set),[y,x]=(0,n.useState)({interpretation:[],proceed:[],sentence:[]}),[b,w]=(0,n.useState)([]),[S,_]=(0,n.useState)([]),[k,E]=(0,n.useState)(null),[C,j]=(0,n.useState)(300),[T,P]=(0,n.useState)(!1),A="recent"===d?[]:[{id:"interpretation",name:"\ud574\uc11d"},{id:"proceed",name:"\ub098\uc544\uac00\uae30"},{id:"sentence",name:"\ubb38\uc7a5"},{id:"interaction_history",name:"\uc0c1\ud638\uc791\uc6a9 \uae30\ub85d"}];(0,n.useEffect)((()=>{(async()=>{if("recent"===d&&f)try{const n=[];for(const[r,i]of Object.entries(f))try{const e=await a.chatApi.getPersonaThreads(r);if(e.data){const t=e.data.map((e=>(0,o.A)((0,o.A)({},e),{},{persona_id:r,persona_name:i.name})));n.push(...t)}}catch(e){console.error("\ud398\ub974\uc18c\ub098 ".concat(r," \uc2a4\ub808\ub4dc \ub85c\ub4dc \uc2e4\ud328:"),e)}try{const e=await a.chatApi.getVerbalizationThreads();if(e.data){const t=e.data.map((e=>(0,o.A)((0,o.A)({},e),{},{persona_id:"verbalization",persona_name:"\uc5b8\uc5b4\ud654"})));n.push(...t)}}catch(e){console.error("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ub85c\ub4dc \uc2e4\ud328:",e)}const t=n.sort(((e,n)=>{const t=e.updated_at?new Date(e.updated_at).getTime():new Date(e.created_at).getTime();return(n.updated_at?new Date(n.updated_at).getTime():new Date(n.created_at).getTime())-t}));_(t)}catch(e){console.error("\uc804\uccb4 \uc2a4\ub808\ub4dc \ub85c\ub4dc \uc2e4\ud328:",e)}else if(c)try{const e=await a.chatApi.getPersonaThreads(c);if(e.data){const n={interpretation:e.data.filter((e=>"interpretation"===e.thread_type)).sort(((e,n)=>{const t=e.updated_at?new Date(e.updated_at).getTime():new Date(e.created_at).getTime();return(n.updated_at?new Date(n.updated_at).getTime():new Date(n.created_at).getTime())-t})),proceed:e.data.filter((e=>"proceed"===e.thread_type)).sort(((e,n)=>{const t=e.updated_at?new Date(e.updated_at).getTime():new Date(e.created_at).getTime();return(n.updated_at?new Date(n.updated_at).getTime():new Date(n.created_at).getTime())-t})),sentence:e.data.filter((e=>"sentence"===e.thread_type)).sort(((e,n)=>{const t=e.updated_at?new Date(e.updated_at).getTime():new Date(e.created_at).getTime();return(n.updated_at?new Date(n.updated_at).getTime():new Date(n.created_at).getTime())-t}))};x(n)}const n=await a.chatApi.getAllInteractionRecords();if(n.data){const e=n.data.map((e=>(0,o.A)((0,o.A)({},e),{},{threads:e.threads.sort(((e,n)=>{const t=e.updated_at?new Date(e.updated_at).getTime():new Date(e.created_at).getTime();return(n.updated_at?new Date(n.updated_at).getTime():new Date(n.created_at).getTime())-t}))})));w(e)}}catch(e){console.error("\ub370\uc774\ud130 \ub85c\ub4dc \uc2e4\ud328:",e)}})()}),[c,u,d,f]);const I=e=>{e.preventDefault(),e.stopPropagation(),P(!0);const n=e.clientY,t=C,r=e=>{const r=e.clientY-n,o=Math.max(100,Math.min(600,t+r));j(o)},o=()=>{P(!1),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",o)},O=e=>new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),z=async(e,n)=>{if(n.stopPropagation(),window.confirm("\uc774 \uc2a4\ub808\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{console.log("=== \uc2a4\ub808\ub4dc \uc0ad\uc81c \uc2dc\uc791 ==="),console.log("\uc0ad\uc81c\ud560 threadId:",e),console.log("\ud604\uc7ac mode:",d);const n=await a.chatApi.deleteThread(e);if(console.log("API \uc751\ub2f5:",n),console.log("result.data:",n.data),console.log("result.error:",n.error),n.data&&n.data.success){if(console.log("\uc0ad\uc81c \uc131\uacf5"),"verbalization"===d)k===e&&(E(null),h&&h(null)),g&&g();else{const n=(0,o.A)({},y);Object.keys(n).forEach((t=>{n[t]=n[t].filter((n=>n.id!==e))})),x(n),k===e&&E(null)}console.log("UI \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc")}else{var t,r;console.error("\uc0ad\uc81c \uc2e4\ud328:",n.error||(null===(t=n.data)||void 0===t?void 0:t.message));let e="\uc2a4\ub808\ub4dc \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4";n.error?n.error.includes("\ub124\ud2b8\uc6cc\ud06c \uc624\ub958")||n.error.includes("Failed to fetch")?e+=": \ubc31\uc5d4\ub4dc \uc11c\ubc84\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc11c\ubc84\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694.":e+=": "+n.error:null!==(r=n.data)&&void 0!==r&&r.message&&(e+=": "+n.data.message),alert(e)}}catch(i){console.error("\uc2a4\ub808\ub4dc \uc0ad\uc81c \uc2e4\ud328:",i),alert("\uc2a4\ub808\ub4dc \uc0ad\uc81c \uc911 \uc608\uc0c1\uce58 \ubabb\ud55c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: "+(i instanceof Error?i.message:String(i)))}},R=e=>{switch(e){case"interpretation":return"\ud574\uc11d";case"proceed":return"\ub098\uc544\uac00\uae30";case"sentence":return"\ubb38\uc7a5";case"verbalization":return"\uc5b8\uc5b4\ud654";default:return e}},N=e=>{var n;if(e.messages&&e.messages.length>0){const n=e.messages[0];return n.content.length>30?n.content.substring(0,30)+"...":n.content}return(null===(n=e.content)||void 0===n?void 0:n.length)>30?e.content.substring(0,30)+"...":e.content||"\ub0b4\uc6a9 \uc5c6\uc74c"},D=e=>{const n=y[e]||[],t=m.has(e);return(0,wr.jsxs)(Er,{$isExpanded:t,children:[n.map(((t,o)=>(0,wr.jsxs)(Ir,{$isSelected:k===t.id,onClick:()=>{return n=t.id,o=e,E(n),void r("".concat(o,"-thread-").concat(n));var n,o},children:[(0,wr.jsxs)(Or,{children:[(0,wr.jsxs)(Rr,{children:["interpretation"===e&&"\ud574\uc11d #".concat(n.length-o),"proceed"===e&&"\ub098\uc544\uac00\uae30 #".concat(n.length-o),"sentence"===e&&"\ubb38\uc7a5 #".concat(n.length-o)]}),(0,wr.jsxs)(Nr,{children:[O(t.created_at)," \u2022 ",t.messages.length,"\uac1c \uba54\uc2dc\uc9c0"]})]}),(0,wr.jsx)(zr,{onClick:e=>z(t.id,e),title:"\uc2a4\ub808\ub4dc \uc0ad\uc81c",children:"\ud83d\uddd1\ufe0f"})]},t.id))),0===n.length&&(0,wr.jsx)("div",{style:{padding:"16px 32px",fontSize:"14px",color:"#999"},children:"\uc2a4\ub808\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})]})},L=()=>{const e=m.has("interaction_history"),n=b.find((e=>e.persona_id===c));return(0,wr.jsx)(Cr,{$isExpanded:e,$height:C,children:e&&(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(jr,{$isExpanded:e,children:n?n.threads.map((e=>(0,wr.jsxs)(Pr,{$isSelected:k===e.id,onClick:()=>(e=>{E(e.id),r("".concat(e.thread_type,"-thread-").concat(e.id))})(e),children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)(Ar,{type:e.thread_type,children:R(e.thread_type)}),N(e)]}),(0,wr.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginTop:"2px"},children:O(e.created_at)})]},e.id))):(0,wr.jsx)("div",{style:{padding:"16px",fontSize:"14px",color:"#999",textAlign:"center"},children:"\uc774 \ud398\ub974\uc18c\ub098\uc758 \uc0c1\ud638\uc791\uc6a9 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})}),(0,wr.jsx)(Tr,{onMouseDown:I})]})})},M=e=>{let n="";if(e.messages&&e.messages.length>0){const t=e.messages.find((e=>"user"===e.role));t?n=t.content:e.messages[0]&&(n=e.messages[0].content)}else e.content&&(n=e.content);return n.length>50?n.substring(0,50)+"...":n||"\ub0b4\uc6a9 \uc5c6\uc74c"};return(0,wr.jsxs)(Mt,{width:"250px",$isCollapsed:i,$variant:"conversation",children:[s&&(0,wr.jsx)($t,{onClick:s}),(0,wr.jsx)(Ft,{$isCollapsed:i,children:"recent"===d?(0,wr.jsx)(Ut,{$isCollapsed:i,children:"\uc804\uccb4 \uc0c1\ud638\uc791\uc6a9"}):"verbalization"===d?(0,wr.jsx)(Ut,{$isCollapsed:i,children:"\uc5b8\uc5b4\ud654 \ub300\ud654"}):l?(0,wr.jsx)(Ut,{$isCollapsed:i,children:l}):null}),(0,wr.jsx)(Ht,{$isCollapsed:i,children:(0,wr.jsx)(Wt,{$variant:"conversation",children:"recent"===d?(0,wr.jsxs)("div",{style:{padding:"16px 0"},children:[S.map((e=>{var n;return(0,wr.jsx)(Ir,{$isSelected:k===e.id,onClick:()=>{E(e.id),r("recent-thread-".concat(e.id,"-").concat(e.persona_id))},children:(0,wr.jsxs)(Or,{children:[(0,wr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[(0,wr.jsx)("span",{style:{padding:"2px 6px",background:"#ffffff",color:"#000000",border:"1px solid #000000",borderRadius:"4px",fontSize:"10px",fontWeight:"600"},children:e.persona_name}),(0,wr.jsx)(Ar,{type:e.thread_type,children:R(e.thread_type)})]}),(0,wr.jsx)(Rr,{children:M(e)}),(0,wr.jsxs)(Nr,{children:[O(e.created_at)," \u2022 ",(null===(n=e.messages)||void 0===n?void 0:n.length)||0,"\uac1c \uba54\uc2dc\uc9c0"]})]})},"".concat(e.persona_id,"-").concat(e.id))})),0===S.length&&(0,wr.jsx)("div",{style:{padding:"16px 32px",fontSize:"14px",color:"#999",textAlign:"center"},children:"\uc0c1\ud638\uc791\uc6a9 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})]}):"verbalization"===d?(0,wr.jsxs)("div",{style:{padding:"16px 0"},children:[p&&[...p].sort(((e,n)=>{const t=e.updated_at?new Date(e.updated_at).getTime():new Date(e.created_at).getTime();return(n.updated_at?new Date(n.updated_at).getTime():new Date(n.created_at).getTime())-t})).map(((e,n)=>{var t;return(0,wr.jsxs)(Ir,{$isSelected:k===e.id,onClick:()=>{E(e.id),h&&h(e)},children:[(0,wr.jsxs)(Or,{children:[(0,wr.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:(0,wr.jsx)("span",{style:{padding:"2px 6px",background:"#ffffff",color:"#000000",border:"1px solid #000000",borderRadius:"4px",fontSize:"10px",fontWeight:"600"},children:"\uc5b8\uc5b4\ud654"})}),(0,wr.jsxs)(Rr,{children:["\uc5b8\uc5b4\ud654 #",p.length-n]}),(0,wr.jsxs)(Nr,{children:[O(e.created_at)," \u2022 ",(null===(t=e.messages)||void 0===t?void 0:t.length)||0,"\uac1c \uba54\uc2dc\uc9c0"]})]}),(0,wr.jsx)(zr,{onClick:n=>z(e.id,n),title:"\uc2a4\ub808\ub4dc \uc0ad\uc81c",children:"\ud83d\uddd1\ufe0f"})]},e.id)})),(!p||0===p.length)&&(0,wr.jsxs)("div",{style:{padding:"16px 32px",fontSize:"14px",color:"#999",textAlign:"center"},children:["\uc5b8\uc5b4\ud654 \ub300\ud654\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",(0,wr.jsx)("br",{}),"\uc0c8 \ub300\ud654\ub97c \uc2dc\uc791\ud574\ubcf4\uc138\uc694!"]})]}):(0,wr.jsx)(Sr,{children:A.map((e=>(0,wr.jsxs)(_r,{children:[(0,wr.jsx)(kr,{$isSelected:t===e.id,$isExpanded:m.has(e.id),onClick:()=>(e=>{const n=new Set(m);if(n.has(e)?n.delete(e):n.add(e),v(n),"interaction_history"===e)r(e);else{const n=y[e]||[];if(0===n.length)r(e);else{const t=n[0];E(t.id),r("".concat(e,"-thread-").concat(t.id))}}})(e.id),children:(0,wr.jsx)("span",{children:e.name})}),"interaction_history"===e.id?L():D(e.id)]},e.id)))})})})]})},Lr=e=>{let{selectedItem:n,onSelectItem:t,isCollapsed:r=!1,onToggle:o}=e;return(0,wr.jsxs)(Mt,{width:"200px",$isCollapsed:r,$variant:"persona",children:[o&&(0,wr.jsx)($t,{onClick:o}),(0,wr.jsx)(Ft,{$isCollapsed:r}),(0,wr.jsx)(Ht,{$isCollapsed:r,children:(0,wr.jsx)(Wt,{$variant:"persona",children:[{id:"training",name:"\ud6c8\uc2b5"},{id:"verbalization",name:"\uc5b8\uc5b4\ud654"},{id:"letter",name:"\ud3b8\uc9c0"},{id:"vault",name:"\uc800\uc7a5\uace0"},{id:"recent",name:"\ucd5c\uadfc \uc0c1\ud638\uc791\uc6a9"},{id:"admin",name:"\uad00\ub9ac"}].map((e=>(0,wr.jsx)(ir,{$isSelected:n===e.id,onClick:()=>t(e.id),children:e.name},e.id)))})})]})},Mr=e=>{let{selectedItem:n,onSelectItem:t,isCollapsed:r,onToggle:o}=e;return(0,wr.jsxs)(Mt,{width:"280px",$isCollapsed:r,$variant:"conversation",children:[(0,wr.jsxs)(Ft,{children:[(0,wr.jsx)(Ut,{$isCollapsed:r,children:"\uc800\uc7a5\uace0"}),(0,wr.jsx)($t,{onClick:o,children:r?"\u2192":"\u2190"})]}),(0,wr.jsx)(Ht,{children:(0,wr.jsx)(Wt,{children:[{id:"sentences",label:"\ubb38\uc7a5"},{id:"memos",label:"\uba54\ubaa8"},{id:"letters",label:"\ud3b8\uc9c0"},{id:"qa-updates",label:"QA \uc5c5\ub370\uc774\ud2b8"}].map((e=>(0,wr.jsx)(ar,{$isSelected:n===e.id,onClick:()=>t(e.id),children:(0,wr.jsx)("span",{className:"text",style:{display:r?"none":"inline"},children:e.label})},e.id)))})})]})};var $r=t(917);const Fr=new $r.i3("/vault/sentences"),Ur=new $r.i3("/vault/memos");const Hr=new class{async saveSentencesToVault(e){console.log("=== \uc800\uc7a5\uace0 \uc800\uc7a5 \uc2dc\uc791 (\ud1b5\ud569 API \uc0ac\uc6a9) ==="),console.log("\uc694\uccad \ub370\uc774\ud130:",JSON.stringify(e,null,2));try{const n=await Fr.create(e);if(n.error)throw new Error(n.error);return console.log("\uc131\uacf5 \uc751\ub2f5:",n.data),console.log("=== \uc800\uc7a5\uace0 \uc800\uc7a5 \uc644\ub8cc ==="),n.data}catch(n){throw console.error("\uc800\uc7a5\uace0 \uc800\uc7a5 \uc624\ub958:",n),n}}async getVaultSentences(){const e=await Fr.getAll();if(e.error)throw new Error(e.error);return e.data||[]}async deleteVaultSentence(e){const n=await Fr.delete(e);if(n.error)throw new Error(n.error);return n.data||{success:!1,message:"\uc0ad\uc81c \uc2e4\ud328"}}async updateVaultSentence(e,n){const t=await Fr.update(e,n);if(t.error)throw new Error(t.error);return t.data}async restoreVaultSentence(e,n){const t=await(0,$r.$P)("/vault/sentences/".concat(e,"/restore"),n);if(t.error)throw new Error(t.error);return t.data}async createOrUpdateMemo(e){var n,t,r;console.log("=== \uba54\ubaa8 \uc800\uc7a5 API \ud638\ucd9c ==="),console.log("\uc694\uccad \ub370\uc774\ud130:",{sentence_id:e.sentence_id,thread_id:e.thread_id,thread_type:e.thread_type,content:(null===(n=e.content)||void 0===n?void 0:n.substring(0,50))+((null===(t=e.content)||void 0===t?void 0:t.length)>50?"...":""),has_related_sentences:((null===(r=e.related_sentence_ids)||void 0===r?void 0:r.length)||0)>0});try{var o;const n=await(0,$r.$P)("/memos",e);if(n.error)throw console.error("\uba54\ubaa8 \uc800\uc7a5 API \uc5d0\ub7ec:",n.error),new Error(n.error);return console.log("\uba54\ubaa8 \uc800\uc7a5 \uc131\uacf5:",null===(o=n.data)||void 0===o?void 0:o.success),n.data}catch(a){throw console.error("\uba54\ubaa8 \uc800\uc7a5 API \ud638\ucd9c \uc2e4\ud328:",a),a}}async getMemo(e){return(await(0,$r.Vg)("/memos/".concat(e))).data||null}async deleteMemo(e){console.log("=== \uba54\ubaa8 \uc0ad\uc81c API \ud638\ucd9c ==="),console.log("\ubb38\uc7a5 ID:",e);try{var n;const t=await(0,$r.Al)("/memos/".concat(e));if(t.error)throw console.error("\uba54\ubaa8 \uc0ad\uc81c API \uc5d0\ub7ec:",t.error),new Error(t.error);return console.log("\uba54\ubaa8 \uc0ad\uc81c \uc131\uacf5:",null===(n=t.data)||void 0===n?void 0:n.success),t.data}catch(t){throw console.error("\uba54\ubaa8 \uc0ad\uc81c API \ud638\ucd9c \uc2e4\ud328:",t),t}}async getAllMemos(){return(await(0,$r.Vg)("/memos")).data||{}}async createHighlight(e){console.log("=== \ud558\uc774\ub77c\uc774\ud2b8 \uc0dd\uc131 API \ud638\ucd9c ==="),console.log("\uc694\uccad \ub370\uc774\ud130:",{sentence_id:e.sentence_id,thread_id:e.thread_id,thread_type:e.thread_type});try{var n;const t=await(0,$r.$P)("/highlights",e);if(t.error)throw console.error("\ud558\uc774\ub77c\uc774\ud2b8 \uc0dd\uc131 API \uc5d0\ub7ec:",t.error),new Error(t.error);return console.log("\ud558\uc774\ub77c\uc774\ud2b8 \uc0dd\uc131 \uc131\uacf5:",null===(n=t.data)||void 0===n?void 0:n.success),t.data}catch(t){throw console.error("\ud558\uc774\ub77c\uc774\ud2b8 \uc0dd\uc131 API \ud638\ucd9c \uc2e4\ud328:",t),t}}async deleteHighlight(e){console.log("=== \ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c API \ud638\ucd9c ==="),console.log("\ubb38\uc7a5 ID:",e);try{var n;const t=await(0,$r.Al)("/highlights/".concat(e));if(t.error)throw console.error("\ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c API \uc5d0\ub7ec:",t.error),new Error(t.error);return console.log("\ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c \uc131\uacf5:",null===(n=t.data)||void 0===n?void 0:n.success),t.data}catch(t){throw console.error("\ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c API \ud638\ucd9c \uc2e4\ud328:",t),t}}async getAllHighlights(){return(await(0,$r.Vg)("/highlights")).data||{}}async getThreadHighlights(e){var n;return(null===(n=(await(0,$r.Vg)("/highlights/thread/".concat(e))).data)||void 0===n?void 0:n.highlights)||[]}async getThreadSentenceData(e){console.log("=== \uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \uc870\ud68c API \ud638\ucd9c ==="),console.log("\uc2a4\ub808\ub4dc ID:",e);try{var n,t,r;const o=await(0,$r.Vg)("/threads/".concat(e,"/sentence-data"));if(o.error)throw console.error("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \uc870\ud68c API \uc5d0\ub7ec:",o.error),new Error(o.error);return console.log("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \uc870\ud68c \uc131\uacf5:",{memo_count:Object.keys((null===(n=o.data)||void 0===n?void 0:n.memos)||{}).length,highlight_count:(null===(t=o.data)||void 0===t||null===(r=t.highlights)||void 0===r?void 0:r.length)||0}),o.data}catch(o){throw console.error("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \uc870\ud68c API \ud638\ucd9c \uc2e4\ud328:",o),o}}async saveMemoToVault(e){const n=await Ur.create(e);if(n.error)throw new Error(n.error);return n.data}async getVaultMemos(){const e=await Ur.getAll();if(e.error)throw new Error(e.error);return e.data||[]}async deleteVaultMemo(e){const n=await Ur.delete(e);if(n.error)throw new Error(n.error);return n.data||{success:!1,message:"\uc0ad\uc81c \uc2e4\ud328"}}async interactWithVaultMemo(e){const n=await Ur.interact(e);if(n.error)throw new Error(n.error);return n.data}async resetDevData(){const e=await(0,$r.$P)("/dev/reset");if(e.error)throw new Error(e.error);return e.data}};var Wr,Br,Vr,Kr,qr,Qr,Yr,Gr,Xr,Jr,Zr,eo,no,to,ro,oo,ao,io,so,lo,co,uo,fo,po,ho,go,mo,vo,yo;const xo=Xn.div(Wr||(Wr=s(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n"]))),bo=Xn.div(Br||(Br=s(["\n  padding: 20px;\n  border-bottom: 1px solid #e9ecef;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n"]))),wo=Xn.button(Vr||(Vr=s(["\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #333;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  min-width: 120px;\n  justify-content: space-between;\n  \n  &:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  }\n  \n  .arrow {\n    font-size: 12px;\n    transition: transform 0.2s;\n    transform: ",";\n  }\n"])),(e=>e.$isOpen?"rotate(180deg)":"rotate(0deg)")),So=Xn.div(Kr||(Kr=s(["\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #f8f9fa;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  max-height: 200px;\n  overflow-y: auto;\n  display: ",";\n  margin-top: 4px;\n  min-width: 150px;\n"])),(e=>e.$isOpen?"block":"none")),_o=Xn.div(qr||(qr=s(["\n  padding: 8px 16px;\n  cursor: pointer;\n  color: #333;\n  background: ",";\n  font-weight: ",";\n  \n  &:hover {\n    background: #e9ecef;\n  }\n  \n  &:first-child {\n    border-radius: 8px 8px 0 0;\n  }\n  \n  &:last-child {\n    border-radius: 0 0 8px 8px;\n  }\n"])),(e=>e.$isSelected?"#e9ecef":"transparent"),(e=>e.$isSelected?"500":"normal")),ko=Xn.div(Qr||(Qr=s(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Eo=Xn.button(Yr||(Yr=s(["\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),Co=Xn.div(Gr||(Gr=s(["\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  background: #ffffff;\n"]))),jo=Xn.div(Xr||(Xr=s(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n"]))),To=Xn.div(Jr||(Jr=s(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),Po=Xn.div(Zr||(Zr=s(["\n  width: 100%;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 16px;\n  padding: 16px 20px;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.2s ease;\n  min-height: 60px;\n  display: flex;\n  align-items: center;\n  \n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-1px);\n    border-color: ",";\n    background: ",";\n  }\n  \n  ","\n"])),(e=>e.$isHighlighted?"linear-gradient(135deg, #fff9c4 0%, #ffeaa7 100%)":"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)"),(e=>e.$isHighlighted?"#ffc107":"#dee2e6"),(e=>e.$isHighlighted?"#ffb300":"#adb5bd"),(e=>e.$isHighlighted?"linear-gradient(135deg, #fff3cd 0%, #ffd60a 100%)":"linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%)"),(e=>e.$isPinned&&"\n    background: ".concat(e.$isHighlighted?"linear-gradient(135deg, #fff9c4 0%, #ffeaa7 100%)":"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",";\n    border-color: ").concat(e.$isHighlighted?"#ffc107":"#dee2e6",";\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    \n    &:hover {\n      background: ").concat(e.$isHighlighted?"linear-gradient(135deg, #fff3cd 0%, #ffd60a 100%)":"linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%)",";\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n      border-color: ").concat(e.$isHighlighted?"#ffb300":"#adb5bd",";\n    }\n  "))),Ao=Xn.div(eo||(eo=s(["\n  flex: 1;\n  padding-bottom: ",";\n"])),(e=>"var(--has-memo, 0px)")),Io=Xn.div(no||(no=s(["\n  font-size: 15px;\n  line-height: 1.6;\n  color: #333;\n  word-break: break-word;\n  font-weight: 500;\n"]))),Oo=Xn.div(to||(to=s(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  font-size: 12px;\n  color: #6c757d;\n  gap: 8px;\n"]))),zo=Xn.span(ro||(ro=s(["\n  background: #e9ecef;\n  padding: 3px 8px;\n  border-radius: 6px;\n  font-weight: 500;\n  color: #495057;\n"]))),Ro=Xn.span(oo||(oo=s(["\n  font-style: italic;\n  opacity: 0.8;\n"]))),No=Xn.div(ao||(ao=s(["\n  position: absolute;\n  top: 12px;\n  right: 16px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: ",";\n  cursor: pointer;\n  z-index: 2;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    color: #333;\n    background: rgba(0, 0, 0, 0.1);\n  }\n  \n  ",":hover & {\n    color: ",';\n  }\n  \n  &::before {\n    content: "\ud83d\udccc";\n    filter: grayscale(100%);\n  }\n'])),(e=>e.$isPinned?"#333":"transparent"),Po,(e=>e.$isPinned?"#333":"#666")),Do=Xn.div(io||(io=s(["\n  text-align: center;\n  padding: 60px 20px;\n  color: #6c757d;\n  \n  .icon {\n    font-size: 48px;\n    margin-bottom: 16px;\n  }\n  \n  .title {\n    font-size: 18px;\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n  \n  .description {\n    font-size: 14px;\n  }\n"]))),Lo=Xn.div(so||(so=s(["\n  position: fixed;\n  top: ","px;\n  left: ","px;\n  background: white;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  min-width: 160px;\n  overflow: hidden;\n"])),(e=>e.$y),(e=>e.$x)),Mo=Xn.div(lo||(lo=s(["\n  padding: 12px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background-color: #f8f9fa;\n  }\n  \n  &:not(:last-child) {\n    border-bottom: 1px solid #f1f3f4;\n  }\n"]))),$o=Xn.div(co||(co=s(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n"]))),Fo=Xn.div(uo||(uo=s(["\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  max-width: 400px;\n  width: 90%;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n"]))),Uo=Xn.h3(fo||(fo=s(["\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n"]))),Ho=Xn.p(po||(po=s(["\n  margin: 0 0 24px 0;\n  font-size: 14px;\n  color: #666;\n  line-height: 1.5;\n"]))),Wo=Xn.div(ho||(ho=s(["\n  display: flex;\n  gap: 12px;\n  justify-content: space-between;\n"]))),Bo=Xn.button(go||(go=s(["\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  border: 1px solid;\n  \n  ","\n"])),(e=>"primary"===e.$variant?"\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n    color: #495057;\n    border-color: #adb5bd;\n    \n    &:hover {\n      background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\n      border-color: #6c757d;\n    }\n  ":"\n    background: white;\n    color: #6c757d;\n    border-color: #dee2e6;\n    \n    &:hover {\n      background: #f8f9fa;\n    }\n  ")),Vo=Xn.div(mo||(mo=s(["\n  position: absolute;\n  top: 8px;\n  right: 40px;\n  display: flex;\n  gap: 4px;\n  z-index: 1;\n"]))),Ko=Xn.div(vo||(vo=s(["\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  color: white;\n  font-weight: bold;\n  background: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  \n  &::before {\n    content: ",";\n  }\n"])),(e=>"highlight"===e.$type?"yellow"===e.$color?"#ffc107":"green"===e.$color?"#28a745":"blue"===e.$color?"#007bff":"#ffc107":"#6c757d"),(e=>"highlight"===e.$type?'"H"':'"M"')),qo=Xn.div(yo||(yo=s(["\n  position: absolute;\n  bottom: 8px;\n  left: 20px;\n  right: 60px;\n  background: rgba(108, 117, 125, 0.1);\n  border-radius: 8px;\n  padding: 6px 10px;\n  font-size: 12px;\n  color: #6c757d;\n  font-style: italic;\n  max-height: 40px;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n"]))),Qo=e=>{let{personas:t,onNavigateToPersona:r,onNavigateToThread:o,onNavigateToPersonaWithSentence:a}=e;const[i,s]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[u,d]=(0,n.useState)("\uc804\uccb4"),[f,p]=(0,n.useState)(!0),[h,g]=(0,n.useState)(new Set),[m,v]=(0,n.useState)(null),[y,x]=(0,n.useState)(null),[b,w]=(0,n.useState)(!1),[S,_]=(0,n.useState)(["\uc804\uccb4","\uc5b8\uc5b4\ud654","\ud3b8\uc9c0"]),[k,E]=(0,n.useState)(0),C=(0,n.useCallback)((async()=>{p(!0);try{const e=await Hr.getVaultSentences();console.log("\uc800\uc7a5\uace0 \ub370\uc774\ud130:",e),s(e);const n=Object.values(t).map((e=>e.name));_(["\uc804\uccb4","\uc5b8\uc5b4\ud654","\ud3b8\uc9c0",...n])}catch(e){console.error("\ub370\uc774\ud130 \ub85c\ub529 \uc2e4\ud328:",e)}finally{p(!1)}}),[t]),j=(0,n.useCallback)((()=>{let e=[...i];if("\uc804\uccb4"!==u)if("\uc5b8\uc5b4\ud654"===u)e=e.filter((e=>{var n;return e.tags.includes("verbalization")||e.tags.includes("\uc5b8\uc5b4\ud654")||(null===(n=e.source_message_id)||void 0===n?void 0:n.includes("verbalization"))}));else if("\ud3b8\uc9c0"===u)e=e.filter((e=>e.tags.includes("letter")));else{const n=Object.keys(t).find((e=>t[e].name===u));n&&(e=e.filter((e=>e.tags.includes(n)||e.source_message_id.includes(n))))}const n=e.filter((e=>h.has(e.id))),r=e.filter((e=>!h.has(e.id)));n.sort(((e,n)=>new Date(n.created_at).getTime()-new Date(e.created_at).getTime())),r.sort(((e,n)=>new Date(n.created_at).getTime()-new Date(e.created_at).getTime())),c([...n,...r])}),[i,u,h,t]);(0,n.useEffect)((()=>{C()}),[C]),(0,n.useEffect)((()=>{j()}),[i,u,h,j]),(0,n.useEffect)((()=>{const e=()=>{console.log("\uc678\ubd80 \ud074\ub9ad \uac10\uc9c0, \ucee8\ud14d\uc2a4\ud2b8 \uba54\ub274 \ub2eb\uae30"),v(null)};if(m)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[m]),(0,n.useEffect)((()=>{const e=e=>{e.target.closest(".filter-dropdown")||w(!1)};if(b)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[b]);const T=e=>{const n="prev"===e?Math.max(0,k-1):Math.min(S.length-1,k+1);E(n),d(S[n])},P=(e,n)=>{switch(console.log("\ucee8\ud14d\uc2a4\ud2b8 \uba54\ub274 \uc561\uc158:",e),v(null),e){case"interact":case"delete":x({type:e,sentence:n});break;case"pin":A(n.id)}},A=e=>{g((n=>{const t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t}))},I=e=>{var n;if(e.tags.includes("\uc5b8\uc5b4\ud654")||e.tags.includes("verbalization")||null!==(n=e.source_message_id)&&void 0!==n&&n.includes("verbalization"))return"\uc5b8\uc5b4\ud654";if(e.tags.includes("letter"))return"\ud3b8\uc9c0";if(e.source_message_id){const n=e.source_message_id.split("_");if(n.length>1){const e=n[1],r=t[e];if(r)return r.name}}const r=["interpretation","proceed","sentence","verbalization","letter"];for(const o of e.tags)if(!r.includes(o)){const e=t[o];if(e)return e.name}return"\uc2dc\uc2a4\ud15c"},O=e=>{var n,t,r,o;return null!==(n=e.source_message_id)&&void 0!==n&&n.includes("interpretation_")||e.tags.includes("interpretation")?"\ud574\uc11d":null!==(t=e.source_message_id)&&void 0!==t&&t.includes("proceed_")||e.tags.includes("proceed")?"\ub098\uc544\uac00\uae30":null!==(r=e.source_message_id)&&void 0!==r&&r.includes("sentence_")||e.tags.includes("sentence")?"\ubb38\uc7a5":null!==(o=e.source_message_id)&&void 0!==o&&o.includes("verbalization")||e.tags.includes("verbalization")?"\uc5b8\uc5b4\ud654":"\uc54c\uc218\uc5c6\uc74c"};if(f)return(0,wr.jsx)(xo,{children:(0,wr.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"\ub85c\ub529 \uc911..."})});const z=(()=>{if(!y)return null;const{type:e}=y;switch(e){case"interact":return{title:"\uc0c1\ud638\uc791\uc6a9 \ud558\uae30",message:"\ud574\ub2f9 \ubb38\uc7a5\uc774 \uc628 \uc2a4\ub808\ub4dc\ub85c \uc774\ub3d9\ud558\uc5ec \uc774 \ubb38\uc7a5\uc5d0 \ub300\ud574 \uc0c1\ud638\uc791\uc6a9\uc744 \uc2dc\uc791\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0c1\ud638\uc791\uc6a9",cancelText:"\ucde8\uc18c"};case"delete":return{title:"\ubb38\uc7a5 \uc0ad\uc81c",message:"\uc774 \ubb38\uc7a5\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",confirmText:"\uc0ad\uc81c",cancelText:"\ucde8\uc18c"};default:return null}})();return(0,wr.jsxs)(xo,{children:[(0,wr.jsxs)(bo,{children:[(0,wr.jsx)(Eo,{onClick:()=>T("prev"),disabled:0===k,children:"\u2039"}),(0,wr.jsxs)(ko,{className:"filter-dropdown",children:[(0,wr.jsxs)(wo,{$isOpen:b,onClick:()=>{w(!b)},children:[u,(0,wr.jsx)("span",{className:"arrow",children:"\u25bc"})]}),(0,wr.jsx)(So,{$isOpen:b,children:S.map((e=>(0,wr.jsx)(_o,{$isSelected:e===u,onClick:()=>(e=>{d(e),E(S.indexOf(e)),w(!1)})(e),children:e},e)))})]}),(0,wr.jsx)(Eo,{onClick:()=>T("next"),disabled:k===S.length-1,children:"\u203a"})]}),(0,wr.jsx)(Co,{children:0===l.length?(0,wr.jsxs)(Do,{children:[(0,wr.jsx)("div",{className:"icon",children:"\ud83d\udcdd"}),(0,wr.jsx)("div",{className:"title",children:"\uc800\uc7a5\ub41c \ubb38\uc7a5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,wr.jsx)("div",{className:"description",children:"\ud6c8\uc2b5 \ud398\uc774\uc9c0\uc5d0\uc11c \ubb38\uc7a5\uc744 \uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5\ud574\ubcf4\uc138\uc694"})]}):(0,wr.jsx)(jo,{children:l.map((e=>(0,wr.jsxs)(To,{children:[(0,wr.jsxs)(Po,{$isPinned:h.has(e.id),$isHighlighted:e.is_highlighted,onClick:n=>((e,n)=>{e.preventDefault(),e.stopPropagation(),console.log("\ubb38\uc7a5 \ud074\ub9ad\ub428:",n.sentence.substring(0,50)),console.log("\ud074\ub9ad \uc704\uce58:",e.clientX,e.clientY),v({x:e.clientX,y:e.clientY,sentence:n}),console.log("\ucee8\ud14d\uc2a4\ud2b8 \uba54\ub274 \uc124\uc815\ub428")})(n,e),style:{"--has-memo":e.memo_content?"50px":"0px"},children:[(0,wr.jsxs)(Ao,{children:[(0,wr.jsx)(Io,{children:e.sentence}),e.memo_content&&(0,wr.jsxs)(qo,{children:["\ud83d\udcdd ",e.memo_content]})]}),(0,wr.jsxs)(Vo,{children:[e.is_highlighted&&(0,wr.jsx)(Ko,{$type:"highlight",$color:e.highlight_color||"yellow",title:"\ud558\uc774\ub77c\uc774\ud2b8 (".concat(e.highlight_color||"yellow",")")}),e.memo_content&&(0,wr.jsx)(Ko,{$type:"memo",title:"\uba54\ubaa8 \uc788\uc74c"})]}),(0,wr.jsx)(No,{$isPinned:h.has(e.id),onClick:n=>{n.stopPropagation(),A(e.id)}})]}),(0,wr.jsxs)(Oo,{children:[(0,wr.jsxs)(zo,{children:[I(e)," - ",O(e)]}),(0,wr.jsx)(Ro,{children:new Date(e.created_at).toLocaleDateString("ko-KR")})]})]},e.id)))})}),m&&(0,wr.jsxs)(Lo,{$x:m.x,$y:m.y,children:[(0,wr.jsx)(Mo,{onClick:()=>P("interact",m.sentence),children:"\uc0c1\ud638\uc791\uc6a9 \ud558\uae30"}),(0,wr.jsx)(Mo,{onClick:()=>P("delete",m.sentence),children:"\uc0ad\uc81c"})]}),y&&z&&(0,wr.jsx)($o,{onClick:()=>x(null),children:(0,wr.jsxs)(Fo,{onClick:e=>e.stopPropagation(),children:[(0,wr.jsx)(Uo,{children:z.title}),(0,wr.jsx)(Ho,{children:z.message}),(0,wr.jsxs)(Wo,{children:[(0,wr.jsx)(Bo,{$variant:"primary",onClick:async()=>{var e;if(!y)return;const{type:n,sentence:a}=y;try{switch(n){case"interact":if(console.log("=== \uc0c1\ud638\uc791\uc6a9 \ud558\uae30 \uc2dc\uc791 ==="),console.log("\ubb38\uc7a5 \ub370\uc774\ud130:",a),console.log("tags:",a.tags),console.log("source_message_id:",a.source_message_id),console.log("source_conversation_id:",a.source_conversation_id),console.log("source_thread_id:",a.source_thread_id),console.log("source_thread_type:",a.source_thread_type),console.log("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud398\ub974\uc18c\ub098\ub4e4:",Object.keys(t)),a.tags.includes("verbalization")||a.tags.includes("\uc5b8\uc5b4\ud654")||null!==(e=a.source_message_id)&&void 0!==e&&e.includes("verbalization"))console.log("\uc5b8\uc5b4\ud654 \ubb38\uc7a5\uc73c\ub85c \uc778\uc2dd\ub428"),a.source_conversation_id&&"verbalization_chat"!==a.source_conversation_id?(console.log("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc ID\uac00 \uc788\uc74c:",a.source_conversation_id),sessionStorage.setItem("selectedSentenceForInput",'"'.concat(a.sentence,'"\uc5d0 \ub300\ud574 ')),o&&(console.log("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc\ub85c \uc774\ub3d9 \uc911..."),o(a.source_conversation_id,"verbalization"))):(console.log("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc ID\uac00 \uc5c6\uc5b4\uc11c \uc5b8\uc5b4\ud654 \ubaa8\ub4dc\ub85c\ub9cc \uc804\ud658"),sessionStorage.setItem("selectedSentenceForInput",'"'.concat(a.sentence,'"\uc5d0 \ub300\ud574 ')),r&&(console.log("\uc5b8\uc5b4\ud654 \ud398\ub974\uc18c\ub098\ub85c \uc774\ub3d9 \uc911..."),r("verbalization","sentence")));else{var i,l,c;console.log("\ud6c8\uc2b5 \ubb38\uc7a5\uc73c\ub85c \uc778\uc2dd\ub428");let e="interpretation";null!==(i=a.source_message_id)&&void 0!==i&&i.includes("sentence_")||a.tags.includes("sentence")?e="sentence":null!==(l=a.source_message_id)&&void 0!==l&&l.includes("proceed_")||a.tags.includes("proceed")?e="proceed":(null!==(c=a.source_message_id)&&void 0!==c&&c.includes("interpretation_")||a.tags.includes("interpretation"))&&(e="interpretation"),console.log("\uc2dd\ubcc4\ub41c \uc2a4\ub808\ub4dc \ud0c0\uc785:",e);const n=a.source_thread_id||a.source_conversation_id;if(n)console.log("\ud6c8\uc2b5 \uc2a4\ub808\ub4dc ID\uac00 \uc788\uc74c:",n,"(from:",a.source_thread_id?"source_thread_id":"source_conversation_id",")"),sessionStorage.setItem("selectedSentenceForInput",'"'.concat(a.sentence,'"\uc5d0 \ub300\ud574 ')),o&&(console.log("\ud6c8\uc2b5 \uc2a4\ub808\ub4dc\ub85c \uc774\ub3d9 \uc911..."),o(n,e));else{console.log("\ud6c8\uc2b5 \uc2a4\ub808\ub4dc ID\uac00 \uc5c6\uc74c, \ud398\ub974\uc18c\ub098 \uc815\ubcf4 \ucc3e\ub294 \uc911...");let n=null;if(a.source_message_id){const e=a.source_message_id.split("_");if(e.length>1){const r=e[1];t[r]&&(n=r,console.log("source_message_id\uc5d0\uc11c \ud398\ub974\uc18c\ub098 \ubc1c\uacac:",n))}}n||(n=a.tags.find((n=>n!==e&&"sentence"!==n&&"proceed"!==n&&"interpretation"!==n&&"verbalization"!==n&&"letter"!==n&&t[n])),n&&console.log("\ud0dc\uadf8\uc5d0\uc11c \ud398\ub974\uc18c\ub098 \ubc1c\uacac:",n)),n&&t[n]?(console.log("\ud398\ub974\uc18c\ub098\ub85c \uc774\ub3d9 \uc900\ube44:",n,"\ud0c0\uc785:",e),sessionStorage.setItem("selectedSentenceForInput",'"'.concat(a.sentence,'"\uc5d0 \ub300\ud574 ')),"interpretation"===e&&sessionStorage.setItem("navigateToInterpretationMode","true"),r&&(console.log("\ud398\ub974\uc18c\ub098\ub85c \uc774\ub3d9 \uc2e4\ud589:",n),r(n,"sentence"))):(console.error("\ud398\ub974\uc18c\ub098 \uc815\ubcf4\ub3c4 \ucc3e\uc744 \uc218 \uc5c6\uc74c"),console.error("sentence.tags:",a.tags),console.error("sentence.source_message_id:",a.source_message_id),console.error("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud398\ub974\uc18c\ub098\ub4e4:",Object.keys(t)),alert("\ud574\ub2f9 \ubb38\uc7a5\uc758 \uc6d0\ubcf8 \uc704\uce58\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ud398\ub974\uc18c\ub098 \uc815\ubcf4\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))}}break;case"delete":await Hr.deleteVaultSentence(a.id),s((e=>e.filter((e=>e.id!==a.id))))}}catch(u){console.error("\uc561\uc158 \uc2e4\ud589 \uc2e4\ud328:",u),alert("\uc791\uc5c5 \uc2e4\ud589 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: "+u)}x(null)},children:z.confirmText}),(0,wr.jsx)(Bo,{$variant:"secondary",onClick:()=>x(null),children:z.cancelText})]})]})})]})};var Yo,Go,Xo,Jo,Zo,ea,na,ta,ra,oa,aa,ia,sa,la,ca,ua,da,fa,pa,ha,ga,ma,va,ya,xa;const ba=Xn.div(Yo||(Yo=s(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n"]))),wa=Xn.div(Go||(Go=s(["\n  padding: 20px;\n  border-bottom: 1px solid #e9ecef;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n"]))),Sa=Xn.button(Xo||(Xo=s(["\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #333;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  min-width: 120px;\n  justify-content: space-between;\n  \n  &:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  }\n  \n  .arrow {\n    font-size: 12px;\n    transition: transform 0.2s;\n    transform: ",";\n  }\n"])),(e=>e.$isOpen?"rotate(180deg)":"rotate(0deg)")),_a=Xn.div(Jo||(Jo=s(["\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #f8f9fa;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  max-height: 200px;\n  overflow-y: auto;\n  display: ",";\n  margin-top: 4px;\n  min-width: 150px;\n"])),(e=>e.$isOpen?"block":"none")),ka=Xn.div(Zo||(Zo=s(["\n  padding: 8px 16px;\n  cursor: pointer;\n  color: #333;\n  background: ",";\n  font-weight: ",";\n  \n  &:hover {\n    background: #e9ecef;\n  }\n  \n  &:first-child {\n    border-radius: 8px 8px 0 0;\n  }\n  \n  &:last-child {\n    border-radius: 0 0 8px 8px;\n  }\n"])),(e=>e.$isSelected?"#e9ecef":"transparent"),(e=>e.$isSelected?"500":"normal")),Ea=Xn.div(ea||(ea=s(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Ca=Xn.button(na||(na=s(["\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),ja=Xn.div(ta||(ta=s(["\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  background: #ffffff;\n"]))),Ta=Xn.div(ra||(ra=s(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n"]))),Pa=Xn.div(oa||(oa=s(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n"]))),Aa=Xn.div(aa||(aa=s(["\n  width: 100%;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border: 1px solid #dee2e6;\n  border-radius: 16px;\n  padding: 16px 20px;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.2s ease;\n  min-height: 90px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  \n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-1px);\n    border-color: #adb5bd;\n    background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\n  }\n"]))),Ia=Xn.div(ia||(ia=s(["\n  font-size: 15px;\n  line-height: 1.6;\n  color: #333;\n  word-break: break-word;\n  font-weight: 600;\n"]))),Oa=Xn.div(sa||(sa=s(['\n  font-size: 14px;\n  line-height: 1.5;\n  color: #555;\n  word-break: break-word;\n  font-style: italic;\n  \n  &::before {\n    content: "\u2198 ";\n    color: #999;\n    font-weight: bold;\n    margin-right: 4px;\n  }\n']))),za=Xn.div(la||(la=s(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  font-size: 12px;\n  color: #6c757d;\n  gap: 8px;\n"]))),Ra=Xn.span(ca||(ca=s(["\n  background: #e9ecef;\n  padding: 3px 8px;\n  border-radius: 6px;\n  font-weight: 500;\n  color: #495057;\n"]))),Na=Xn.span(ua||(ua=s(["\n  font-style: italic;\n  opacity: 0.8;\n"]))),Da=Xn.div(da||(da=s(["\n  text-align: center;\n  padding: 60px 20px;\n  color: #6c757d;\n  \n  .icon {\n    font-size: 48px;\n    margin-bottom: 16px;\n  }\n  \n  .title {\n    font-size: 18px;\n    font-weight: 500;\n    margin-bottom: 8px;\n  }\n  \n  .description {\n    font-size: 14px;\n  }\n"]))),La=Xn.div(fa||(fa=s(["\n  position: fixed;\n  top: ","px;\n  left: ","px;\n  background: white;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  min-width: 160px;\n  overflow: hidden;\n"])),(e=>e.$y),(e=>e.$x)),Ma=Xn.div(pa||(pa=s(["\n  padding: 12px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #333;\n  \n  &:hover {\n    background-color: #f8f9fa;\n  }\n  \n  &:not(:last-child) {\n    border-bottom: 1px solid #f1f3f4;\n  }\n"]))),$a=Xn.div(ha||(ha=s(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n"]))),Fa=Xn.div(ga||(ga=s(["\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  max-width: 400px;\n  width: 90%;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n"]))),Ua=Xn.h3(ma||(ma=s(["\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n"]))),Ha=Xn.p(va||(va=s(["\n  margin: 0 0 24px 0;\n  font-size: 14px;\n  color: #666;\n  line-height: 1.5;\n"]))),Wa=Xn.div(ya||(ya=s(["\n  display: flex;\n  gap: 12px;\n  justify-content: space-between;\n"]))),Ba=Xn.button(xa||(xa=s(["\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  border: 1px solid;\n  \n  ","\n"])),(e=>"primary"===e.$variant?"\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n    color: #495057;\n    border-color: #adb5bd;\n    \n    &:hover {\n      background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\n      border-color: #6c757d;\n    }\n  ":"\n    background: white;\n    color: #6c757d;\n    border-color: #dee2e6;\n    \n    &:hover {\n      background: #f8f9fa;\n    }\n  ")),Va=e=>{let{personas:t,onNavigateToThread:r}=e;const[o,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[l,c]=(0,n.useState)("\uc804\uccb4"),[u,d]=(0,n.useState)(!0),[f,p]=(0,n.useState)(null),[h,g]=(0,n.useState)(null),[m,v]=(0,n.useState)(!1),[y,x]=(0,n.useState)(["\uc804\uccb4","\ud574\uc11d","\ub098\uc544\uac00\uae30","\ubb38\uc7a5","\uc5b8\uc5b4\ud654"]),[b,w]=(0,n.useState)(0),S=(0,n.useCallback)((async()=>{try{d(!0);const e=await Hr.getVaultMemos();a(e);const n=Object.values(t).map((e=>e.name));x(["\uc804\uccb4","\ud574\uc11d","\ub098\uc544\uac00\uae30","\ubb38\uc7a5","\uc5b8\uc5b4\ud654",...n])}catch(e){console.error("\uba54\ubaa8 \uc800\uc7a5\uace0 \ub85c\ub529 \uc2e4\ud328:",e)}finally{d(!1)}}),[t]),_=(0,n.useCallback)((()=>{let e=[...o];if("\uc804\uccb4"!==l)if("\ud574\uc11d"===l)e=e.filter((e=>"interpretation"===e.source_thread_type));else if("\ub098\uc544\uac00\uae30"===l)e=e.filter((e=>"proceed"===e.source_thread_type));else if("\ubb38\uc7a5"===l)e=e.filter((e=>"sentence"===e.source_thread_type));else if("\uc5b8\uc5b4\ud654"===l)e=e.filter((e=>"verbalization"===e.source_thread_type));else{const n=Object.keys(t).find((e=>t[e].name===l));n&&(e=e.filter((e=>{var t;return e.tags.includes(n)||(null===(t=e.source_message_id)||void 0===t?void 0:t.includes(n))})))}e.sort(((e,n)=>new Date(n.created_at).getTime()-new Date(e.created_at).getTime())),s(e)}),[o,l,t]);(0,n.useEffect)((()=>{S()}),[S]),(0,n.useEffect)((()=>{_()}),[o,l,_]),(0,n.useEffect)((()=>{const e=e=>{e.target.closest(".filter-dropdown")||v(!1)};if(m)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[m]),(0,n.useEffect)((()=>{const e=()=>{p(null)};if(f)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[f]);const k=e=>{const n="prev"===e?Math.max(0,b-1):Math.min(y.length-1,b+1);w(n),c(y[n])},E=async(e,n)=>{p(null),"interact"===e?g({type:"interact",memo:n}):"delete"===e&&g({type:"delete",memo:n})},C=e=>{switch(e){case"interpretation":return"\ud574\uc11d";case"proceed":return"\ub098\uc544\uac00\uae30";case"sentence":return"\ubb38\uc7a5";case"verbalization":return"\uc5b8\uc5b4\ud654";default:return e||"\uc54c\uc218\uc5c6\uc74c"}},j=e=>{if(e.source_message_id){const n=e.source_message_id.split("_");if(n.length>1){let e=n[1];if(t[e])return t[e].name;const r=Object.keys(t).find((n=>n.startsWith(e+"_")));if(r)return t[r].name}}const n=["interpretation","proceed","sentence","verbalization"];for(const r of e.tags)if(!n.includes(r)){if(t[r])return t[r].name;const e=Object.keys(t).find((e=>e.startsWith(r+"_")));if(e)return t[e].name}return"verbalization_chat"===e.source_message_id||"verbalization"===e.source_thread_type||e.tags.includes("verbalization")?"\uc5b8\uc5b4\ud654":"\uc54c\uc218\uc5c6\uc74c"},T=e=>{if(e.metadata&&e.metadata.related_sentence_contents&&Array.isArray(e.metadata.related_sentence_contents)){const n=e.metadata.related_sentence_contents;if(n.length>1){const e=n.map((e=>'"'.concat(e,'"'))).join(", ");return"\u2192 ".concat(e)}}return e.sentence_content};if(u)return(0,wr.jsx)(ba,{children:(0,wr.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"\ub85c\ub529 \uc911..."})});const P=(()=>{if(!h)return null;const{type:e}=h;switch(e){case"interact":const e=(e=>{if(e.metadata&&e.metadata.related_sentence_contents&&Array.isArray(e.metadata.related_sentence_contents)){const n=e.metadata.related_sentence_contents;if(n.length>1)return n.map((e=>'"'.concat(e,'"'))).join(", ")}return h.memo.sentence_content})(h.memo);return{title:"\uba54\ubaa8 \uc0c1\ud638\uc791\uc6a9",message:'\uc774 \uba54\ubaa8\uc640 \uc0c1\ud638\uc791\uc6a9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc6d0\ubcf8 \uc704\uce58\ub85c \uc774\ub3d9\ud558\uc5ec "['.concat(e," - ").concat(h.memo.memo_content,' \uc5d0 \ub300\ud574]" \ud615\uc2dd\uc73c\ub85c \uc785\ub825\ucc3d\uc5d0 \uc0bd\uc785\ub429\ub2c8\ub2e4.'),confirmText:"\uc0c1\ud638\uc791\uc6a9",cancelText:"\ucde8\uc18c"};case"delete":return{title:"\uba54\ubaa8 \uc0ad\uc81c",message:"\uc774 \uba54\ubaa8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc0ad\uc81c\ub41c \uba54\ubaa8\ub294 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",confirmText:"\uc0ad\uc81c",cancelText:"\ucde8\uc18c"};default:return null}})();return(0,wr.jsxs)(ba,{children:[(0,wr.jsxs)(wa,{children:[(0,wr.jsx)(Ca,{onClick:()=>k("prev"),disabled:0===b,children:"\u2039"}),(0,wr.jsxs)(Ea,{className:"filter-dropdown",children:[(0,wr.jsxs)(Sa,{$isOpen:m,onClick:()=>{v(!m)},children:[l,(0,wr.jsx)("span",{className:"arrow",children:"\u25bc"})]}),(0,wr.jsx)(_a,{$isOpen:m,children:y.map((e=>(0,wr.jsx)(ka,{$isSelected:e===l,onClick:()=>(e=>{c(e),w(y.indexOf(e)),v(!1)})(e),children:e},e)))})]}),(0,wr.jsx)(Ca,{onClick:()=>k("next"),disabled:b===y.length-1,children:"\u203a"})]}),(0,wr.jsx)(ja,{children:0===i.length?(0,wr.jsxs)(Da,{children:[(0,wr.jsx)("div",{className:"icon",children:"\ud83d\udcdd"}),(0,wr.jsx)("div",{className:"title",children:"\uc800\uc7a5\ub41c \uba54\ubaa8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,wr.jsx)("div",{className:"description",children:"\ud6c8\uc2b5\uc774\ub098 \uc5b8\uc5b4\ud654 \ud398\uc774\uc9c0\uc5d0\uc11c \uba54\ubaa8\ub97c \uc0dd\uc131\ud558\uba74 \uc790\ub3d9\uc73c\ub85c \uc800\uc7a5\ub429\ub2c8\ub2e4"})]}):(0,wr.jsx)(Ta,{children:i.map((e=>{return(0,wr.jsxs)(Pa,{children:[(0,wr.jsxs)(Aa,{onClick:n=>((e,n)=>{e.preventDefault(),e.stopPropagation(),p({x:e.clientX,y:e.clientY,memo:n})})(n,e),children:[(0,wr.jsx)(Ia,{children:e.memo_content}),(0,wr.jsx)(Oa,{children:T(e)})]}),(0,wr.jsxs)(za,{children:[(0,wr.jsxs)(Ra,{children:[j(e)," - ",C(e.source_thread_type)]}),(0,wr.jsx)(Na,{children:(n=e.created_at,new Date(n).toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})]},e.id);var n}))})}),f&&(0,wr.jsxs)(La,{$x:f.x,$y:f.y,children:[(0,wr.jsx)(Ma,{onClick:()=>E("interact",f.memo),children:"\uc0c1\ud638\uc791\uc6a9 \ud558\uae30"}),(0,wr.jsx)(Ma,{onClick:()=>E("delete",f.memo),children:"\uc0ad\uc81c"})]}),h&&P&&(0,wr.jsx)($a,{onClick:()=>g(null),children:(0,wr.jsxs)(Fa,{onClick:e=>e.stopPropagation(),children:[(0,wr.jsx)(Ua,{children:P.title}),(0,wr.jsx)(Ha,{children:P.message}),(0,wr.jsxs)(Wa,{children:[(0,wr.jsx)(Ba,{$variant:"primary",onClick:async()=>{if(h)try{if("interact"===h.type){const e=await Hr.interactWithVaultMemo(h.memo.id);if(e.success&&e.source_thread_id&&e.source_thread_type){const n="[".concat(h.memo.sentence_content," - ").concat(h.memo.memo_content," \uc5d0 \ub300\ud574]");r(e.source_thread_id,e.source_thread_type,n)}}else"delete"===h.type&&(await Hr.deleteVaultMemo(h.memo.id),await S())}catch(e){console.error("\uba54\ubaa8 \uc561\uc158 \uc2e4\ud328:",e)}finally{g(null)}},children:P.confirmText}),(0,wr.jsx)(Ba,{$variant:"secondary",onClick:()=>g(null),children:P.cancelText})]})]})})]})};var Ka,qa,Qa,Ya;const Ga=Xn.div(Ka||(Ka=s(["\n  display: flex;\n  width: 100%;\n  height: 100vh;\n"]))),Xa=Xn.div(qa||(qa=s(["\n  flex: 1;\n  background: #fff;\n  overflow: hidden;\n"]))),Ja=Xn.div(Qa||(Qa=s(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #6c757d;\n  font-size: 16px;\n"]))),Za=Xn.div(Ya||(Ya=s(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),ei=e=>{let{personas:t,onNavigateToPersona:r,onNavigateToThread:o,onNavigateToPersonaWithSentence:a}=e;const[i,s]=(0,n.useState)("sentences"),[l,c]=(0,n.useState)(!1);return(0,wr.jsxs)(Ga,{children:[(0,wr.jsx)(Mr,{selectedItem:i,onSelectItem:e=>{s(e)},isCollapsed:l,onToggle:()=>{c(!l)}}),(0,wr.jsx)(Xa,{children:(()=>{switch(i){case"sentences":return(0,wr.jsx)(Qo,{personas:t,onNavigateToPersona:r,onNavigateToThread:o,onNavigateToPersonaWithSentence:a});case"memos":return(0,wr.jsx)(Va,{personas:t,onNavigateToThread:o});case"letters":return(0,wr.jsxs)(Ja,{children:[(0,wr.jsx)(Za,{children:"\u2709\ufe0f"}),(0,wr.jsx)("div",{children:"\ud3b8\uc9c0 \uae30\ub2a5\uc740 \uc900\ube44 \uc911\uc785\ub2c8\ub2e4"})]});case"qa-updates":return(0,wr.jsxs)(Ja,{children:[(0,wr.jsx)(Za,{children:"\ud83d\udd04"}),(0,wr.jsx)("div",{children:"QA \uc5c5\ub370\uc774\ud2b8 \uae30\ub2a5\uc740 \uc900\ube44 \uc911\uc785\ub2c8\ub2e4"})]});default:return(0,wr.jsxs)(Ja,{children:[(0,wr.jsx)(Za,{children:"\ud83d\udce6"}),(0,wr.jsx)("div",{children:"\uc800\uc7a5\uace0 \ud56d\ubaa9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694"})]})}})()})]})};var ni,ti,ri,oi;const ai=Xn.div(ni||(ni=s(["\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n  margin-left: 4px;\n"]))),ii=Xn.button(ti||(ti=s(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #000;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  background: white;\n  color: #000;\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none !important;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1) !important;\n  }\n  \n  &:hover:not(:disabled) { \n    transform: translateY(-1px); \n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); \n    background: #f8f8f8;\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n    background: #f0f0f0;\n  }\n"]))),si=Xn.textarea(ri||(ri=s(["\n  width: 100%;\n  min-height: 80px;\n  padding: 12px;\n  border: 2px solid #007bff;\n  border-radius: 8px;\n  font-size: 14px;\n  font-family: inherit;\n  line-height: 1.4;\n  resize: vertical;\n  outline: none;\n  \n  &:focus {\n    border-color: #0056b3;\n    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);\n  }\n"]))),li=Xn.div(oi||(oi=s(["\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n  justify-content: flex-end;\n"]))),ci=e=>{let{message:t,personas:r,showActionButtons:o=!1,showThreeActionButtons:a=!0,onCopy:i,onSunAction:s,onPersonAction:l,onDocumentAction:c,onEdit:u,isEditing:d=!1,onEditSave:f,onEditCancel:p}=e;const[h,g]=(0,n.useState)(t.content),[m,v]=(0,n.useState)(!1),y="user"===t.role,x=t.persona_id?r[t.persona_id]:null;return n.useEffect((()=>{d&&g(t.content)}),[d,t.content]),(0,wr.jsx)(Kt,{$isUser:y,children:d?(0,wr.jsxs)("div",{style:{width:"100%"},children:[(0,wr.jsx)(si,{value:h,onChange:e=>g(e.target.value),placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc218\uc815\ud558\uc138\uc694...",autoFocus:!0,disabled:m}),(0,wr.jsxs)(li,{children:[(0,wr.jsx)(ii,{variant:"save",onClick:async()=>{if(f&&h.trim()){v(!0);try{await f(h.trim())}finally{v(!1)}}},title:m?"\uc800\uc7a5 \uc911...":"\uc800\uc7a5",disabled:m,children:m?"\u23f3":"\u2713"}),(0,wr.jsx)(ii,{variant:"cancel",onClick:()=>{g(t.content),p&&p()},title:"\ucde8\uc18c",disabled:m,children:"\u2715"})]}),m&&(0,wr.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px",textAlign:"center"},children:"\uba54\uc2dc\uc9c0\ub97c \uc218\uc815\ud558\uace0 \uc0c8\ub85c\uc6b4 \uc751\ub2f5\uc744 \uc0dd\uc131\ud558\ub294 \uc911..."})]}):(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(qt,{$isUser:y,$personaColor:null===x||void 0===x?void 0:x.color,children:t.content}),(0,wr.jsxs)(Qt,{children:[!y&&x&&(0,wr.jsx)("span",{style:{color:x.color,fontWeight:"bold"},children:x.name}),(0,wr.jsx)("span",{children:(b=t.timestamp,new Date(b).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}))})]}),o&&(0,wr.jsx)(ai,{children:y?(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(ii,{variant:"copy",onClick:i,title:"\ubcf5\uc0ac",children:(0,wr.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,wr.jsx)("rect",{x:"2",y:"2",width:"8",height:"10",rx:"1",stroke:"black",strokeWidth:"1",fill:"none"}),(0,wr.jsx)("rect",{x:"6",y:"6",width:"8",height:"8",rx:"1",stroke:"black",strokeWidth:"1",fill:"white"}),(0,wr.jsx)("path",{d:"M4 5h4M4 7h3M4 9h4",stroke:"black",strokeWidth:"0.5"}),(0,wr.jsx)("path",{d:"M8 9h4M8 11h3M8 13h4",stroke:"black",strokeWidth:"0.5"})]})}),u&&(0,wr.jsx)(ii,{variant:"edit",onClick:u,title:"\uc218\uc815",children:(0,wr.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,wr.jsx)("path",{d:"M11.5 1.5L14.5 4.5L9 10H6V7L11.5 1.5Z",stroke:"black",strokeWidth:"1",fill:"none"}),(0,wr.jsx)("path",{d:"M10.5 2.5L13.5 5.5",stroke:"black",strokeWidth:"1"}),(0,wr.jsx)("path",{d:"M2 14H6L6.5 13.5",stroke:"black",strokeWidth:"1",fill:"none"})]})})]}):(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(ii,{variant:"copy",onClick:i,title:"\ubcf5\uc0ac",children:(0,wr.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,wr.jsx)("rect",{x:"2",y:"2",width:"8",height:"10",rx:"1",stroke:"black",strokeWidth:"1",fill:"none"}),(0,wr.jsx)("rect",{x:"6",y:"6",width:"8",height:"8",rx:"1",stroke:"black",strokeWidth:"1",fill:"white"}),(0,wr.jsx)("path",{d:"M4 5h4M4 7h3M4 9h4",stroke:"black",strokeWidth:"0.5"}),(0,wr.jsx)("path",{d:"M8 9h4M8 11h3M8 13h4",stroke:"black",strokeWidth:"0.5"})]})}),a&&(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(ii,{variant:"sun",onClick:e=>{e.preventDefault(),null===s||void 0===s||s(t.content)},title:"\ud574",children:(0,wr.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000"},children:"\ud574"})}),(0,wr.jsx)(ii,{variant:"person",onClick:e=>{e.preventDefault(),null===l||void 0===l||l(t.content)},title:"\ub098",children:(0,wr.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000"},children:"\ub098"})}),(0,wr.jsx)(ii,{variant:"document",onClick:e=>{e.preventDefault(),null===c||void 0===c||c(t.content)},title:"\ubb38",children:(0,wr.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000"},children:"\ubb38"})})]})]})})]})});var b};function ui(e,n){return function(){return e.apply(n,arguments)}}const{toString:di}=Object.prototype,{getPrototypeOf:fi}=Object,{iterator:pi,toStringTag:hi}=Symbol,gi=(mi=Object.create(null),e=>{const n=di.call(e);return mi[n]||(mi[n]=n.slice(8,-1).toLowerCase())});var mi;const vi=e=>(e=e.toLowerCase(),n=>gi(n)===e),yi=e=>n=>typeof n===e,{isArray:xi}=Array,bi=yi("undefined");const wi=vi("ArrayBuffer");const Si=yi("string"),_i=yi("function"),ki=yi("number"),Ei=e=>null!==e&&"object"===typeof e,Ci=e=>{if("object"!==gi(e))return!1;const n=fi(e);return(null===n||n===Object.prototype||null===Object.getPrototypeOf(n))&&!(hi in e)&&!(pi in e)},ji=vi("Date"),Ti=vi("File"),Pi=vi("Blob"),Ai=vi("FileList"),Ii=vi("URLSearchParams"),[Oi,zi,Ri,Ni]=["ReadableStream","Request","Response","Headers"].map(vi);function Di(e,n){let t,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),xi(e))for(t=0,r=e.length;t<r;t++)n.call(null,e[t],t,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(t=0;t<a;t++)i=r[t],n.call(null,e[i],i,e)}}function Li(e,n){n=n.toLowerCase();const t=Object.keys(e);let r,o=t.length;for(;o-- >0;)if(r=t[o],n===r.toLowerCase())return r;return null}const Mi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,$i=e=>!bi(e)&&e!==Mi;const Fi=(Ui="undefined"!==typeof Uint8Array&&fi(Uint8Array),e=>Ui&&e instanceof Ui);var Ui;const Hi=vi("HTMLFormElement"),Wi=(e=>{let{hasOwnProperty:n}=e;return(e,t)=>n.call(e,t)})(Object.prototype),Bi=vi("RegExp"),Vi=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Di(t,((t,o)=>{let a;!1!==(a=n(t,o,e))&&(r[o]=a||t)})),Object.defineProperties(e,r)};const Ki=vi("AsyncFunction"),qi=(Qi="function"===typeof setImmediate,Yi=_i(Mi.postMessage),Qi?setImmediate:Yi?((e,n)=>(Mi.addEventListener("message",(t=>{let{source:r,data:o}=t;r===Mi&&o===e&&n.length&&n.shift()()}),!1),t=>{n.push(t),Mi.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var Qi,Yi;const Gi="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Mi):"undefined"!==typeof process&&process.nextTick||qi,Xi={isArray:xi,isArrayBuffer:wi,isBuffer:function(e){return null!==e&&!bi(e)&&null!==e.constructor&&!bi(e.constructor)&&_i(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let n;return e&&("function"===typeof FormData&&e instanceof FormData||_i(e.append)&&("formdata"===(n=gi(e))||"object"===n&&_i(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let n;return n="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wi(e.buffer),n},isString:Si,isNumber:ki,isBoolean:e=>!0===e||!1===e,isObject:Ei,isPlainObject:Ci,isReadableStream:Oi,isRequest:zi,isResponse:Ri,isHeaders:Ni,isUndefined:bi,isDate:ji,isFile:Ti,isBlob:Pi,isRegExp:Bi,isFunction:_i,isStream:e=>Ei(e)&&_i(e.pipe),isURLSearchParams:Ii,isTypedArray:Fi,isFileList:Ai,forEach:Di,merge:function e(){const{caseless:n}=$i(this)&&this||{},t={},r=(r,o)=>{const a=n&&Li(t,o)||o;Ci(t[a])&&Ci(r)?t[a]=e(t[a],r):Ci(r)?t[a]=e({},r):xi(r)?t[a]=r.slice():t[a]=r};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Di(arguments[o],r);return t},extend:function(e,n,t){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Di(n,((n,r)=>{t&&_i(n)?e[r]=ui(n,t):e[r]=n}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,n,t,r)=>{let o,a,i;const s={};if(n=n||{},null==e)return n;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],r&&!r(i,e,n)||s[i]||(n[i]=e[i],s[i]=!0);e=!1!==t&&fi(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},kindOf:gi,kindOfTest:vi,endsWith:(e,n,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return-1!==r&&r===t},toArray:e=>{if(!e)return null;if(xi(e))return e;let n=e.length;if(!ki(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},forEachEntry:(e,n)=>{const t=(e&&e[pi]).call(e);let r;for(;(r=t.next())&&!r.done;){const t=r.value;n.call(e,t[0],t[1])}},matchAll:(e,n)=>{let t;const r=[];for(;null!==(t=e.exec(n));)r.push(t);return r},isHTMLForm:Hi,hasOwnProperty:Wi,hasOwnProp:Wi,reduceDescriptors:Vi,freezeMethods:e=>{Vi(e,((n,t)=>{if(_i(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const r=e[t];_i(r)&&(n.enumerable=!1,"writable"in n?n.writable=!1:n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,n)=>{const t={},r=e=>{e.forEach((e=>{t[e]=!0}))};return xi(e)?r(e):r(String(e).split(n)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,n,t){return n.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,n)=>null!=e&&Number.isFinite(e=+e)?e:n,findKey:Li,global:Mi,isContextDefined:$i,isSpecCompliantForm:function(e){return!!(e&&_i(e.append)&&"FormData"===e[hi]&&e[pi])},toJSONObject:e=>{const n=new Array(10),t=(e,r)=>{if(Ei(e)){if(n.indexOf(e)>=0)return;if(!("toJSON"in e)){n[r]=e;const o=xi(e)?[]:{};return Di(e,((e,n)=>{const a=t(e,r+1);!bi(a)&&(o[n]=a)})),n[r]=void 0,o}}return e};return t(e,0)},isAsyncFn:Ki,isThenable:e=>e&&(Ei(e)||_i(e))&&_i(e.then)&&_i(e.catch),setImmediate:qi,asap:Gi,isIterable:e=>null!=e&&_i(e[pi])};function Ji(e,n,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Xi.inherits(Ji,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xi.toJSONObject(this.config),code:this.code,status:this.status}}});const Zi=Ji.prototype,es={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{es[e]={value:e}})),Object.defineProperties(Ji,es),Object.defineProperty(Zi,"isAxiosError",{value:!0}),Ji.from=(e,n,t,r,o,a)=>{const i=Object.create(Zi);return Xi.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ji.call(i,e.message,n,t,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const ns=Ji;function ts(e){return Xi.isPlainObject(e)||Xi.isArray(e)}function rs(e){return Xi.endsWith(e,"[]")?e.slice(0,-2):e}function os(e,n,t){return e?e.concat(n).map((function(e,n){return e=rs(e),!t&&n?"["+e+"]":e})).join(t?".":""):n}const as=Xi.toFlatObject(Xi,{},null,(function(e){return/^is[A-Z]/.test(e)}));const is=function(e,n,t){if(!Xi.isObject(e))throw new TypeError("target must be an object");n=n||new FormData;const r=(t=Xi.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,n){return!Xi.isUndefined(n[e])}))).metaTokens,o=t.visitor||c,a=t.dots,i=t.indexes,s=(t.Blob||"undefined"!==typeof Blob&&Blob)&&Xi.isSpecCompliantForm(n);if(!Xi.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Xi.isDate(e))return e.toISOString();if(!s&&Xi.isBlob(e))throw new ns("Blob is not supported. Use a Buffer instead.");return Xi.isArrayBuffer(e)||Xi.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,t,o){let s=e;if(e&&!o&&"object"===typeof e)if(Xi.endsWith(t,"{}"))t=r?t:t.slice(0,-2),e=JSON.stringify(e);else if(Xi.isArray(e)&&function(e){return Xi.isArray(e)&&!e.some(ts)}(e)||(Xi.isFileList(e)||Xi.endsWith(t,"[]"))&&(s=Xi.toArray(e)))return t=rs(t),s.forEach((function(e,r){!Xi.isUndefined(e)&&null!==e&&n.append(!0===i?os([t],r,a):null===i?t:t+"[]",l(e))})),!1;return!!ts(e)||(n.append(os(o,t,a),l(e)),!1)}const u=[],d=Object.assign(as,{defaultVisitor:c,convertValue:l,isVisitable:ts});if(!Xi.isObject(e))throw new TypeError("data must be an object");return function e(t,r){if(!Xi.isUndefined(t)){if(-1!==u.indexOf(t))throw Error("Circular reference detected in "+r.join("."));u.push(t),Xi.forEach(t,(function(t,a){!0===(!(Xi.isUndefined(t)||null===t)&&o.call(n,t,Xi.isString(a)?a.trim():a,r,d))&&e(t,r?r.concat(a):[a])})),u.pop()}}(e),n};function ss(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return n[e]}))}function ls(e,n){this._pairs=[],e&&is(e,this,n)}const cs=ls.prototype;cs.append=function(e,n){this._pairs.push([e,n])},cs.toString=function(e){const n=e?function(n){return e.call(this,n,ss)}:ss;return this._pairs.map((function(e){return n(e[0])+"="+n(e[1])}),"").join("&")};const us=ls;function ds(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fs(e,n,t){if(!n)return e;const r=t&&t.encode||ds;Xi.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(a=o?o(n,t):Xi.isURLSearchParams(n)?n.toString():new us(n,t).toString(r),a){const n=e.indexOf("#");-1!==n&&(e=e.slice(0,n)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const ps=class{constructor(){this.handlers=[]}use(e,n,t){return this.handlers.push({fulfilled:e,rejected:n,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Xi.forEach(this.handlers,(function(n){null!==n&&e(n)}))}},hs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gs={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:us,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ms="undefined"!==typeof window&&"undefined"!==typeof document,vs="object"===typeof navigator&&navigator||void 0,ys=ms&&(!vs||["ReactNative","NativeScript","NS"].indexOf(vs.product)<0),xs="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,bs=ms&&window.location.href||"http://localhost",ws=(0,o.A)((0,o.A)({},e),gs);const Ss=function(e){function n(e,t,r,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;if(a=!a&&Xi.isArray(r)?r.length:a,s)return Xi.hasOwnProp(r,a)?r[a]=[r[a],t]:r[a]=t,!i;r[a]&&Xi.isObject(r[a])||(r[a]=[]);return n(e,t,r[a],o)&&Xi.isArray(r[a])&&(r[a]=function(e){const n={},t=Object.keys(e);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],n[a]=e[a];return n}(r[a])),!i}if(Xi.isFormData(e)&&Xi.isFunction(e.entries)){const t={};return Xi.forEachEntry(e,((e,r)=>{n(function(e){return Xi.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,t,0)})),t}return null};const _s={transitional:hs,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,o=Xi.isObject(e);o&&Xi.isHTMLForm(e)&&(e=new FormData(e));if(Xi.isFormData(e))return r?JSON.stringify(Ss(e)):e;if(Xi.isArrayBuffer(e)||Xi.isBuffer(e)||Xi.isStream(e)||Xi.isFile(e)||Xi.isBlob(e)||Xi.isReadableStream(e))return e;if(Xi.isArrayBufferView(e))return e.buffer;if(Xi.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,n){return is(e,new ws.classes.URLSearchParams,Object.assign({visitor:function(e,n,t,r){return ws.isNode&&Xi.isBuffer(e)?(this.append(n,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},n))}(e,this.formSerializer).toString();if((a=Xi.isFileList(e))||t.indexOf("multipart/form-data")>-1){const n=this.env&&this.env.FormData;return is(a?{"files[]":e}:e,n&&new n,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),function(e,n,t){if(Xi.isString(e))try{return(n||JSON.parse)(e),Xi.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(t||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const n=this.transitional||_s.transitional,t=n&&n.forcedJSONParsing,r="json"===this.responseType;if(Xi.isResponse(e)||Xi.isReadableStream(e))return e;if(e&&Xi.isString(e)&&(t&&!this.responseType||r)){const t=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(t){if("SyntaxError"===o.name)throw ns.from(o,ns.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ws.classes.FormData,Blob:ws.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xi.forEach(["delete","get","head","post","put","patch"],(e=>{_s.headers[e]={}}));const ks=_s,Es=Xi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cs=Symbol("internals");function js(e){return e&&String(e).trim().toLowerCase()}function Ts(e){return!1===e||null==e?e:Xi.isArray(e)?e.map(Ts):String(e)}function Ps(e,n,t,r,o){return Xi.isFunction(r)?r.call(this,n,t):(o&&(n=t),Xi.isString(n)?Xi.isString(r)?-1!==n.indexOf(r):Xi.isRegExp(r)?r.test(n):void 0:void 0)}class As{constructor(e){e&&this.set(e)}set(e,n,t){const r=this;function o(e,n,t){const o=js(n);if(!o)throw new Error("header name must be a non-empty string");const a=Xi.findKey(r,o);(!a||void 0===r[a]||!0===t||void 0===t&&!1!==r[a])&&(r[a||n]=Ts(e))}const a=(e,n)=>Xi.forEach(e,((e,t)=>o(e,t,n)));if(Xi.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Xi.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const n={};let t,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),t=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!t||n[t]&&Es[t]||("set-cookie"===t?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)})),n})(e),n);else if(Xi.isObject(e)&&Xi.isIterable(e)){let t,r,o={};for(const n of e){if(!Xi.isArray(n))throw TypeError("Object iterator must return a key-value pair");o[r=n[0]]=(t=o[r])?Xi.isArray(t)?[...t,n[1]]:[t,n[1]]:n[1]}a(o,n)}else null!=e&&o(n,e,t);return this}get(e,n){if(e=js(e)){const t=Xi.findKey(this,e);if(t){const e=this[t];if(!n)return e;if(!0===n)return function(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}(e);if(Xi.isFunction(n))return n.call(this,e,t);if(Xi.isRegExp(n))return n.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=js(e)){const t=Xi.findKey(this,e);return!(!t||void 0===this[t]||n&&!Ps(0,this[t],t,n))}return!1}delete(e,n){const t=this;let r=!1;function o(e){if(e=js(e)){const o=Xi.findKey(t,e);!o||n&&!Ps(0,t[o],o,n)||(delete t[o],r=!0)}}return Xi.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let t=n.length,r=!1;for(;t--;){const o=n[t];e&&!Ps(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const n=this,t={};return Xi.forEach(this,((r,o)=>{const a=Xi.findKey(t,o);if(a)return n[a]=Ts(r),void delete n[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,n,t)=>n.toUpperCase()+t))}(o):String(o).trim();i!==o&&delete n[o],n[i]=Ts(r),t[i]=!0})),this}concat(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.constructor.concat(this,...n)}toJSON(e){const n=Object.create(null);return Xi.forEach(this,((t,r)=>{null!=t&&!1!==t&&(n[r]=e&&Xi.isArray(t)?t.join(", "):t)})),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[n,t]=e;return n+": "+t})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const n=new this(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r.forEach((e=>n.set(e))),n}static accessor(e){const n=(this[Cs]=this[Cs]={accessors:{}}).accessors,t=this.prototype;function r(e){const r=js(e);n[r]||(!function(e,n){const t=Xi.toCamelCase(" "+n);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+t,{value:function(e,t,o){return this[r].call(this,n,e,t,o)},configurable:!0})}))}(t,e),n[r]=!0)}return Xi.isArray(e)?e.forEach(r):r(e),this}}As.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Xi.reduceDescriptors(As.prototype,((e,n)=>{let{value:t}=e,r=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(e){this[r]=e}}})),Xi.freezeMethods(As);const Is=As;function Os(e,n){const t=this||ks,r=n||t,o=Is.from(r.headers);let a=r.data;return Xi.forEach(e,(function(e){a=e.call(t,a,o.normalize(),n?n.status:void 0)})),o.normalize(),a}function zs(e){return!(!e||!e.__CANCEL__)}function Rs(e,n,t){ns.call(this,null==e?"canceled":e,ns.ERR_CANCELED,n,t),this.name="CanceledError"}Xi.inherits(Rs,ns,{__CANCEL__:!0});const Ns=Rs;function Ds(e,n,t){const r=t.config.validateStatus;t.status&&r&&!r(t.status)?n(new ns("Request failed with status code "+t.status,[ns.ERR_BAD_REQUEST,ns.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}const Ls=function(e,n){e=e||10;const t=new Array(e),r=new Array(e);let o,a=0,i=0;return n=void 0!==n?n:1e3,function(s){const l=Date.now(),c=r[i];o||(o=l),t[a]=s,r[a]=l;let u=i,d=0;for(;u!==a;)d+=t[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<n)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};const Ms=function(e,n){let t,r,o=0,a=1e3/n;const i=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,t=null,r&&(clearTimeout(r),r=null),e.apply(null,n)};return[function(){const e=Date.now(),n=e-o;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];n>=a?i(l,e):(t=l,r||(r=setTimeout((()=>{r=null,i(t)}),a-n)))},()=>t&&i(t)]},$s=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Ls(50,250);return Ms((t=>{const a=t.loaded,i=t.lengthComputable?t.total:void 0,s=a-r,l=o(s);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:t,lengthComputable:null!=i,[n?"download":"upload"]:!0})}),t)},Fs=(e,n)=>{const t=null!=e;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Us=e=>function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return Xi.asap((()=>e(...t)))},Hs=ws.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,ws.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(ws.origin),ws.navigator&&/(msie|trident)/i.test(ws.navigator.userAgent)):()=>!0,Ws=ws.hasStandardBrowserEnv?{write(e,n,t,r,o,a){const i=[e+"="+encodeURIComponent(n)];Xi.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),Xi.isString(r)&&i.push("path="+r),Xi.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Bs(e,n,t){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n);return e&&(r||0==t)?function(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}(e,n):n}const Vs=e=>e instanceof Is?(0,o.A)({},e):e;function Ks(e,n){n=n||{};const t={};function r(e,n,t,r){return Xi.isPlainObject(e)&&Xi.isPlainObject(n)?Xi.merge.call({caseless:r},e,n):Xi.isPlainObject(n)?Xi.merge({},n):Xi.isArray(n)?n.slice():n}function o(e,n,t,o){return Xi.isUndefined(n)?Xi.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,n,0,o)}function a(e,n){if(!Xi.isUndefined(n))return r(void 0,n)}function i(e,n){return Xi.isUndefined(n)?Xi.isUndefined(e)?void 0:r(void 0,e):r(void 0,n)}function s(t,o,a){return a in n?r(t,o):a in e?r(void 0,t):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,n,t)=>o(Vs(e),Vs(n),0,!0)};return Xi.forEach(Object.keys(Object.assign({},e,n)),(function(r){const a=l[r]||o,i=a(e[r],n[r],r);Xi.isUndefined(i)&&a!==s||(t[r]=i)})),t}const qs=e=>{const n=Ks({},e);let t,{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=n;if(n.headers=s=Is.from(s),n.url=fs(Bs(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Xi.isFormData(r))if(ws.hasStandardBrowserEnv||ws.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(t=s.getContentType())){const[e,...n]=t?t.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...n].join("; "))}if(ws.hasStandardBrowserEnv&&(o&&Xi.isFunction(o)&&(o=o(n)),o||!1!==o&&Hs(n.url))){const e=a&&i&&Ws.read(i);e&&s.set(a,e)}return n},Qs="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(n,t){const r=qs(e);let o=r.data;const a=Is.from(r.headers).normalize();let i,s,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=Is.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Ds((function(e){n(e),h()}),(function(e){t(e),h()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(t(new ns("Request aborted",ns.ECONNABORTED,e,g)),g=null)},g.onerror=function(){t(new ns("Network Error",ns.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let n=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||hs;r.timeoutErrorMessage&&(n=r.timeoutErrorMessage),t(new ns(n,o.clarifyTimeoutError?ns.ETIMEDOUT:ns.ECONNABORTED,e,g)),g=null},void 0===o&&a.setContentType(null),"setRequestHeader"in g&&Xi.forEach(a.toJSON(),(function(e,n){g.setRequestHeader(n,e)})),Xi.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),p&&([l,u]=$s(p,!0),g.addEventListener("progress",l)),f&&g.upload&&([s,c]=$s(f),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=n=>{g&&(t(!n||n.type?new Ns(null,e,g):n),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const v=function(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}(r.url);v&&-1===ws.protocols.indexOf(v)?t(new ns("Unsupported protocol "+v+":",ns.ERR_BAD_REQUEST,e)):g.send(o||null)}))},Ys=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let t,r=new AbortController;const o=function(e){if(!t){t=!0,i();const n=e instanceof Error?e:this.reason;r.abort(n instanceof ns?n:new Ns(n instanceof Error?n.message:n))}};let a=n&&setTimeout((()=>{a=null,o(new ns("timeout ".concat(n," of ms exceeded"),ns.ETIMEDOUT))}),n);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>Xi.asap(i),s}};function Gs(e,n){this.v=e,this.k=n}function Xs(e){return function(){return new Js(e.apply(this,arguments))}}function Js(e){var n,t;function r(n,t){try{var a=e[n](t),i=a.value,s=i instanceof Gs;Promise.resolve(s?i.v:i).then((function(t){if(s){var l="return"===n?"return":"next";if(!i.k||t.done)return r(l,t);t=e[l](t).value}o(a.done?"return":"normal",t)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":n.resolve({value:o,done:!0});break;case"throw":n.reject(o);break;default:n.resolve({value:o,done:!1})}(n=n.next)?r(n.key,n.arg):t=null}this._invoke=function(e,o){return new Promise((function(a,i){var s={key:e,arg:o,resolve:a,reject:i,next:null};t?t=t.next=s:(n=t=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function Zs(e){return new Gs(e,0)}function el(e){var n={},t=!1;function r(n,r){return t=!0,r=new Promise((function(t){t(e[n](r))})),{done:!1,value:new Gs(r,1)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return t?(t=!1,e):r("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(t)throw t=!1,e;return r("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return t?(t=!1,e):r("return",e)}),n}function nl(e){var n,t,r,o=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new tl(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function tl(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var n=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:n}}))}return tl=function(e){this.s=e,this.n=e.next},tl.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new tl(e)}Js.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Js.prototype.next=function(e){return this._invoke("next",e)},Js.prototype.throw=function(e){return this._invoke("throw",e)},Js.prototype.return=function(e){return this._invoke("return",e)};const rl=function*(e,n){let t=e.byteLength;if(!n||t<n)return void(yield e);let r,o=0;for(;o<t;)r=o+n,yield e.slice(o,r),o=r},ol=function(){var e=Xs((function*(e,n){var t,r=!1,o=!1;try{for(var a,i=nl(al(e));r=!(a=yield Zs(i.next())).done;r=!1){const e=a.value;yield*el(nl(rl(e,n)))}}catch(s){o=!0,t=s}finally{try{r&&null!=i.return&&(yield Zs(i.return()))}finally{if(o)throw t}}}));return function(n,t){return e.apply(this,arguments)}}(),al=function(){var e=Xs((function*(e){if(e[Symbol.asyncIterator])return void(yield*el(nl(e)));const n=e.getReader();try{for(;;){const{done:e,value:t}=yield Zs(n.read());if(e)break;yield t}}finally{yield Zs(n.cancel())}}));return function(n){return e.apply(this,arguments)}}(),il=(e,n,t,r)=>{const o=ol(e,n);let a,i=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:n,value:r}=await o.next();if(n)return s(),void e.close();let a=r.byteLength;if(t){let e=i+=a;t(e)}e.enqueue(new Uint8Array(r))}catch(n){throw s(n),n}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},sl="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ll=sl&&"function"===typeof ReadableStream,cl=sl&&("function"===typeof TextEncoder?(ul=new TextEncoder,e=>ul.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ul;const dl=function(e){try{for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return!!e(...t)}catch(o){return!1}},fl=ll&&dl((()=>{let e=!1;const n=new Request(ws.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})),pl=ll&&dl((()=>Xi.isReadableStream(new Response("").body))),hl={stream:pl&&(e=>e.body)};var gl;sl&&(gl=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!hl[e]&&(hl[e]=Xi.isFunction(gl[e])?n=>n[e]():(n,t)=>{throw new ns("Response type '".concat(e,"' is not supported"),ns.ERR_NOT_SUPPORT,t)})})));const ml=async(e,n)=>{const t=Xi.toFiniteNumber(e.getContentLength());return null==t?(async e=>{if(null==e)return 0;if(Xi.isBlob(e))return e.size;if(Xi.isSpecCompliantForm(e)){const n=new Request(ws.origin,{method:"POST",body:e});return(await n.arrayBuffer()).byteLength}return Xi.isArrayBufferView(e)||Xi.isArrayBuffer(e)?e.byteLength:(Xi.isURLSearchParams(e)&&(e+=""),Xi.isString(e)?(await cl(e)).byteLength:void 0)})(n):t},vl={http:null,xhr:Qs,fetch:sl&&(async e=>{let{url:n,method:t,data:r,signal:a,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:p}=qs(e);u=u?(u+"").toLowerCase():"text";let h,g=Ys([a,i&&i.toAbortSignal()],s);const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let v;try{if(c&&fl&&"get"!==t&&"head"!==t&&0!==(v=await ml(d,r))){let e,t=new Request(n,{method:"POST",body:r,duplex:"half"});if(Xi.isFormData(r)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){const[e,n]=Fs(v,$s(Us(c)));r=il(t.body,65536,e,n)}}Xi.isString(f)||(f=f?"include":"omit");const a="credentials"in Request.prototype;h=new Request(n,(0,o.A)((0,o.A)({},p),{},{signal:g,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?f:void 0}));let i=await fetch(h);const s=pl&&("stream"===u||"response"===u);if(pl&&(l||s&&m)){const e={};["status","statusText","headers"].forEach((n=>{e[n]=i[n]}));const n=Xi.toFiniteNumber(i.headers.get("content-length")),[t,r]=l&&Fs(n,$s(Us(l),!0))||[];i=new Response(il(i.body,65536,t,(()=>{r&&r(),m&&m()})),e)}u=u||"text";let y=await hl[Xi.findKey(hl,u)||"text"](i,e);return!s&&m&&m(),await new Promise(((n,t)=>{Ds(n,t,{data:y,headers:Is.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:h})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new ns("Network Error",ns.ERR_NETWORK,e,h),{cause:y.cause||y});throw ns.from(y,y&&y.code,e,h)}})};Xi.forEach(vl,((e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch(t){}Object.defineProperty(e,"adapterName",{value:n})}}));const yl=e=>"- ".concat(e),xl=e=>Xi.isFunction(e)||null===e||!1===e,bl=e=>{e=Xi.isArray(e)?e:[e];const{length:n}=e;let t,r;const o={};for(let a=0;a<n;a++){let n;if(t=e[a],r=t,!xl(t)&&(r=vl[(n=String(t)).toLowerCase()],void 0===r))throw new ns("Unknown adapter '".concat(n,"'"));if(r)break;o[n||"#"+a]=r}if(!r){const e=Object.entries(o).map((e=>{let[n,t]=e;return"adapter ".concat(n," ")+(!1===t?"is not supported by the environment":"is not available in the build")}));let t=n?e.length>1?"since :\n"+e.map(yl).join("\n"):" "+yl(e[0]):"as no adapter specified";throw new ns("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function wl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ns(null,e)}function Sl(e){wl(e),e.headers=Is.from(e.headers),e.data=Os.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bl(e.adapter||ks.adapter)(e).then((function(n){return wl(e),n.data=Os.call(e,e.transformResponse,n),n.headers=Is.from(n.headers),n}),(function(n){return zs(n)||(wl(e),n&&n.response&&(n.response.data=Os.call(e,e.transformResponse,n.response),n.response.headers=Is.from(n.response.headers))),Promise.reject(n)}))}const _l="1.9.0",kl={};["object","boolean","number","function","string","symbol"].forEach(((e,n)=>{kl[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}}));const El={};kl.transitional=function(e,n,t){function r(e,n){return"[Axios v1.9.0] Transitional option '"+e+"'"+n+(t?". "+t:"")}return(t,o,a)=>{if(!1===e)throw new ns(r(o," has been removed"+(n?" in "+n:"")),ns.ERR_DEPRECATED);return n&&!El[o]&&(El[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),!e||e(t,o,a)}},kl.spelling=function(e){return(n,t)=>(console.warn("".concat(t," is likely a misspelling of ").concat(e)),!0)};const Cl={assertOptions:function(e,n,t){if("object"!==typeof e)throw new ns("options must be an object",ns.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=n[a];if(i){const n=e[a],t=void 0===n||i(n,a,e);if(!0!==t)throw new ns("option "+a+" must be "+t,ns.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new ns("Unknown option "+a,ns.ERR_BAD_OPTION)}},validators:kl},jl=Cl.validators;class Tl{constructor(e){this.defaults=e||{},this.interceptors={request:new ps,response:new ps}}async request(e,n){try{return await this._request(e,n)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const n=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?n&&!String(t.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+n):t.stack=n}catch(r){}}throw t}}_request(e,n){"string"===typeof e?(n=n||{}).url=e:n=e||{},n=Ks(this.defaults,n);const{transitional:t,paramsSerializer:r,headers:o}=n;void 0!==t&&Cl.assertOptions(t,{silentJSONParsing:jl.transitional(jl.boolean),forcedJSONParsing:jl.transitional(jl.boolean),clarifyTimeoutError:jl.transitional(jl.boolean)},!1),null!=r&&(Xi.isFunction(r)?n.paramsSerializer={serialize:r}:Cl.assertOptions(r,{encode:jl.function,serialize:jl.function},!0)),void 0!==n.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cl.assertOptions(n,{baseUrl:jl.spelling("baseURL"),withXsrfToken:jl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&Xi.merge(o.common,o[n.method]);o&&Xi.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),n.headers=Is.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(n)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Sl.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(n);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let f=n;for(d=0;d<u;){const e=i[d++],n=i[d++];try{f=e(f)}catch(p){n.call(this,p);break}}try{c=Sl.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return fs(Bs((e=Ks(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Xi.forEach(["delete","get","head","options"],(function(e){Tl.prototype[e]=function(n,t){return this.request(Ks(t||{},{method:e,url:n,data:(t||{}).data}))}})),Xi.forEach(["post","put","patch"],(function(e){function n(n){return function(t,r,o){return this.request(Ks(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:t,data:r}))}}Tl.prototype[e]=n(),Tl.prototype[e+"Form"]=n(!0)}));const Pl=Tl;class Al{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let n;this.promise=new Promise((function(e){n=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let n=t._listeners.length;for(;n-- >0;)t._listeners[n](e);t._listeners=null})),this.promise.then=e=>{let n;const r=new Promise((e=>{t.subscribe(e),n=e})).then(e);return r.cancel=function(){t.unsubscribe(n)},r},e((function(e,r,o){t.reason||(t.reason=new Ns(e,r,o),n(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);-1!==n&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=n=>{e.abort(n)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Al((function(n){e=n})),cancel:e}}}const Il=Al;const Ol={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ol).forEach((e=>{let[n,t]=e;Ol[t]=n}));const zl=Ol;const Rl=function e(n){const t=new Pl(n),r=ui(Pl.prototype.request,t);return Xi.extend(r,Pl.prototype,t,{allOwnKeys:!0}),Xi.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return e(Ks(n,t))},r}(ks);Rl.Axios=Pl,Rl.CanceledError=Ns,Rl.CancelToken=Il,Rl.isCancel=zs,Rl.VERSION=_l,Rl.toFormData=is,Rl.AxiosError=ns,Rl.Cancel=Rl.CanceledError,Rl.all=function(e){return Promise.all(e)},Rl.spread=function(e){return function(n){return e.apply(null,n)}},Rl.isAxiosError=function(e){return Xi.isObject(e)&&!0===e.isAxiosError},Rl.mergeConfig=Ks,Rl.AxiosHeaders=Is,Rl.formToJSON=e=>Ss(Xi.isHTMLForm(e)?new FormData(e):e),Rl.getAdapter=bl,Rl.HttpStatusCode=zl,Rl.default=Rl;const Nl=Rl,Dl={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",Ll={getQuickPhrases:async()=>(await Nl.get("".concat(Dl,"/api/quick_phrases"))).data,createQuickPhrase:async e=>(await Nl.post("".concat(Dl,"/api/quick_phrases"),e)).data,deleteQuickPhrase:async e=>(await Nl.delete("".concat(Dl,"/api/quick_phrases/").concat(e))).data,updateQuickPhrasesOrder:async e=>(await Nl.put("".concat(Dl,"/api/quick_phrases/order"),{phrase_ids:e})).data};var Ml,$l,Fl,Ul,Hl,Wl,Bl,Vl,Kl,ql,Ql,Yl,Gl;const Xl=Xn.div(Ml||(Ml=s(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n"]))),Jl=Xn.div($l||($l=s(["\n  background: #F2F2F2;\n  border-radius: 12px;\n  padding: 24px;\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n  position: relative;\n"]))),Zl=Xn.div(Fl||(Fl=s(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),ec=Xn.h3(Ul||(Ul=s(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n  margin: 0;\n"]))),nc=Xn.button(Hl||(Hl=s(["\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  color: #666;\n  padding: 4px;\n  \n  &:hover {\n    color: #333;\n  }\n"]))),tc=Xn.div(Wl||(Wl=s(["\n  margin-bottom: 20px;\n"]))),rc=Xn.div(Bl||(Bl=s(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  background: white;\n  border: 1px solid #ddd;\n  border-bottom: none;\n  \n  &:first-child {\n    border-radius: 8px 8px 0 0;\n  }\n  \n  &:last-child {\n    border-bottom: 1px solid #ddd;\n    border-radius: 0 0 8px 8px;\n  }\n  \n  &:only-child {\n    border-radius: 8px;\n    border-bottom: 1px solid #ddd;\n  }\n"]))),oc=Xn.span(Vl||(Vl=s(["\n  flex: 1;\n  font-size: 14px;\n  color: #333;\n"]))),ac=Xn.button(Kl||(Kl=s(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n  color: #999;\n  padding: 4px 8px;\n  \n  &:hover {\n    color: #ff4444;\n  }\n"]))),ic=Xn.div(ql||(ql=s(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  padding: 12px 16px;\n  background: white;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n"]))),sc=Xn.input(Ql||(Ql=s(["\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  font-size: 14px;\n  color: #333;\n  \n  &::placeholder {\n    color: #999;\n  }\n"]))),lc=Xn.button(Yl||(Yl=s(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 2px solid #007bff;\n  background: #007bff;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n  \n  &:hover {\n    background: #0056b3;\n    border-color: #0056b3;\n  }\n  \n  &:disabled {\n    background: #ccc;\n    border-color: #ccc;\n    cursor: not-allowed;\n  }\n"]))),cc=Xn.div(Gl||(Gl=s(["\n  color: #ff4444;\n  font-size: 12px;\n  margin-top: 8px;\n"]))),uc=e=>{let{quickPhrases:t,onClose:r,onUpdate:o}=e;const[a,i]=(0,n.useState)(t),[s,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[d,f]=(0,n.useState)("");(0,n.useEffect)((()=>{i(t)}),[t]);const p=async()=>{if(s.trim())if(s.length>50)f("\ubb38\uc7a5\uc740 50\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.");else{u(!0),f("");try{const e=await Ll.createQuickPhrase({text:s.trim()});e.success&&e.phrase&&(i((n=>[...n,e.phrase].sort(((e,n)=>e.order-n.order)))),l(""),o())}catch(d){console.error("\uc790\uc8fc\uc4f0\ub294 \ubb38\uc7a5 \ucd94\uac00 \uc2e4\ud328:",d),f("\ubb38\uc7a5 \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{u(!1)}}};return(0,wr.jsx)(Xl,{onClick:e=>{e.target===e.currentTarget&&r()},children:(0,wr.jsxs)(Jl,{children:[(0,wr.jsxs)(Zl,{children:[(0,wr.jsx)(ec,{children:"\uc790\uc8fc\uc4f0\ub294 \ubb38\uc7a5 \ud3b8\uc9d1"}),(0,wr.jsx)(nc,{onClick:r,children:"\u2715"})]}),(0,wr.jsx)(tc,{children:a.map((e=>(0,wr.jsxs)(rc,{children:[(0,wr.jsx)(oc,{children:e.text}),(0,wr.jsx)(ac,{onClick:()=>(async e=>{u(!0),f("");try{await Ll.deleteQuickPhrase(e),i((n=>n.filter((n=>n.id!==e)))),o()}catch(d){console.error("\uc790\uc8fc\uc4f0\ub294 \ubb38\uc7a5 \uc0ad\uc81c \uc2e4\ud328:",d),f("\ubb38\uc7a5 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{u(!1)}})(e.id),disabled:c,title:"\uc0ad\uc81c",children:"\ud83d\uddd1\ufe0f"})]},e.id)))}),(0,wr.jsxs)(ic,{children:[(0,wr.jsx)(sc,{type:"text",placeholder:"\uc0c8\ub85c \uc785\ub825",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||c||p()},disabled:c,maxLength:50}),(0,wr.jsx)(lc,{onClick:p,disabled:c||!s.trim(),title:"\ucd94\uac00",children:"+"})]}),d&&(0,wr.jsx)(cc,{children:d})]})})};var dc,fc,pc,hc,gc;const mc=Xn.div(dc||(dc=s(["\n  position: relative;\n  display: inline-block;\n"]))),vc=Xn.button(fc||(fc=s(["\n  width: 100%;\n  height: 40px;\n  border-radius: 16px; /* \ubb38\uc7a5\uc120\ud0dd \ubc84\ud2bc\uacfc \ub3d9\uc77c\ud55c \ub77c\uc6b4\ub529 */\n  border: 1px solid #ccc;\n  background: linear-gradient(90deg, #ffffff 0%, #f0f0f0 100%); /* \uc67c\ucabd\uc5d0\uc11c \uc624\ub978\ucabd\uc73c\ub85c \ud770\uc0c9\u2192\uc5f0\ud55c\ud68c\uc0c9 */\n  color: #333;\n  font-size: 11px;\n  font-weight: bold;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  line-height: 1.2;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* \uc0b4\uc9dd\uc758 \uc74c\uc601 \ucc98\ub9ac */\n  \n  &:hover {\n    background: linear-gradient(90deg, #f8f8f8 0%, #e8e8e8 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\n  }\n  \n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n"]))),yc=Xn.div(pc||(pc=s(["\n  position: absolute;\n  bottom: 50px;\n  right: 0; /* \uc624\ub978\ucabd\uc5d0\uc11c \uc2dc\uc791\ud558\uc5ec \uc67c\ucabd\uc73c\ub85c \ud655\uc7a5 */\n  width: 250px; /* 200px\uc5d0\uc11c 250px\ub85c \ud655\ub300 */\n  background: #f5f5f5;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  z-index: 1000;\n  max-height: 450px; /* 400px\uc5d0\uc11c 450px\ub85c \ud655\ub300 */\n  overflow-y: auto;\n  transform: ",";\n  transform-origin: bottom right; /* \uaf2d\uc9c0\uc810\uc744 \uc624\ub978\ucabd \uc544\ub798\ub85c \uc124\uc815 */\n  transition: transform 0.2s ease;\n"])),(e=>e.$show?"scale(1)":"scale(0)")),xc=Xn.button(hc||(hc=s(["\n  width: 100%;\n  padding: 14px 18px; /* 12px 16px\uc5d0\uc11c 14px 18px\ub85c \ud655\ub300 */\n  border: none;\n  background: transparent;\n  text-align: left;\n  cursor: ",";\n  font-size: 14px; /* 14px\uc5d0\uc11c 12px\ub85c \ud3f0\ud2b8 \ud06c\uae30 \ucd95\uc18c */\n  color: ",";\n  border-bottom: none;\n  transition: background-color 0.2s ease;\n  \n  &:hover {\n    background: ",";\n  }\n  \n  &:active {\n    background: ",";\n  }\n"])),(e=>e.$isTodo?"not-allowed":"pointer"),(e=>e.$isTodo?"#999":"#333"),(e=>e.$isTodo?"transparent":"#e9ecef"),(e=>e.$isTodo?"transparent":"#dee2e6")),bc=Xn.div(gc||(gc=s(["\n  height: 1px;\n  background: #ddd;\n  margin: 4px 0;\n"]))),wc=e=>{let{quickPhrases:t,onPhraseSelect:r,onPhrasesUpdate:o,currentInterpretation:a,personaId:i,onGenerateProceed:s,onGenerateSentence:l,currentChatMessages:c,currentChatContext:u,onRefreshThreads:d}=e;const[f,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),m=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&p(!1)};return f&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[f]),(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsxs)(mc,{ref:m,children:[(0,wr.jsxs)(vc,{onClick:()=>{p(!f)},children:["\uc790\uc8fc",(0,wr.jsx)("br",{}),"\uc4f0\ub294"]}),(0,wr.jsxs)(yc,{$show:f,children:[(0,wr.jsx)(xc,{onClick:async()=>{r("\uc88b\uc544. \ub108\uc758 \ub2f5\ubcc0\uc5d0 \uadfc\uac70\ud558\uc5ec, \ub0b4\uac00 \ub098\uc544\uac00\uc57c \ud560 \ubc29\ud5a5\uc740?"),p(!1)},children:"[\ub098\uc544\uac00\uae30] \uc0dd\uc131"}),(0,wr.jsx)(xc,{onClick:async()=>{r("\ub124 \ub2f5\ubcc0\uc744 \uc138 \ubb38\uc7a5\uc73c\ub85c \ud1b5\ucc30\uc801, \uba85\uc81c\ud615, \ud575\uc2ec\uc801\uc73c\ub85c \uc9e7\uac8c \uc694\uc57d (in bullet style)"),p(!1)},children:"[\ubb38\uc7a5] \uc0dd\uc131"}),(0,wr.jsx)(bc,{}),t.map((e=>(0,wr.jsx)(xc,{onClick:()=>function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(r(e),p(!1))}(e.text),children:e.text},e.id))),(0,wr.jsx)(bc,{}),(0,wr.jsx)(xc,{$isSettings:!0,onClick:()=>{p(!1),g(!0)},children:"\uc124\uc815 (\ud3b8\uc9d1 \ucc3d \ud638\ucd9c)"})]})]}),h&&(0,wr.jsx)(uc,{quickPhrases:t,onClose:()=>g(!1),onUpdate:o})]})},Sc=(0,n.forwardRef)(((e,t)=>{let{onSendMessage:r,disabled:o=!1,placeholder:a="\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694...",onToggleSentenceMode:i,isSentenceModeActive:s=!1,hasSelectedSentences:l=!1,currentInterpretation:c,personaId:u,onGenerateProceed:d,onGenerateSentence:f,currentChatMessages:p,onRefreshThreads:h}=e;const[g,m]=(0,n.useState)(""),[v,y]=(0,n.useState)(!1),[x,b]=(0,n.useState)([]),w=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(()=>({insertText:e=>{m((n=>n+e)),setTimeout((()=>{w.current&&(w.current.style.height="auto",w.current.style.height="".concat(w.current.scrollHeight,"px"),w.current.focus())}),0)}})));const S=async()=>{if(!g.trim()||o||v)return;const e=g.trim();m(""),y(!0),w.current&&(w.current.style.height="auto");try{await r(e)||(m(e),w.current&&(w.current.style.height="auto",w.current.style.height="".concat(w.current.scrollHeight,"px")))}catch(n){m(e),w.current&&(w.current.style.height="auto",w.current.style.height="".concat(w.current.scrollHeight,"px"))}finally{y(!1)}};(0,n.useEffect)((()=>{w.current&&!o&&w.current.focus(),_();const e=sessionStorage.getItem("selectedSentenceForInput");e&&(m(e),sessionStorage.removeItem("selectedSentenceForInput"),setTimeout((()=>{w.current&&(w.current.style.height="auto",w.current.style.height="".concat(w.current.scrollHeight,"px"),w.current.focus(),w.current.setSelectionRange(e.length,e.length))}),100))}),[o]);const _=async()=>{try{const e=await Ll.getQuickPhrases();b(e)}catch(e){console.error("\uc790\uc8fc\uc4f0\ub294 \ubb38\uc7a5 \ub85c\ub4dc \uc2e4\ud328:",e)}};return(0,wr.jsx)(Yt,{children:(0,wr.jsxs)(Gt,{children:[(0,wr.jsxs)(Xt,{children:[(0,wr.jsx)(Jt,{ref:w,value:g,onChange:e=>{m(e.target.value),w.current&&(w.current.style.height="auto",w.current.style.height="".concat(w.current.scrollHeight,"px"))},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S())},placeholder:a,disabled:o||v,rows:1}),(0,wr.jsx)(Zt,{onClick:v?()=>{y(!1),console.log("\uc751\ub2f5 \uc0dd\uc131\uc744 \uc911\ub2e8\ud569\ub2c8\ub2e4.")}:S,disabled:o||!v&&!g.trim(),title:v?"\uc911\uc9c0":"\uc804\uc1a1",style:{background:v?"#ffffff":void 0,color:v?"#000000":void 0,border:v?"2px solid rgb(0, 0, 0)":void 0},children:v?"\u25a0":"\u2191"})]}),(0,wr.jsxs)(er,{children:[(0,wr.jsx)(wc,{quickPhrases:x,onPhraseSelect:e=>{m((n=>n+e)),setTimeout((()=>{w.current&&(w.current.style.height="auto",w.current.style.height="".concat(w.current.scrollHeight,"px"),w.current.focus())}),0)},onPhrasesUpdate:_,currentInterpretation:c,personaId:u,onGenerateProceed:d,onGenerateSentence:f,currentChatMessages:p,currentChatContext:c,onRefreshThreads:h}),(0,wr.jsxs)(nr,{$isActive:s,$hasSelected:l,onClick:i,title:"\ubb38\uc7a5 \uc120\ud0dd \ubaa8\ub4dc",children:["\ubb38\uc7a5",(0,wr.jsx)("br",{}),"\uc120\ud0dd"]})]})]})})})),_c=Sc;var kc,Ec,Cc,jc,Tc,Pc,Ac,Ic,Oc,zc;const Rc=Xn.div(kc||(kc=s(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n"])),(e=>e.$isOpen?"flex":"none")),Nc=Xn.div(Ec||(Ec=s(["\n  background: white;\n  border-radius: 16px;\n  padding: 32px;\n  min-width: 400px;\n  max-width: 500px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n  text-align: center;\n"]))),Dc=Xn.h2(Cc||(Cc=s(["\n  font-size: 24px;\n  font-weight: 700;\n  color: #333;\n  margin-bottom: 16px;\n"]))),Lc=Xn.p(jc||(jc=s(["\n  font-size: 16px;\n  color: #666;\n  margin-bottom: 24px;\n  line-height: 1.5;\n"]))),Mc=Xn.div(Tc||(Tc=s(["\n  display: flex;\n  gap: 12px;\n  justify-content: center;\n"]))),$c=Xn.button(Pc||(Pc=s(["\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 100px;\n  \n  ","\n"])),(e=>"primary"===e.$variant?"\n      background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);\n      color: white;\n      &:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(108, 117, 125, 0.4);\n      }\n    ":"\n      background: #f5f5f5;\n      color: #666;\n      &:hover {\n        background: #e8e8e8;\n      }\n    ")),Fc=Xn.div(Ac||(Ac=s(["\n  margin: 24px 0;\n"]))),Uc=Xn.div(Ic||(Ic=s(["\n  font-size: 32px;\n  font-weight: 700;\n  color: #6c757d;\n  margin-bottom: 16px;\n"]))),Hc=Xn.div(Oc||(Oc=s(["\n  width: 100%;\n  height: 8px;\n  background: #e0e0e0;\n  border-radius: 4px;\n  overflow: hidden;\n"]))),Wc=Xn.div(zc||(zc=s(["\n  height: 100%;\n  background: linear-gradient(90deg, #6c757d 0%, #5a6268 100%);\n  width: ","%;\n  transition: width 0.3s ease;\n"])),(e=>e.$progress)),Bc=e=>{let{isOpen:t,personaId:r,personaName:o,onConfirm:i,onCancel:s,onComplete:l}=e;const[c,u]=(0,n.useState)("confirm"),[d,f]=(0,n.useState)(0),[p,h]=(0,n.useState)("");(0,n.useEffect)((()=>{t||(u("confirm"),f(0),h(""))}),[t]),(0,n.useEffect)((()=>{"progress"===c&&g()}),[c,r]);const g=async()=>{try{f(10);const e=await a.chatApi.generateInterpretationWithExtras({persona_id:r,user_input:"\uae30\ubcf8 \uc2ec\ub9ac \ud574\uc11d \uc694\uccad"});f(30),e.data&&e.data.interpretation?(f(60),setTimeout((()=>{f(100),setTimeout((()=>{u("complete"),l(e.data.interpretation.interpretation)}),300)}),500)):(h(e.error||"\ud574\uc11d \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),u("error"))}catch(e){console.error("\ud574\uc11d \uc0dd\uc131 \uc624\ub958:",e),h("\ud574\uc11d \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),u("error")}},m=()=>{s()};return(0,wr.jsx)(Rc,{$isOpen:t,children:(0,wr.jsxs)(Nc,{children:["confirm"===c&&(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(Dc,{children:"\ud574\uc11d \uc0dd\uc131 \uc9c4\ud589"}),(0,wr.jsx)(Lc,{children:"\ud574\ub2f9 \uc778\ubb3c\uc758 \uc0ac\uc0c1\uc5d0 \uae30\ubc18\ud55c \uc2ec\ub9ac \ud574\uc11d\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4."}),(0,wr.jsxs)(Mc,{children:[(0,wr.jsx)($c,{$variant:"primary",onClick:()=>{u("progress"),i()},children:"\uc0dd\uc131"}),(0,wr.jsx)($c,{$variant:"secondary",onClick:m,children:"\ucde8\uc18c"})]})]}),"progress"===c&&(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(Dc,{children:"\ud574\uc11d \uc0dd\uc131 \uc9c4\ud589"}),(0,wr.jsxs)(Fc,{children:[(0,wr.jsxs)(Uc,{children:[d,"%"]}),(0,wr.jsx)(Hc,{children:(0,wr.jsx)(Wc,{$progress:d})})]}),(0,wr.jsxs)(Lc,{children:["AI\uac00 ",o,"\uc758 \uad00\uc810\uc5d0\uc11c \ud574\uc11d\uc744 \uc0dd\uc131\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4..."]})]}),"complete"===c&&(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(Dc,{children:"\ud574\uc11d \uc0dd\uc131 \uc644\ub8cc"}),(0,wr.jsxs)(Lc,{children:[o,"\uc758 \uad00\uc810\uc5d0\uc11c \ud574\uc11d\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]}),(0,wr.jsx)(Mc,{children:(0,wr.jsx)($c,{$variant:"primary",onClick:m,children:"\ud655\uc778"})})]}),"error"===c&&(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(Dc,{children:"\ud574\uc11d \uc0dd\uc131 \uc2e4\ud328"}),(0,wr.jsx)(Lc,{children:p}),(0,wr.jsxs)(Mc,{children:[(0,wr.jsx)($c,{$variant:"primary",onClick:()=>{u("progress"),f(0),h("")},children:"\ub2e4\uc2dc \uc2dc\ub3c4"}),(0,wr.jsx)($c,{$variant:"secondary",onClick:m,children:"\ucde8\uc18c"})]})]})]})})};var Vc,Kc,qc,Qc,Yc,Gc,Xc,Jc,Zc,eu,nu,tu,ru,ou,au,iu,su;const lu=Xn.div(Vc||(Vc=s(["\n  padding: 20px;\n  height: 100%;\n  overflow-y: auto;\n"]))),cu=(Xn.div(Kc||(Kc=s(["\n  margin-bottom: 24px;\n"]))),Xn.div(qc||(qc=s(["\n  background: linear-gradient(135deg, #f0f0f0 0%, #d0d0d0 100%);\n  color: #333;\n  padding: 16px 20px;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: 600;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\n    background: linear-gradient(135deg, #e8e8e8 0%, #c8c8c8 100%);\n  }\n"])))),uu=Xn.span(Qc||(Qc=s(["\n  transform: ",";\n  transition: transform 0.3s ease;\n  font-size: 16px;\n"])),(e=>e.$isExpanded?"rotate(90deg)":"rotate(0deg)")),du=Xn.div(Yc||(Yc=s(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  max-height: ",";\n  background: white;\n  border-radius: 0 0 12px 12px;\n  box-shadow: ",";\n"])),(e=>e.$isExpanded?"1000px":"0"),(e=>e.$isExpanded?"0 4px 12px rgba(0, 0, 0, 0.1)":"none")),fu=(Xn.div(Gc||(Gc=s(["\n  padding: 16px;\n  border-left: 3px solid #e0e0e0;\n  margin: 8px 16px;\n"]))),Xn.h3(Xc||(Xc=s(["\n  font-size: 16px;\n  font-weight: 600;\n  color: #555;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e0e0e0;\n"]))),Xn.div(Jc||(Jc=s(["\n  background: linear-gradient(135deg, #f8f8f8 0%, #e8e8e8 100%);\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n    border-color: #ccc;\n    background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);\n  }\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"])))),pu=Xn.div(Zc||(Zc=s(["\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #333;\n  font-size: 16px;\n  font-weight: bold;\n"]))),hu=Xn.h4(eu||(eu=s(["\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 8px;\n"]))),gu=Xn.p(nu||(nu=s(["\n  font-size: 14px;\n  color: #666;\n  line-height: 1.4;\n  margin-bottom: 8px;\n"]))),mu=Xn.div(tu||(tu=s(["\n  margin-left: 24px;\n  margin-bottom: 24px;\n"]))),vu=Xn.h3(ru||(ru=s(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #444;\n  margin-bottom: 16px;\n  padding-left: 8px;\n  border-left: 4px solid #ddd;\n"]))),yu=(Xn.div(ou||(ou=s(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  padding: 16px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  border: 1px solid #e9ecef;\n"]))),Xn.h2(au||(au=s(["\n  font-size: 24px;\n  font-weight: 700;\n  color: #343a40;\n  margin: 0;\n"]))),Xn.button(iu||(iu=s(["\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 12px 24px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: ",";\n  transition: all 0.2s ease;\n  opacity: ",";\n  \n  &:hover {\n    transform: ",";\n    box-shadow: ",";\n  }\n  \n  &:active {\n    transform: ",";\n  }\n"])),(e=>e.$isLoading?"not-allowed":"pointer"),(e=>e.$isLoading?.7:1),(e=>e.$isLoading?"none":"translateY(-1px)"),(e=>e.$isLoading?"none":"0 4px 12px rgba(0, 123, 255, 0.3)"),(e=>e.$isLoading?"none":"translateY(0)")),Xn.div(su||(su=s(["\n  font-size: 12px;\n  color: #6c757d;\n  margin-top: 4px;\n"]))),e=>{let{personas:t,onSelectPersona:r,onInterpretationComplete:i}=e;const[s,l]=(0,n.useState)(null),[c,u]=(0,n.useState)({}),[d,f]=(0,n.useState)(!1),[p,h]=(0,n.useState)({current:0,total:0});(0,n.useEffect)((()=>{(async()=>{const e=await a.chatApi.getInterpretationStatus();if(e.data){const n={};e.data.forEach((e=>{n[e.persona_id]=e.has_interpretation})),u(n)}})()}),[]);const g=Object.entries(t).reduce(((e,n)=>{let[t,r]=n;return e[r.category]||(e[r.category]={}),e[r.category][r.subcategory]||(e[r.category][r.subcategory]=[]),e[r.category][r.subcategory].push((0,o.A)({id:t},r)),e}),{}),[m,v]=(0,n.useState)({});return(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(lu,{children:["\uc2ec\ub9ac\ud559","\ucca0\ud559"].map((e=>{const n=g[e];return n?(0,wr.jsxs)(mu,{children:[(0,wr.jsx)(vu,{children:e}),Object.entries(n).map((e=>{let[n,t]=e;return(0,wr.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,wr.jsxs)(cu,{$isExpanded:m[n]||!1,onClick:()=>(e=>{v((n=>(0,o.A)((0,o.A)({},n),{},{[e]:!n[e]})))})(n),style:{marginLeft:"16px"},children:[(0,wr.jsx)("span",{children:n}),(0,wr.jsx)(uu,{$isExpanded:m[n]||!1,children:"\u25b6"})]}),(0,wr.jsx)(du,{$isExpanded:m[n]||!1,style:{marginLeft:"32px"},children:t.map((e=>(0,wr.jsxs)(fu,{$hasInterpretation:c[e.id]||!1,onClick:()=>(async(e,n)=>{if(c[e]){const n=await a.chatApi.getInterpretation(e);n.data&&(i(e,n.data.interpretation),r(e))}else l({id:e,name:n})})(e.id,e.name),children:[c[e.id]&&(0,wr.jsx)(pu,{children:"\u2713"}),(0,wr.jsx)(hu,{children:e.name}),(0,wr.jsx)(gu,{dangerouslySetInnerHTML:{__html:e.description.replace(/\u2022/g,'<span style="display: inline-block; width: 8px; height: 8px; background: #666; border-radius: 50%; margin-right: 8px; margin-bottom: 2px;"></span>')}})]},e.id)))})]},n)}))]},e):null}))}),s&&(0,wr.jsx)(Bc,{isOpen:!!s,personaId:s.id,personaName:s.name,onConfirm:async()=>{if(!s)return;(await a.chatApi.generateInterpretation({persona_id:s.id,user_input:"\uae30\ubcf8 \uc2ec\ub9ac \ud574\uc11d \uc694\uccad"})).data&&u((e=>(0,o.A)((0,o.A)({},e),{},{[s.id]:!0})))},onCancel:()=>{l(null)},onComplete:e=>{s&&(i(s.id,e),r(s.id),l(null))}})]})});var xu,bu,wu,Su,_u,ku,Eu;const Cu=Xn.div(xu||(xu=s(["\n  position: relative;\n  display: flex;\n  align-items: flex-start;\n  gap: ",";\n  margin: 4px 0;\n  cursor: ",";\n  padding: 2px 4px;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  \u3147\u3147\n  ","\n"])),(e=>e.$hasSelector?"8px":"0"),(e=>e.$isHoverable?"pointer":"default"),(e=>e.$isHoverable&&"\n    &:hover {\n      background-color: #f0f8ff;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    }\n  ")),ju=Xn.button(bu||(bu=s(["\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  background: ",";\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n  margin-top: 2px;\n  \n  &:hover {\n    border-color: #666;\n  }\n  \n  &:before {\n    content: '';\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n"])),(e=>e.$isSelected?"#333":"white")),Tu=Xn.span(wu||(wu=s(["\n  background: ",";\n  padding: ",";\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  line-height: 1.6;\n  flex: 1;\n  cursor: ",";\n  \n  ","\n"])),(e=>e.$isHighlighted?"#ffff00":"transparent"),(e=>e.$isHighlighted?"2px 4px":"0"),(e=>e.$isClickable?"pointer":"default"),(e=>e.$isClickable&&"\n    &:hover {\n      background: ".concat(e.$isHighlighted?"#ffff99":"#f0f8ff",";\n    }\n  "))),Pu=Xn.div(Su||(Su=s(["\n  position: absolute;\n  left: calc(100% + 20px);\n  top: 0;\n  width: 220px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n  padding: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  z-index: 100;\n  transition: all 0.2s ease;\n  \n  /* \ud654\uba74 \uc624\ub978\ucabd\uc744 \ubc97\uc5b4\ub098\uc9c0 \uc54a\ub3c4\ub85d \uc870\uc815 */\n  @media (max-width: 768px) {\n    left: auto;\n    right: -10px;\n    width: 180px;\n  }\n"])),(e=>e.$isEditing?"white":"#f5f5f5"),(e=>e.$isEditing?"#ddd":"#ccc")),Au=Xn.textarea(_u||(_u=s(["\n  width: calc(100% - 10px);\n  height: 60px;\n  border: none;\n  outline: none;\n  resize: none;\n  font-size: 12px;\n  line-height: 1.4;\n  padding: 4px;\n  background: ",";\n  color: ",";\n  cursor: ",";\n  \n  &:focus {\n    background: white;\n    color: #333;\n  }\n"])),(e=>e.$isEditing?"white":"#f5f5f5"),(e=>e.$isEditing?"#333":"#666"),(e=>e.$isEditing?"text":"pointer")),Iu=Xn.button(ku||(ku=s(["\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 20px;\n  height: 20px;\n  border: none;\n  background: none;\n  cursor: pointer;\n  font-size: 14px;\n  color: #999;\n  \n  &:hover {\n    color: #f00;\n  }\n"]))),Ou=Xn.button(Eu||(Eu=s(["\n  position: absolute;\n  bottom: 4px;\n  right: 4px;\n  width: 50px;\n  height: 20px;\n  border: none;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  color: #495057;\n  cursor: pointer;\n  font-size: 9px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\n  }\n  \n  &:disabled {\n    background: #6c757d;\n    color: white;\n    cursor: not-allowed;\n  }\n"]))),zu=e=>{let{sentence:t,sentenceId:r,isSelected:o,isHighlighted:a,hasMemo:i,memo:s="",showSelector:l=!0,onToggleSelect:c,onMemoChange:u,onDeleteMemo:d}=e;const[f,p]=(0,n.useState)(s),[h,g]=(0,n.useState)(!1),[m,v]=(0,n.useState)(!s),y=(0,n.useRef)(null);(0,n.useEffect)((()=>{p(s)}),[s]);const x=async()=>{if(u&&f.trim()){g(!0);try{await u(r,f),v(!1),y.current&&y.current.blur()}catch(e){console.error("\uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328:",e)}finally{g(!1)}}};return(0,wr.jsxs)(Cu,{$hasSelector:l,$isHoverable:l,onClick:()=>{l&&c(r)},children:[l&&(0,wr.jsx)(ju,{$isSelected:o,onClick:e=>{e.stopPropagation(),c(r)}}),(0,wr.jsx)(Tu,{$isHighlighted:a,$isClickable:l,children:t}),i&&(0,wr.jsxs)(Pu,{$isEditing:m,onClick:e=>{e.stopPropagation()},children:[(0,wr.jsx)(Iu,{onClick:e=>{e.stopPropagation(),d&&(p(""),v(!0),d(r))},children:"\ud83d\uddd1"}),(0,wr.jsx)(Au,{ref:y,$isEditing:m,value:f||"",onChange:e=>{p(e.target.value)},placeholder:"\uba54\ubaa8\ub97c \uc785\ub825\ud558\uc138\uc694...",autoFocus:m,readOnly:!m,onClick:()=>v(!0),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())}}),m&&(0,wr.jsx)(Ou,{onClick:x,disabled:h,children:"\uc800\uc7a5"})]})]})};var Ru,Nu,Du;const Lu=Xn.div(Ru||(Ru=s(["\n  white-space: pre-line;\n  line-height: 1.6;\n"]))),Mu=Xn.div(Nu||(Nu=s(["\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n  margin-left: 4px;\n"]))),$u=Xn.button(Du||(Du=s(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #000;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  background: white;\n  color: #000;\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none !important;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1) !important;\n  }\n  \n  &:hover:not(:disabled) { \n    transform: translateY(-1px); \n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); \n    background: #f8f8f8;\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n    background: #f0f0f0;\n  }\n"]))),Fu=e=>{let{message:n,messageIndex:t=0,personas:r,selectedSentences:o,highlightedSentences:a,memos:i,onToggleSelect:s,onMemoChange:l,onDeleteMemo:c,showSentenceSelector:u=!0,showActionButtons:d=!1,onCopy:f,onSunAction:p,onPersonAction:h,onDocumentAction:g,onEdit:m,isEditing:v=!1,onEditSave:y,onEditCancel:x}=e;const b="user"===n.role,w=n.persona_id?r[n.persona_id]:null,S=n.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0));return(0,wr.jsxs)(Kt,{$isUser:b,children:[(0,wr.jsx)(qt,{$isUser:b,$personaColor:null===w||void 0===w?void 0:w.color,children:(0,wr.jsx)(Lu,{children:S.map(((e,r)=>{const d=((e,t)=>"".concat(n.timestamp,"_").concat(e,"_").concat(t))(t,r);return(0,wr.jsx)(zu,{sentence:e,sentenceId:d,isSelected:o.has(d),isHighlighted:a.has(d),hasMemo:d in i,memo:i[d],showSelector:u,onToggleSelect:s,onMemoChange:l,onDeleteMemo:c},d)}))})}),(0,wr.jsxs)(Qt,{children:[(0,wr.jsx)("span",{children:b?"\ub098":n.persona_name||"\uc5b4\uc2dc\uc2a4\ud134\ud2b8"}),(0,wr.jsx)("span",{children:(_=n.timestamp,new Date(_).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}))})]}),d&&(0,wr.jsx)(Mu,{children:b?(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)($u,{variant:"copy",onClick:f,title:"\ubcf5\uc0ac",children:(0,wr.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,wr.jsx)("rect",{x:"2",y:"2",width:"8",height:"10",rx:"1",stroke:"black",strokeWidth:"1",fill:"none"}),(0,wr.jsx)("rect",{x:"6",y:"6",width:"8",height:"8",rx:"1",stroke:"black",strokeWidth:"1",fill:"white"}),(0,wr.jsx)("path",{d:"M4 5h4M4 7h3M4 9h4",stroke:"black",strokeWidth:"0.5"}),(0,wr.jsx)("path",{d:"M8 9h4M8 11h3M8 13h4",stroke:"black",strokeWidth:"0.5"})]})}),m&&(0,wr.jsx)($u,{variant:"edit",onClick:m,title:"\uc218\uc815",children:(0,wr.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,wr.jsx)("path",{d:"M11.5 1.5L14.5 4.5L9 10H6V7L11.5 1.5Z",stroke:"black",strokeWidth:"1",fill:"none"}),(0,wr.jsx)("path",{d:"M10.5 2.5L13.5 5.5",stroke:"black",strokeWidth:"1"}),(0,wr.jsx)("path",{d:"M2 14H6L6.5 13.5",stroke:"black",strokeWidth:"1",fill:"none"})]})})]}):(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)($u,{variant:"copy",onClick:f,title:"\ubcf5\uc0ac",children:(0,wr.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,wr.jsx)("rect",{x:"2",y:"2",width:"8",height:"10",rx:"1",stroke:"black",strokeWidth:"1",fill:"none"}),(0,wr.jsx)("rect",{x:"6",y:"6",width:"8",height:"8",rx:"1",stroke:"black",strokeWidth:"1",fill:"white"}),(0,wr.jsx)("path",{d:"M4 5h4M4 7h3M4 9h4",stroke:"black",strokeWidth:"0.5"}),(0,wr.jsx)("path",{d:"M8 9h4M8 11h3M8 13h4",stroke:"black",strokeWidth:"0.5"})]})}),(0,wr.jsx)($u,{variant:"sun",onClick:e=>{e.preventDefault(),null===p||void 0===p||p(n.content)},title:"\ud574",children:(0,wr.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000"},children:"\ud574"})}),(0,wr.jsx)($u,{variant:"person",onClick:e=>{e.preventDefault(),null===h||void 0===h||h(n.content)},title:"\ub098",children:(0,wr.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000"},children:"\ub098"})}),(0,wr.jsx)($u,{variant:"document",onClick:e=>{e.preventDefault(),null===g||void 0===g||g(n.content)},title:"\ubb38",children:(0,wr.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000"},children:"\ubb38"})})]})})]});var _};var Uu,Hu,Wu,Bu,Vu;const Ku=Xn.div(Uu||(Uu=s(["\n  position: fixed;\n  bottom: 30px; /* \uc785\ub825\ucc3d(80px) + \ubb38\uc7a5\uc120\ud0dd\ubc84\ud2bc \uc911\uc559(20px) = \ubb38\uc7a5\uc120\ud0dd \ubc84\ud2bc \uc815\uc911\uc559\uc5d0 \uacb9\uce68 */\n  right: 90px; /* \uc624\ub978\ucabd\uc5ec\ubc31(20px) + \ubc84\ud2bc\uadf8\ub8f9\ub108\ube44\uc808\ubc18(70px) = \ubb38\uc7a5\uc120\ud0dd \ubc84\ud2bc \uc911\uc559 */\n  z-index: 1000;\n  transform: ",";\n  transition: transform 0.3s ease;\n"])),(e=>e.show?"scale(1)":"scale(0)")),qu=Xn.button(Hu||(Hu=s(["\n  width: 60px;\n  height: 60px;\n  border-radius: 30px;\n  background: #333;\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #555;\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n"]))),Qu=Xn.div(Wu||(Wu=s(["\n  position: absolute;\n  bottom: 70px;\n  right: 0;\n  width: 200px;\n  background: #f5f5f5;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  transform: ",";\n  transform-origin: bottom right;\n  transition: transform 0.2s ease;\n"])),(e=>e.show?"scale(1)":"scale(0)")),Yu=Xn.button(Bu||(Bu=s(["\n  width: 100%;\n  padding: 12px 16px;\n  border: none;\n  background: transparent;\n  text-align: left;\n  cursor: pointer;\n  font-size: 14px;\n  color: #333;\n  border-bottom: ",";\n  \n  &:hover {\n    background: #e9ecef;\n  }\n  \n  &:active {\n    background: #dee2e6;\n  }\n"])),(e=>e.isDivider?"1px solid #ddd":"none")),Gu=Xn.div(Vu||(Vu=s(["\n  height: 1px;\n  background: #ddd;\n  margin: 4px 0;\n"]))),Xu=e=>{let{show:t,onMenuAction:r,personaId:o,currentInterpretation:a}=e;const[i,s]=(0,n.useState)(!1),l=(0,n.useRef)(null),c=e=>{r(e),s(!1)};return(0,n.useEffect)((()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&s(!1)};return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i]),(0,n.useEffect)((()=>{t||s(!1)}),[t]),(0,wr.jsxs)(Ku,{show:t,ref:l,children:[(0,wr.jsxs)(Qu,{show:i,children:[(0,wr.jsx)(Yu,{onClick:()=>c("sendToInput"),children:"\uc785\ub825\ucc3d\uc73c\ub85c \ubcf4\ub0b4\uae30"}),(0,wr.jsx)(Gu,{}),(0,wr.jsx)(Yu,{onClick:()=>c("saveToVault"),children:"\uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5"}),(0,wr.jsx)(Yu,{onClick:()=>c("addMemo"),children:"\uba54\ubaa8 \ub0a8\uae30\uae30"}),(0,wr.jsx)(Yu,{onClick:()=>c("highlight"),children:"\ud558\uc774\ub77c\uc774\ud2b8 \uc0c9\uce60"}),(0,wr.jsx)(Gu,{}),(0,wr.jsx)(Yu,{onClick:()=>c("copy"),children:"\ubcf5\uc0ac"})]}),(0,wr.jsx)(qu,{onClick:()=>{s(!i)},children:"\ubb38\uc7a5\uc635\uc158"})]})};var Ju,Zu,ed,nd,td,rd;const od=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=Ze(Qn.apply(void 0,c([e],n,!1))),o=Oe(r);return new Rn(o,r)}(Ju||(Ju=s(["\n  0% { opacity: 0.4; }\n  50% { opacity: 1; }\n  100% { opacity: 0.4; }\n"]))),ad=Xn.div(Zu||(Zu=s(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-bottom: 16px;\n"]))),id=Xn.div(ed||(ed=s(["\n  background: linear-gradient(135deg, #f1f3f4 0%, #e8eaed 100%);\n  border: 1px solid #dadce0;\n  border-radius: 18px 18px 18px 4px;\n  padding: 12px 16px;\n  max-width: 80%;\n  position: relative;\n  box-shadow: 0 1px 3px rgba(60, 64, 67, 0.1);\n"]))),sd=Xn.div(nd||(nd=s(["\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  font-size: 14px;\n  color: #5f6368;\n"]))),ld=Xn.span(td||(td=s(["\n  width: 8px;\n  height: 8px;\n  background: #5f6368;\n  border-radius: 50%;\n  animation: "," 1.4s ease-in-out infinite;\n  animation-delay: ","s;\n"])),od,(e=>e.$delay)),cd=Xn.div(rd||(rd=s(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 4px;\n  font-size: 12px;\n  color: #999;\n  width: 100%;\n  max-width: 80%;\n  gap: 8px;\n"]))),ud=e=>{let{personaName:t="AI",personaColor:r="#666",customMessage:o}=e;const[a,i]=(0,n.useState)(o||"\uc751\ub2f5 \uc0dd\uc131 \uc911");(0,n.useEffect)((()=>{if(o)return void i(o);let e=0;const n=["\uc751\ub2f5 \uc0dd\uc131 \uc911","\ub0b4\uc6a9\uc744 \ubd84\uc11d \uc911","\ub2f5\ubcc0\uc744 \uc791\uc131 \uc911","\ucd5c\uc885 \uac80\ud1a0 \uc911"],t=setInterval((()=>{e=(e+1)%n.length,i(n[e])}),2e3);return()=>clearInterval(t)}),[o]);return(0,wr.jsxs)(ad,{children:[(0,wr.jsx)(id,{personaColor:r,children:(0,wr.jsxs)(sd,{children:[a,(0,wr.jsx)(ld,{$delay:0}),(0,wr.jsx)(ld,{$delay:.2}),(0,wr.jsx)(ld,{$delay:.4})]})}),(0,wr.jsxs)(cd,{children:[(0,wr.jsx)("span",{style:{color:r,fontWeight:"bold"},children:t}),(0,wr.jsx)("span",{children:(new Date).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})]})},dd=()=>{const[e,t]=(0,n.useState)(!1),[r,o]=(0,n.useState)("");return{showToast:e,toastMessage:r,showCopyToast:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;o(e),t(!0),setTimeout((()=>{t(!1)}),n)}}},fd=()=>{const{showCopyToast:e}=dd(),n=async function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4";const r=await(async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(n){console.error("\ud074\ub9bd\ubcf4\ub4dc \ubcf5\uc0ac \uc2e4\ud328:",n);try{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();const t=document.execCommand("copy");return document.body.removeChild(n),t}catch(t){return console.error("\ub300\uccb4 \ubcf5\uc0ac \ubc29\ubc95\ub3c4 \uc2e4\ud328:",t),!1}}})(n);return e(r?t:"\ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),r};return{copyTextToClipboard:n,handleCopyMessage:async e=>n(e,"\uba54\uc2dc\uc9c0\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}},pd=e=>{let{personaId:t,threadType:r,selectedThread:a,memos:i,highlightedSentences:s,setMemos:l,setHighlightedSentences:c}=e;const{showCopyToast:u}=dd(),{copyTextToClipboard:d}=fd(),[f,p]=(0,n.useState)(new Set),h=async(e,n)=>{try{if(!n.length)return void u("\uc800\uc7a5\ud560 \ubb38\uc7a5\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694");if(null===a||void 0===a||!a.id)return void u("\uc800\uc7a5\ud560 \uc2a4\ub808\ub4dc\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694");const l=[],d=[],f=[];let p=!1,h="",g="",m=[],v=[];for(const t of e){const r=s.has(t),o=i[t]||null;l.push(r),d.push(r?"yellow":null),f.push(o),o&&""!==o.trim()&&(p=!0,h=t,g=o,m=e,v=n)}if(await Hr.saveSentencesToVault({sentences:n,source_message_id:"".concat(r,"_").concat(t),source_conversation_id:a.id,source_thread_id:a.id,source_thread_type:r,source_sentence_ids:e,tags:[r,t],highlight_states:l,highlight_colors:d,memo_contents:f}),p){console.log("=== \uba54\ubaa8 \uc800\uc7a5\uace0 \uc800\uc7a5 ==="),console.log("\uba54\ubaa8 \ubb38\uc7a5 ID:",h),console.log("\uba54\ubaa8 \ub0b4\uc6a9:",g),console.log("\uc5f0\uad00\ub41c \ubb38\uc7a5\ub4e4:",v);try{await Hr.saveMemoToVault({memo_content:g,sentence_content:v.length>1?v.map((e=>'"'.concat(e,'"'))).join(", "):v[0]||"",source_message_id:"".concat(r,"_").concat(t),source_conversation_id:a.id,source_thread_id:a.id,source_thread_type:r,source_sentence_id:h,tags:[r,t],metadata:{related_sentence_ids:m,related_sentence_contents:v,memo_type:v.length>1?"multi_sentence":"single_sentence"}}),console.log("\uba54\ubaa8 \uc800\uc7a5\uace0 \uc800\uc7a5 \uc644\ub8cc")}catch(o){console.error("\uba54\ubaa8 \uc800\uc7a5\uace0 \uc800\uc7a5 \uc2e4\ud328:",o)}}for(const n of e)await Hr.createHighlight({sentence_id:n,thread_id:a.id,thread_type:r});c((n=>new Set([...Array.from(n),...e]))),u(p?"\uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4 (\uba54\ubaa8\uc640 \uc5f0\uad00 \ubb38\uc7a5\ub4e4 \ud3ec\ud568)":"\uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4 (\ud558\uc774\ub77c\uc774\ud2b8 \uc815\ubcf4 \ud3ec\ud568)")}catch(o){console.error("\uc800\uc7a5\uace0 \uc800\uc7a5 \uc2e4\ud328:",o),u("\uc800\uc7a5\uace0 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}},g=async(e,n)=>{if(0!==e.length)try{if(null!==a&&void 0!==a&&a.id)for(const n of e)await Hr.createHighlight({sentence_id:n,thread_id:a.id,thread_type:r});const i=e.sort(),s=i[i.length-1],d={[s]:""},f=e,p=n;if(console.log("=== \uba54\ubaa8 \uc0dd\uc131 \uc815\ubcf4 ==="),console.log("\ub9c8\uc9c0\ub9c9 \ubb38\uc7a5 ID:",s),console.log("\uc5f0\uad00\ub41c \ubb38\uc7a5 ID\ub4e4:",f),console.log("\uc5f0\uad00\ub41c \ubb38\uc7a5 \ud14d\uc2a4\ud2b8\ub4e4:",p),null!==a&&void 0!==a&&a.id)try{await Hr.createOrUpdateMemo({sentence_id:s,thread_id:a.id,thread_type:r,content:"",related_sentence_ids:f,related_sentence_contents:p,sentence_content:n[n.length-1],source_message_id:"".concat(r,"_memo_").concat(Date.now())})}catch(t){console.warn("\ubc31\uc5d4\ub4dc \uba54\ubaa8 \uc0dd\uc131 \uc2e4\ud328 (\ub85c\uceec \uc0dd\uc131\uc740 \uc131\uacf5):",t)}l((e=>(0,o.A)((0,o.A)({},e),d))),c((n=>new Set([...Array.from(n),...e]))),e.length>1?u("\uba54\ubaa8\uac00 \ub9c8\uc9c0\ub9c9 \ubb38\uc7a5\uc5d0 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4 (\uc5f0\uad00 \ubb38\uc7a5: ".concat(e.length,"\uac1c)")):u("\uba54\ubaa8\uc640 \ud558\uc774\ub77c\uc774\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(t){console.error("\uba54\ubaa8/\ud558\uc774\ub77c\uc774\ud2b8 \ucd94\uac00 \uc2e4\ud328:",t),u("\uba54\ubaa8/\ud558\uc774\ub77c\uc774\ud2b8 \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}},m=async e=>{if(e.length&&null!==a&&void 0!==a&&a.id)try{if(e.filter((e=>s.has(e))).length>0){c((n=>{const t=new Set(n);return e.forEach((e=>t.delete(e))),t}));for(const t of e)try{await Hr.deleteHighlight(t)}catch(n){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c \uc2e4\ud328:",n)}u("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}else{c((n=>new Set([...Array.from(n),...e])));for(const t of e)try{await Hr.createHighlight({sentence_id:t,thread_id:a.id,thread_type:r})}catch(n){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc800\uc7a5 \uc2e4\ud328:",n)}u("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}}catch(n){console.error("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \uc2e4\ud328:",n),u("\ud558\uc774\ub77c\uc774\ud2b8 \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}};return{selectedSentences:f,setSelectedSentences:p,handleMenuAction:async(e,n,t,r)=>{switch(e){case"sendToInput":if(null!==r&&void 0!==r&&r.current&&t.length>0){const e=t.map((e=>'"'.concat(e,'"'))).join(", ");r.current.insertText(e),u("\uc120\ud0dd\ud55c \ubb38\uc7a5\uc774 \uc785\ub825\ucc3d\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}break;case"saveToVault":await h(n,t);break;case"addMemo":await g(n,t);break;case"highlight":await m(n);break;case"copy":t.length>0&&await d(t.join(" "),"\uc120\ud0dd\ub41c \ubb38\uc7a5\uc774 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}p(new Set)},handleSaveToVault:h,handleAddMemo:g,handleToggleHighlight:m}},hd=e=>{const[t,r]=(0,n.useState)({}),[a,i]=(0,n.useState)(new Set),[s,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null);(0,n.useEffect)((()=>{e&&d()}),[e]);const d=async()=>{if(e){console.log("=== \uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \ub85c\ub529 \uc2dc\uc791 ==="),console.log("\ub300\uc0c1 \uc2a4\ub808\ub4dc ID:",e),l(!0),u(null);try{var n;const t=await Hr.getThreadSentenceData(e);console.log("\ub85c\ub529\ub41c \ub370\uc774\ud130:",{memo_count:Object.keys(t.memos||{}).length,highlight_count:(null===(n=t.highlights)||void 0===n?void 0:n.length)||0,memos:t.memos,highlights:t.highlights}),r(t.memos||{}),i(new Set(t.highlights||[])),console.log("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \ub85c\ub529 \uc644\ub8cc")}catch(c){console.error("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \ub85c\ub529 \uc2e4\ud328:",c),u(c instanceof Error?c.message:"\ub370\uc774\ud130 \ub85c\ub529\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),r({}),i(new Set)}finally{l(!1)}}};return{memos:t,highlightedSentences:a,isLoading:s,error:c,loadThreadSentenceData:d,handleMemoChange:async(e,n,t,a)=>{console.log("=== \uba54\ubaa8 \ubcc0\uacbd \ucc98\ub9ac \uc2dc\uc791 ==="),console.log("\ubb38\uc7a5 ID:",e),console.log("\uba54\ubaa8 \ub0b4\uc6a9:",n.substring(0,50)+(n.length>50?"...":"")),console.log("\uc2a4\ub808\ub4dc ID:",t),console.log("\uc2a4\ub808\ub4dc \ud0c0\uc785:",a);try{r((t=>(0,o.A)((0,o.A)({},t),{},{[e]:n})));const i=await Hr.createOrUpdateMemo({sentence_id:e,thread_id:t,thread_type:a,content:n});return console.log("\uba54\ubaa8 \uc800\uc7a5 API \uc751\ub2f5:",i),console.log("\uba54\ubaa8 \ubcc0\uacbd \ucc98\ub9ac \uc644\ub8cc"),i}catch(c){throw console.error("\uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328:",c),r((t=>{const r=(0,o.A)({},t);return""===n.trim()?delete r[e]:d(),r})),c}},handleDeleteMemo:async e=>{console.log("=== \uba54\ubaa8 \uc0ad\uc81c \ucc98\ub9ac \uc2dc\uc791 ==="),console.log("\ubb38\uc7a5 ID:",e);try{t[e];r((n=>{const t=(0,o.A)({},n);return delete t[e],t}));const n=await Hr.deleteMemo(e);return console.log("\uba54\ubaa8 \uc0ad\uc81c API \uc751\ub2f5:",n),console.log("\uba54\ubaa8 \uc0ad\uc81c \ucc98\ub9ac \uc644\ub8cc"),n}catch(c){throw console.error("\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328:",c),void 0!==t[e]&&r((n=>(0,o.A)((0,o.A)({},n),{},{[e]:t[e]}))),c}},handleToggleHighlight:async(e,n,t)=>{console.log("=== \ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \ucc98\ub9ac \uc2dc\uc791 ==="),console.log("\ubb38\uc7a5 ID:",e),console.log("\ud604\uc7ac \ud558\uc774\ub77c\uc774\ud2b8 \uc0c1\ud0dc:",a.has(e));const r=a.has(e);try{let o;return i((n=>{const t=new Set(n);return r?t.delete(e):t.add(e),t})),o=r?await Hr.deleteHighlight(e):await Hr.createHighlight({sentence_id:e,thread_id:n||"",thread_type:t||""}),console.log("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 API \uc751\ub2f5:",o),console.log("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \ucc98\ub9ac \uc644\ub8cc"),o}catch(c){throw console.error("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \uc2e4\ud328:",c),i((n=>{const t=new Set(n);return r?t.add(e):t.delete(e),t})),c}},setMemos:r,setHighlightedSentences:i}};var gd,md,vd,yd,xd,bd;const wd=Xn.div(gd||(gd=s(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n"]))),Sd=Xn.div(md||(md=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),_d=Xn.div(vd||(vd=s(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),kd=Xn.div(yd||(yd=s(["\n  padding: 16px 20px;\n  border-top: none;\n  background: #ffffff;\n"]))),Ed=Xn.div(xd||(xd=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n  font-size: 14px;\n  text-align: center;\n"]))),Cd=Xn.div(bd||(bd=s(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background: #6c757d;\n  color: white;\n  padding: 12px 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  transform: ",";\n  transition: transform 0.3s ease;\n  font-size: 14px;\n  font-weight: 500;\n"])),(e=>e.show?"translateX(0)":"translateX(120%)")),jd=e=>{let{interpretation:r,personaName:a,onSendMessage:i,onEditMessage:s,isLoading:l,messages:c,onGenerateNewInterpretation:u,onSwitchToMode:d,personaId:f,onRefreshThreads:p,selectedThread:h}=e;const[g,m]=(0,n.useState)(h||null),v=(0,n.useRef)(null),y=(0,n.useRef)(null),[x,b]=(0,n.useState)(!1),[w,S]=(0,n.useState)(""),[_,k]=(0,n.useState)(null),[E,C]=(0,n.useState)(new Set),[j,T]=(0,n.useState)(new Set),[P,A]=(0,n.useState)({}),[I,O]=(0,n.useState)(!1);hd();(0,n.useEffect)((()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)}),[c]),(0,n.useEffect)((()=>{h&&(console.log("\uc120\ud0dd\ub41c \ud574\uc11d \uc2a4\ub808\ub4dc \ubcc0\uacbd:",h.id),m(h),z(h.id))}),[h]);const z=async e=>{try{console.log("=== \ud574\uc11d \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc2dc\uc791 ==="),console.log("\uc2a4\ub808\ub4dc ID:",e);const n=await Hr.getThreadSentenceData(e);console.log("\ub85c\ub529\ub41c \uba54\ubaa8:",Object.keys(n.memos).length,"\uac1c"),console.log("\ub85c\ub529\ub41c \ud558\uc774\ub77c\uc774\ud2b8:",n.highlights.length,"\uac1c"),A(n.memos),T(new Set(n.highlights)),console.log("=== \ud574\uc11d \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc644\ub8cc ===")}catch(n){console.error("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \ub85c\ub529 \uc2e4\ud328:",n),A({}),T(new Set)}},R=e=>{S(e),b(!0),setTimeout((()=>b(!1)),3e3)},N=async e=>{await(async(e,n)=>{try{await navigator.clipboard.writeText(e),R(n)}catch(t){console.error("\ubcf5\uc0ac \uc2e4\ud328:",t);try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),R(n)}catch(r){console.error("\ub300\uccb4 \ubcf5\uc0ac \ubc29\ubc95\ub3c4 \uc2e4\ud328:",r),R("\ubcf5\uc0ac \uc2e4\ud328")}}})(e,"\uba54\uc2dc\uc9c0\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")},D=()=>{k(null)},L=e=>{C((n=>{const t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t}))},M=async(e,n)=>{console.log("=== \ud574\uc11d \uba54\ubaa8 \uc800\uc7a5 \ub514\ubc84\uae45 ==="),console.log("\ubb38\uc7a5 ID:",e),console.log("\uba54\ubaa8 \ub0b4\uc6a9:",n),console.log("\ud398\ub974\uc18c\ub098 ID:",f),console.log("selectedThread:",null===g||void 0===g?void 0:g.id);const[t,,a]=e.split("_");let i="";if(null!==g&&void 0!==g&&g.messages){const e=g.messages.find((e=>e.timestamp===t));if(e){i=e.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[parseInt(a)]||""}}console.log("\ucd94\ucd9c\ub41c \ubb38\uc7a5 \ub0b4\uc6a9:",i);let s=null===g||void 0===g?void 0:g.id;if(!s){if(!r)throw console.warn("\uc2a4\ub808\ub4dc ID\ub97c \uacb0\uc815\ud560 \uc218 \uc5c6\uc74c, \uba54\ubaa8 \uc800\uc7a5 \uc911\ub2e8"),new Error("\uc2a4\ub808\ub4dc \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4");s="interpretation_chat_".concat(f)}console.log("\ucd5c\uc885 \uc2a4\ub808\ub4dc ID:",s);try{await Hr.createOrUpdateMemo({sentence_id:e,thread_id:s,thread_type:"interpretation",content:n,sentence_content:i,source_message_id:"interpretation_".concat(f),tags:["interpretation",...f?[f]:[]],source_conversation_id:s,source_thread_id:s}),A((t=>(0,o.A)((0,o.A)({},t),{},{[e]:n}))),console.log("\ud574\uc11d \uba54\ubaa8 \uc800\uc7a5 \uc131\uacf5"),R("\uba54\ubaa8\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(l){throw console.error("\ud574\uc11d \uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328:",l),R("\uba54\ubaa8 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),l}console.log("=== \ud574\uc11d \uba54\ubaa8 \uc800\uc7a5 \ub514\ubc84\uae45 \ub05d ===")},$=async e=>{try{A((n=>{const t=(0,o.A)({},n);return delete t[e],t})),T((n=>{const t=new Set(n);return t.delete(e),t})),Hr.deleteMemo(e).catch((e=>{console.warn("\ubc31\uc5d4\ub4dc \uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328 (\ub85c\uceec \uc0ad\uc81c\ub294 \uc131\uacf5):",e)})),R("\uba54\ubaa8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328:",n),R("\uba54\ubaa8 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}},F=pd({personaId:f||"",threadType:"interpretation",selectedThread:g,memos:P,highlightedSentences:j,setMemos:A,setHighlightedSentences:T}),U=async e=>{if(console.log("=== handleSunAction \uc2dc\uc791 ==="),console.log("personaId:",f),console.log("messageContent:",e.substring(0,100)+"..."),!f)return console.error("personaId\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"),void R("\ud398\ub974\uc18c\ub098 ID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4");if(!e)return console.error("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"),void R("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4");try{console.log("\ucd5c\uc885 \uc800\uc7a5\ud560 \ub0b4\uc6a9:",{personaId:f,contentLength:e.length,contentPreview:e.substring(0,100)+"..."});const{chatApi:n}=await Promise.resolve().then(t.bind(t,453));console.log("chatApi \uac00\uc838\uc634");const r=await n.saveCurrentAsInterpretation(f,e);console.log("API \uc751\ub2f5:",r),r.data&&r.data.persona_id&&r.data.interpretation?(console.log("\ud574\uc11d \uc800\uc7a5 \uc131\uacf5:",r.data),p&&(console.log("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2dc\uc791"),p(),console.log("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc644\ub8cc")),R("\uba54\uc2dc\uc9c0\uac00 \ud574\uc11d \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):r.error?(console.error("API \uc624\ub958:",r.error),R("\ud574\uc11d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(r.error))):(console.error("\uc608\uc0c1\uce58 \ubabb\ud55c \uc751\ub2f5 \uad6c\uc870:",r),r.data?(console.log("\uc751\ub2f5\uc774 \uc788\uc73c\ubbc0\ub85c \uc131\uacf5\uc73c\ub85c \ucc98\ub9ac"),p&&(console.log("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2dc\uc791"),p(),console.log("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc644\ub8cc")),R("\uba54\uc2dc\uc9c0\uac00 \ud574\uc11d \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):R("\ud574\uc11d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"))}catch(n){console.error("\ud574\uc11d \uc800\uc7a5 \uc911 \uc608\uc678 \ubc1c\uc0dd:",n),R("\ud574\uc11d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(n instanceof Error?n.message:String(n)))}console.log("=== handleSunAction \uc644\ub8cc ===")},H=async e=>{if(f)if(e)try{const{chatApi:n}=await Promise.resolve().then(t.bind(t,453));(await n.saveCurrentAsProceed(f,e)).data?(p&&p(),R("\uba54\uc2dc\uc9c0\uac00 \ub098\uc544\uac00\uae30 \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):R("\ub098\uc544\uac00\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ub098\uc544\uac00\uae30 \uc800\uc7a5 \uc911 \uc624\ub958:",n),R("\ub098\uc544\uac00\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else R("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")},W=async e=>{if(f)if(e)try{const{chatApi:n}=await Promise.resolve().then(t.bind(t,453));(await n.saveCurrentAsSentence(f,e)).data?(p&&p(),R("\uba54\uc2dc\uc9c0\uac00 \ubb38\uc7a5 \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):R("\ubb38\uc7a5 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ubb38\uc7a5 \uc800\uc7a5 \uc911 \uc624\ub958:",n),R("\ubb38\uc7a5 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else R("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")};return(0,wr.jsxs)(wd,{children:[(0,wr.jsx)(Cd,{show:x,children:w}),(0,wr.jsxs)(Sd,{children:[(0,wr.jsxs)(_d,{ref:v,children:[g&&0!==g.messages.length?g.messages.map(((e,n)=>"user"===e.role?(0,wr.jsx)(ci,{message:(0,o.A)((0,o.A)({},e),{},{persona_id:void 0,persona_name:void 0}),personas:{},showActionButtons:!0,onCopy:()=>N(e.content),onEdit:()=>{k(n)},isEditing:_===n,onEditSave:e=>(async(e,n)=>{s&&(await s(e,n)?(k(null),R("\uba54\uc2dc\uc9c0\uac00 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):R("\uba54\uc2dc\uc9c0 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"))})(n,e),onEditCancel:D},"interpretation_".concat(n)):(0,wr.jsx)(Fu,{message:(0,o.A)((0,o.A)({},e),{},{persona_id:"current_persona",persona_name:a}),personas:{current_persona:{name:a,description:"",color:"#6c757d",prompt:"",category:"",subcategory:""}},selectedSentences:I?E:new Set,highlightedSentences:j,memos:P,onToggleSelect:I?L:()=>{},onMemoChange:M,onDeleteMemo:$,showSentenceSelector:I,showActionButtons:!0,onCopy:()=>N(e.content),onSunAction:U,onPersonAction:H,onDocumentAction:W},"interpretation_".concat(n)))):(0,wr.jsxs)(Ed,{children:[(0,wr.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"\ud83d\udcac"}),(0,wr.jsx)("div",{children:"\ud574\uc11d\uc5d0 \ub300\ud574 \ub354 \uc790\uc138\ud788 \uc9c8\ubb38\ud574\ubcf4\uc138\uc694"}),(0,wr.jsxs)("div",{style:{fontSize:"12px",marginTop:"4px"},children:[a,"\uc640 \ub300\ud654\ub97c \ub098\ub20c \uc218 \uc788\uc2b5\ub2c8\ub2e4"]})]}),l&&(0,wr.jsx)(ud,{personaName:a,personaColor:"#6c757d"})]}),(0,wr.jsx)(kd,{children:(0,wr.jsx)(_c,{ref:y,onSendMessage:i,disabled:l,placeholder:"".concat(a,"\uc5d0\uac8c \ud574\uc11d\uc5d0 \ub300\ud574 \uc9c8\ubb38\ud574\ubcf4\uc138\uc694..."),onToggleSentenceMode:()=>{O((e=>!e))},isSentenceModeActive:I,hasSelectedSentences:E.size>0,currentInterpretation:r,personaId:f,onGenerateProceed:H,onGenerateSentence:W,currentChatMessages:c,onRefreshThreads:p})})]}),(0,wr.jsx)(Xu,{show:I&&E.size>0,onMenuAction:async e=>{const n=Array.from(E),t=n.map((e=>{const[n,,t]=e.split("_"),r=null===g||void 0===g?void 0:g.messages.find((e=>e.timestamp===n));if(r){return r.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[parseInt(t)]||""}return""})).filter((e=>e.length>0));await F.handleMenuAction(e,n,t,y)},personaId:f,currentInterpretation:r})]})};var Td,Pd,Ad,Id,Od,zd;const Rd=Xn.div(Td||(Td=s(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n"]))),Nd=Xn.div(Pd||(Pd=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),Dd=Xn.div(Ad||(Ad=s(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),Ld=Xn.div(Id||(Id=s(["\n  padding: 16px 20px;\n  border-top: none;\n  background: #ffffff;\n"]))),Md=Xn.div(Od||(Od=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n  font-size: 14px;\n  text-align: center;\n"]))),$d=Xn.div(zd||(zd=s(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background: #6c757d;\n  color: white;\n  padding: 12px 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  transform: ",";\n  transition: transform 0.3s ease;\n  font-size: 14px;\n  font-weight: 500;\n"])),(e=>e.show?"translateX(0)":"translateX(120%)")),Fd=e=>{let{personaId:t,personaName:r,proceedContent:i,threads:s,onThreadUpdate:l,onSwitchToMode:c,onGenerateNewInterpretation:u,selectedThread:d,onRefreshThreads:f}=e;const[p,h]=(0,n.useState)(d||null),[g,m]=(0,n.useState)(!1),[v,y]=(0,n.useState)(s),x=(0,n.useRef)(null),b=(0,n.useRef)(null),[w,S]=(0,n.useState)(!1),[_,k]=(0,n.useState)(""),[E,C]=(0,n.useState)(new Set),[j,T]=(0,n.useState)(new Set),[P,A]=(0,n.useState)({}),[I,O]=(0,n.useState)(!1),[z,R]=(0,n.useState)(null),N=v.filter((e=>"proceed"===e.thread_type));(0,n.useEffect)((()=>{y(s)}),[s]),(0,n.useEffect)((()=>{d&&(console.log("\uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc \ubcc0\uacbd:",d.id),h(d),D(d.id))}),[d]);const D=async e=>{try{console.log("=== \ub098\uc544\uac00\uae30 \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc2dc\uc791 ==="),console.log("\uc2a4\ub808\ub4dc ID:",e);const n=await Hr.getThreadSentenceData(e);console.log("\ub85c\ub529\ub41c \uba54\ubaa8:",Object.keys(n.memos).length,"\uac1c"),console.log("\ub85c\ub529\ub41c \ud558\uc774\ub77c\uc774\ud2b8:",n.highlights.length,"\uac1c"),A(n.memos),T(new Set(n.highlights)),console.log("=== \ub098\uc544\uac00\uae30 \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc644\ub8cc ===")}catch(n){console.error("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \ub85c\ub529 \uc2e4\ud328:",n),A({}),T(new Set)}};(0,n.useEffect)((()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)}),[null===p||void 0===p?void 0:p.messages]);const L=e=>{k(e),S(!0),setTimeout((()=>S(!1)),3e3)},M=async(e,n)=>{try{await navigator.clipboard.writeText(e),L(n)}catch(t){console.error("\ubcf5\uc0ac \uc2e4\ud328:",t),L("\ubcf5\uc0ac \uc2e4\ud328")}},$=async e=>{await M(e,"\uba54\uc2dc\uc9c0\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")},F=()=>{R(null)},U=e=>{C((n=>{const t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t}))},H=async(e,n)=>{const[r,,a]=e.split("_");let i="";if(null!==p&&void 0!==p&&p.messages){const e=p.messages.find((e=>e.timestamp===r));if(e){i=e.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[parseInt(a)]||""}}try{const r=P[e];await Hr.createOrUpdateMemo({sentence_id:e,thread_id:null===p||void 0===p?void 0:p.id,thread_type:"proceed",content:n,sentence_content:i,source_message_id:"proceed_".concat(t),persona_id:t,tags:["proceed",...t?[t]:[]],source_conversation_id:null===p||void 0===p?void 0:p.id,source_thread_id:null===p||void 0===p?void 0:p.id,is_update:!!r}),A((t=>(0,o.A)((0,o.A)({},t),{},{[e]:n}))),L("\uba54\ubaa8\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(s){throw console.error("\uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328:",s),L("\uba54\ubaa8 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),s}},W=async e=>{try{await Hr.deleteMemo(e),A((n=>{const t=(0,o.A)({},n);return delete t[e],t})),T((n=>{const t=new Set(n);return t.delete(e),t})),L("\uba54\ubaa8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328:",n),L("\uba54\ubaa8 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}},B=pd({personaId:t||"",threadType:"proceed",selectedThread:p,memos:P,highlightedSentences:j,setMemos:A,setHighlightedSentences:T}),V=async e=>{if(t)if(e)try{(await a.chatApi.saveCurrentAsProceed(t,e)).data?(q(),L("\uba54\uc2dc\uc9c0\uac00 \ub098\uc544\uac00\uae30 \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):L("\ub098\uc544\uac00\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ub098\uc544\uac00\uae30 \uc800\uc7a5 \uc911 \uc624\ub958:",n),L("\ub098\uc544\uac00\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else L("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")},K=async e=>{if(t)if(e)try{if((await a.chatApi.saveCurrentAsSentence(t,e)).data){if(l)try{const e=await a.chatApi.getPersonaThreads(t);e.data&&l(e.data)}catch(n){console.error("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",n)}L("\uba54\uc2dc\uc9c0\uac00 \ubb38\uc7a5 \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}else L("\ubb38\uc7a5 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ubb38\uc7a5 \uc800\uc7a5 \uc911 \uc624\ub958:",n),L("\ubb38\uc7a5 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else L("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")},q=async()=>{try{const e=await a.chatApi.getPersonaThreads(t);if(e.data){const n=e.data;y(n),l(n);const t=n.filter((e=>"proceed"===e.thread_type)).sort(((e,n)=>new Date(n.created_at).getTime()-new Date(e.created_at).getTime()))[0];!t||p&&t.id===p.id||(h(t),L("\uc0c8\ub85c\uc6b4 \ub098\uc544\uac00\uae30\uac00 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))}}catch(e){console.error("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",e)}};return(0,wr.jsxs)(Rd,{children:[(0,wr.jsx)($d,{show:w,children:_}),(0,wr.jsxs)(Nd,{children:[(0,wr.jsxs)(Dd,{ref:x,children:[p&&0!==p.messages.length?p.messages.map(((e,n)=>"user"===e.role?(0,wr.jsx)(ci,{message:(0,o.A)((0,o.A)({},e),{},{persona_id:void 0,persona_name:void 0}),personas:{},showActionButtons:!0,onCopy:()=>$(e.content),onEdit:()=>{R(n)},isEditing:z===n,onEditSave:e=>(async(e,n)=>{if(console.log("=== handleEditMessage \ud638\ucd9c ==="),console.log("messageIndex:",e),console.log("newContent:",n),console.log("selectedThread:",p),console.log("selectedThread.messages:",null===p||void 0===p?void 0:p.messages),null===p||void 0===p||!p.id)return console.log("\uc2a4\ub808\ub4dc ID\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"),L("\uc2a4\ub808\ub4dc\uac00 \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4"),!1;console.log("\uc2a4\ub808\ub4dc ID:",p.id),console.log("\uc694\uccad\ud560 API \uc815\ubcf4:",{threadId:p.id,messageIndex:e,newContent:n.substring(0,100)+"..."});try{var t;m(!0);const r=await a.chatApi.editThreadMessage(p.id,e,n);if(console.log("API \uc751\ub2f5:",r),null!==(t=r.data)&&void 0!==t&&t.success&&r.data.updated_thread){console.log("\uc218\uc815 \uc131\uacf5, \uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8 \uc911..."),h(r.data.updated_thread);const e=v.map((e=>e.id===p.id?r.data.updated_thread:e));return y(e),l(e),R(null),L("\uba54\uc2dc\uc9c0\uac00 \uc218\uc815\ub418\uace0 \uc0c8\ub85c\uc6b4 \uc751\ub2f5\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),m(!1),!0}return console.error("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc2e4\ud328:",r.error),L("\uba54\uc2dc\uc9c0 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),m(!1),!1}catch(r){return console.error("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc624\ub958:",r),L("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"),m(!1),!1}})(n,e),onEditCancel:F},"proceed_".concat(n)):(0,wr.jsx)(Fu,{message:(0,o.A)((0,o.A)({},e),{},{persona_id:"current_persona",persona_name:r}),personas:{current_persona:{name:r,description:"",color:"#ff9800",prompt:"",category:"",subcategory:""}},selectedSentences:I?E:new Set,highlightedSentences:j,memos:P,onToggleSelect:I?U:()=>{},onMemoChange:H,onDeleteMemo:W,showSentenceSelector:I,showActionButtons:!0,onCopy:()=>$(e.content),onSunAction:e=>(async e=>{if(t)if(e)try{(await a.chatApi.saveCurrentAsInterpretation(t,e)).data?(f&&f(),L("\uba54\uc2dc\uc9c0\uac00 \ud574\uc11d \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):L("\ud574\uc11d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ud574\uc11d \uc800\uc7a5 \uc911 \uc624\ub958:",n),L("\ud574\uc11d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else L("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")})(e),onPersonAction:e=>V(e),onDocumentAction:e=>K(e)},"proceed_".concat(n)))):(0,wr.jsxs)(Md,{children:[(0,wr.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"\ud83c\udfaf"}),(0,wr.jsx)("div",{children:"\ub098\uc544\uac00\uae30\uc5d0 \ub300\ud574 \ub354 \uc790\uc138\ud788 \uc9c8\ubb38\ud574\ubcf4\uc138\uc694"}),(0,wr.jsxs)("div",{style:{fontSize:"12px",marginTop:"4px"},children:[r,"\uc640 \ub300\ud654\ub97c \ub098\ub20c \uc218 \uc788\uc2b5\ub2c8\ub2e4"]})]}),g&&(0,wr.jsx)(ud,{personaName:r,personaColor:"#ff9800",customMessage:"\uc751\ub2f5 \uc0dd\uc131\uc911..."})]}),(0,wr.jsx)(Ld,{children:(0,wr.jsx)(_c,{ref:b,onSendMessage:async e=>{let n=p;if(!n){const e=N[0];if(e)n=e,h(n);else{const e={id:"proceed_default_".concat(t),persona_id:t,thread_type:"proceed",content:i,messages:[{role:"assistant",content:i,timestamp:(new Date).toISOString(),persona_id:t,persona_name:r}],created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n=e,h(n);const o=[...v,e];y(o),l(o)}}const s={role:"user",content:e,timestamp:(new Date).toISOString()},c=(0,o.A)((0,o.A)({},n),{},{messages:[...n.messages,s],updated_at:(new Date).toISOString()});h(c),m(!0);try{console.log("=== ProceedView API \ud638\ucd9c \uc2dc\uc791 ==="),console.log("\uc694\uccad \ub370\uc774\ud130:",{thread_id:n.id,user_message:e});const i=await a.chatApi.chatWithThread({thread_id:n.id,user_message:e});if(console.log("=== API \uc751\ub2f5 \ubc1b\uc74c ==="),console.log("\uc804\uccb4 \uc751\ub2f5:",i),console.log("response.data:",i.data),console.log("response.error:",i.error),i.data&&(console.log("\uc751\ub2f5 \ub370\uc774\ud130 \uad6c\uc870 \ubd84\uc11d:"),console.log("- thread_id:",i.data.thread_id),console.log("- user_message:",i.data.user_message),console.log("- response:",i.data.response),console.log("- thread_updated_at:",i.data.thread_updated_at),i.data.response&&(console.log("\uc751\ub2f5 \uba54\uc2dc\uc9c0 \uad6c\uc870 \ubd84\uc11d:"),console.log("- role:",i.data.response.role),console.log("- content:",i.data.response.content),console.log("- timestamp:",i.data.response.timestamp),console.log("- persona_id:",i.data.response.persona_id),console.log("- persona_name:",i.data.response.persona_name))),i.data&&i.data.response){const e={role:"assistant",content:i.data.response.content,timestamp:i.data.response.timestamp,persona_id:i.data.response.persona_id||t,persona_name:i.data.response.persona_name||r};console.log("\uc0dd\uc131\ub41c assistant \uba54\uc2dc\uc9c0:",e);const a=(0,o.A)((0,o.A)({},c),{},{messages:[...c.messages,e],updated_at:i.data.thread_updated_at||(new Date).toISOString()});console.log("\ucd5c\uc885 \uc5c5\ub370\uc774\ud2b8\ub41c \uc2a4\ub808\ub4dc:",a),console.log("\uc2a4\ub808\ub4dc \uba54\uc2dc\uc9c0 \uac1c\uc218:",a.messages.length),h(a);const s=v.map((e=>e.id===n.id?a:e));return y(s),l(s),console.log("=== UI \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc ==="),m(!1),!0}return console.error("\ub098\uc544\uac00\uae30 \ucc44\ud305 \uc751\ub2f5 \uc624\ub958:",i),m(!1),!1}catch(u){return console.error("\ub098\uc544\uac00\uae30 \ucc44\ud305 \uc624\ub958:",u),m(!1),!1}},disabled:g,placeholder:"".concat(r,"\uc5d0\uac8c \ub098\uc544\uac00\uae30\uc5d0 \ub300\ud574 \uc9c8\ubb38\ud574\ubcf4\uc138\uc694..."),onToggleSentenceMode:()=>{O((e=>!e))},isSentenceModeActive:I,hasSelectedSentences:E.size>0,currentInterpretation:(null===p||void 0===p?void 0:p.content)||i,personaId:t,onGenerateProceed:e=>V(e),onGenerateSentence:e=>K(e),currentChatMessages:null===p||void 0===p?void 0:p.messages,onRefreshThreads:q})})]}),(0,wr.jsx)(Xu,{show:I&&E.size>0,onMenuAction:async e=>{const n=Array.from(E),r=n.map((e=>{const[n,,t]=e.split("_"),r=null===p||void 0===p?void 0:p.messages.find((e=>e.timestamp===n));if(r){return r.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[parseInt(t)]||""}return""})).filter((e=>e.length>0));switch(e){case"sendToInput":if(b.current&&r.length>0){const e=r.map((e=>'"'.concat(e,'"'))).join(", ");b.current.insertText(e)}break;case"saveToVault":try{const e=[],o=[],a=[];for(const t of n){const n=j.has(t),r=P[t]||null;e.push(n),o.push(n?"yellow":null),a.push(r)}if(await Hr.saveSentencesToVault({sentences:r,source_message_id:"proceed_".concat(t),source_conversation_id:null===p||void 0===p?void 0:p.id,source_thread_id:null===p||void 0===p?void 0:p.id,source_thread_type:"proceed",source_sentence_ids:n,tags:["proceed",t],highlight_states:e,highlight_colors:o,memo_contents:a}),null!==p&&void 0!==p&&p.id)for(const t of n)await Hr.createHighlight({sentence_id:t,thread_id:p.id,thread_type:"proceed"});T((e=>new Set([...Array.from(e),...n]))),L("\uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4 (\ud558\uc774\ub77c\uc774\ud2b8/\uba54\ubaa8 \uc815\ubcf4 \ud3ec\ud568)")}catch(o){console.error("\uc800\uc7a5\uace0 \uc800\uc7a5 \uc2e4\ud328:",o),L("\uc800\uc7a5\uace0 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}break;case"addMemo":await B.handleAddMemo(n,r);break;case"highlight":if(n.length>0&&null!==p&&void 0!==p&&p.id)try{console.log("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \uc2dc\uc791:",n);const e=n.filter((e=>j.has(e))),t=n.filter((e=>!j.has(e)));if(console.log("\ud604\uc7ac \ud558\uc774\ub77c\uc774\ud2b8\ub41c \ubb38\uc7a5\ub4e4:",e),console.log("\uc544\uc9c1 \ud558\uc774\ub77c\uc774\ud2b8\ub418\uc9c0 \uc54a\uc740 \ubb38\uc7a5\ub4e4:",t),e.length>0){console.log("\uae30\uc874 \ud558\uc774\ub77c\uc774\ud2b8 \uc81c\uac70 \uc911..."),T((e=>{const t=new Set(e);return n.forEach((e=>t.delete(e))),t}));for(const e of n)try{await Hr.deleteHighlight(e)}catch(o){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c \uc2e4\ud328:",o)}L("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}else{console.log("\uc0c8 \ud558\uc774\ub77c\uc774\ud2b8 \ucd94\uac00 \uc911..."),T((e=>new Set([...Array.from(e),...n])));for(const e of n)try{await Hr.createHighlight({sentence_id:e,thread_id:p.id,thread_type:"proceed"})}catch(o){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc800\uc7a5 \uc2e4\ud328:",o)}L("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}}catch(o){console.error("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \uc2e4\ud328:",o),L("\ud558\uc774\ub77c\uc774\ud2b8 \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}break;case"copy":r.length>0&&await M(r.join(" "),"\uc120\ud0dd\ub41c \ubb38\uc7a5\uc774 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}C(new Set)},personaId:t,currentInterpretation:i})]})};var Ud,Hd,Wd,Bd,Vd,Kd;const qd=Xn.div(Ud||(Ud=s(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n"]))),Qd=Xn.div(Hd||(Hd=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),Yd=Xn.div(Wd||(Wd=s(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),Gd=Xn.div(Bd||(Bd=s(["\n  padding: 16px 20px;\n  border-top: none;\n  background: #ffffff;\n"]))),Xd=Xn.div(Vd||(Vd=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n  font-size: 14px;\n  text-align: center;\n"]))),Jd=Xn.div(Kd||(Kd=s(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background: #6c757d;\n  color: white;\n  padding: 12px 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  transform: ",";\n  transition: transform 0.3s ease;\n  font-size: 14px;\n  font-weight: 500;\n"])),(e=>e.show?"translateX(0)":"translateX(120%)")),Zd=e=>{let{personaId:t,personaName:r,sentenceContent:i,threads:s,onThreadUpdate:l,onSwitchToMode:c,onGenerateNewInterpretation:u,selectedThread:d,onRefreshThreads:f}=e;const[p,h]=(0,n.useState)(d||null),[g,m]=(0,n.useState)(!1),[v,y]=(0,n.useState)(s),x=(0,n.useRef)(null),b=(0,n.useRef)(null),[w,S]=(0,n.useState)(!1),[_,k]=(0,n.useState)(""),[E,C]=(0,n.useState)(new Set),[j,T]=(0,n.useState)(new Set),[P,A]=(0,n.useState)({}),[I,O]=(0,n.useState)(!1),[z,R]=(0,n.useState)(null),N=v.filter((e=>"sentence"===e.thread_type));(0,n.useEffect)((()=>{y(s)}),[s]),(0,n.useEffect)((()=>{d&&(console.log("\uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc \ubcc0\uacbd:",d.id),h(d),D(d.id))}),[d]);const D=async e=>{try{console.log("=== \ubb38\uc7a5 \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc2dc\uc791 ==="),console.log("\uc2a4\ub808\ub4dc ID:",e);const n=await Hr.getThreadSentenceData(e);console.log("\ub85c\ub529\ub41c \uba54\ubaa8:",Object.keys(n.memos).length,"\uac1c"),console.log("\ub85c\ub529\ub41c \ud558\uc774\ub77c\uc774\ud2b8:",n.highlights.length,"\uac1c"),A(n.memos),T(new Set(n.highlights)),console.log("=== \ubb38\uc7a5 \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc644\ub8cc ===")}catch(n){console.error("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \ub85c\ub529 \uc2e4\ud328:",n),A({}),T(new Set)}};(0,n.useEffect)((()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)}),[null===p||void 0===p?void 0:p.messages]);const L=e=>{k(e),S(!0),setTimeout((()=>S(!1)),3e3)},M=async(e,n)=>{try{await navigator.clipboard.writeText(e),L(n)}catch(t){console.error("\ubcf5\uc0ac \uc2e4\ud328:",t),L("\ubcf5\uc0ac \uc2e4\ud328")}},$=async e=>{await M(e,"\uba54\uc2dc\uc9c0\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")},F=()=>{R(null)},U=e=>{C((n=>{const t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t}))},H=async(e,n)=>{const[r,,a]=e.split("_");let i="";if(null!==p&&void 0!==p&&p.messages){const e=p.messages.find((e=>e.timestamp===r));if(e){i=e.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[parseInt(a)]||""}}try{const r=P[e];await Hr.createOrUpdateMemo({sentence_id:e,thread_id:null===p||void 0===p?void 0:p.id,thread_type:"sentence",content:n,sentence_content:i,source_message_id:"sentence_".concat(t),persona_id:t,tags:["sentence",...t?[t]:[]],source_conversation_id:null===p||void 0===p?void 0:p.id,source_thread_id:null===p||void 0===p?void 0:p.id,is_update:!!r}),A((t=>(0,o.A)((0,o.A)({},t),{},{[e]:n}))),L("\uba54\ubaa8\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(s){throw console.error("\uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328:",s),L("\uba54\ubaa8 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),s}},W=async e=>{try{await Hr.deleteMemo(e),A((n=>{const t=(0,o.A)({},n);return delete t[e],t})),T((n=>{const t=new Set(n);return t.delete(e),t})),L("\uba54\ubaa8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328:",n),L("\uba54\ubaa8 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}},B=pd({personaId:t||"",threadType:"sentence",selectedThread:p,memos:P,highlightedSentences:j,setMemos:A,setHighlightedSentences:T}),V=async e=>{if(t)if(e)try{(await a.chatApi.saveCurrentAsInterpretation(t,e)).data?(f&&f(),L("\uba54\uc2dc\uc9c0\uac00 \ud574\uc11d \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):L("\ud574\uc11d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ud574\uc11d \uc800\uc7a5 \uc911 \uc624\ub958:",n),L("\ud574\uc11d \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else L("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")},K=async e=>{if(t)if(e)try{if((await a.chatApi.saveCurrentAsProceed(t,e)).data){if(l)try{const e=await a.chatApi.getPersonaThreads(t);e.data&&l(e.data)}catch(n){console.error("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",n)}L("\uba54\uc2dc\uc9c0\uac00 \ub098\uc544\uac00\uae30 \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}else L("\ub098\uc544\uac00\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ub098\uc544\uac00\uae30 \uc800\uc7a5 \uc911 \uc624\ub958:",n),L("\ub098\uc544\uac00\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else L("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")},q=async e=>{if(t)if(e)try{(await a.chatApi.saveCurrentAsSentence(t,e)).data?(Q(),L("\uba54\uc2dc\uc9c0\uac00 \ubb38\uc7a5 \uc2a4\ub808\ub4dc\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")):L("\ubb38\uc7a5 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\ubb38\uc7a5 \uc800\uc7a5 \uc911 \uc624\ub958:",n),L("\ubb38\uc7a5 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}else L("\uc800\uc7a5\ud560 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")},Q=async()=>{try{const e=await a.chatApi.getPersonaThreads(t);if(e.data){const n=e.data;y(n),l(n);const t=n.filter((e=>"sentence"===e.thread_type)).sort(((e,n)=>new Date(n.created_at).getTime()-new Date(e.created_at).getTime()))[0];!t||p&&t.id===p.id||(h(t),L("\uc0c8\ub85c\uc6b4 \ubb38\uc7a5\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))}}catch(e){console.error("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",e)}};return(0,wr.jsxs)(qd,{children:[(0,wr.jsx)(Jd,{show:w,children:_}),(0,wr.jsxs)(Qd,{children:[(0,wr.jsxs)(Yd,{ref:x,children:[p&&0!==p.messages.length?p.messages.map(((e,n)=>"user"===e.role?(0,wr.jsx)(ci,{message:(0,o.A)((0,o.A)({},e),{},{persona_id:void 0,persona_name:void 0}),personas:{},showActionButtons:!0,onCopy:()=>$(e.content),onEdit:()=>{R(n)},isEditing:z===n,onEditSave:e=>(async(e,n)=>{if(null===p||void 0===p||!p.id)return L("\uc2a4\ub808\ub4dc\uac00 \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4"),!1;try{var t;m(!0);const r=await a.chatApi.editThreadMessage(p.id,e,n);if(null!==(t=r.data)&&void 0!==t&&t.success&&r.data.updated_thread){h(r.data.updated_thread);const e=v.map((e=>e.id===p.id?r.data.updated_thread:e));return y(e),l(e),R(null),L("\uba54\uc2dc\uc9c0\uac00 \uc218\uc815\ub418\uace0 \uc0c8\ub85c\uc6b4 \uc751\ub2f5\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),m(!1),!0}return console.error("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc2e4\ud328:",r.error),L("\uba54\uc2dc\uc9c0 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),m(!1),!1}catch(r){return console.error("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc624\ub958:",r),L("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"),m(!1),!1}})(n,e),onEditCancel:F},"sentence_".concat(n)):(0,wr.jsx)(Fu,{message:(0,o.A)((0,o.A)({},e),{},{persona_id:"current_persona",persona_name:r}),personas:{current_persona:{name:r,description:"",color:"#4caf50",prompt:"",category:"",subcategory:""}},selectedSentences:I?E:new Set,highlightedSentences:j,memos:P,onToggleSelect:I?U:()=>{},onMemoChange:H,onDeleteMemo:W,showSentenceSelector:I,showActionButtons:!0,onCopy:()=>$(e.content),onSunAction:V,onPersonAction:K,onDocumentAction:q},"sentence_".concat(n)))):(0,wr.jsxs)(Xd,{children:[(0,wr.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"\ud83d\udcdd"}),(0,wr.jsx)("div",{children:"\ubb38\uc7a5\uc5d0 \ub300\ud574 \ub354 \uc790\uc138\ud788 \uc9c8\ubb38\ud574\ubcf4\uc138\uc694"}),(0,wr.jsxs)("div",{style:{fontSize:"12px",marginTop:"4px"},children:[r,"\uc640 \ub300\ud654\ub97c \ub098\ub20c \uc218 \uc788\uc2b5\ub2c8\ub2e4"]})]}),g&&(0,wr.jsx)(ud,{personaName:r,personaColor:"#4caf50",customMessage:"\uc751\ub2f5 \uc0dd\uc131\uc911..."})]}),(0,wr.jsx)(Gd,{children:(0,wr.jsx)(_c,{ref:b,onSendMessage:async e=>{let n=p;if(!n){const e=N[0];if(e)n=e,h(n);else{const e={id:"sentence_default_".concat(t),persona_id:t,thread_type:"sentence",content:i,messages:[{role:"assistant",content:i,timestamp:(new Date).toISOString(),persona_id:t,persona_name:r}],created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n=e,h(n);const o=[...v,e];y(o),l(o)}}const s={role:"user",content:e,timestamp:(new Date).toISOString()},c=(0,o.A)((0,o.A)({},n),{},{messages:[...n.messages,s],updated_at:(new Date).toISOString()});h(c),m(!0);try{const i=await a.chatApi.chatWithThread({thread_id:n.id,user_message:e});if(i.data&&i.data.response){const e={role:"assistant",content:i.data.response.content,timestamp:i.data.response.timestamp,persona_id:i.data.response.persona_id||t,persona_name:i.data.response.persona_name||r},a=(0,o.A)((0,o.A)({},c),{},{messages:[...c.messages,e],updated_at:i.data.thread_updated_at||(new Date).toISOString()});h(a);const s=v.map((e=>e.id===n.id?a:e));return y(s),l(s),m(!1),!0}return console.error("\ubb38\uc7a5 \ucc44\ud305 \uc751\ub2f5 \uc624\ub958:",i),m(!1),!1}catch(u){return console.error("\ubb38\uc7a5 \ucc44\ud305 \uc624\ub958:",u),m(!1),!1}},disabled:g,placeholder:"".concat(r,"\uc5d0\uac8c \ubb38\uc7a5\uc5d0 \ub300\ud574 \uc9c8\ubb38\ud574\ubcf4\uc138\uc694..."),onToggleSentenceMode:()=>{O((e=>!e))},isSentenceModeActive:I,hasSelectedSentences:E.size>0,currentInterpretation:(null===p||void 0===p?void 0:p.content)||i,personaId:t,onGenerateProceed:K,onGenerateSentence:q,currentChatMessages:null===p||void 0===p?void 0:p.messages,onRefreshThreads:Q})})]}),(0,wr.jsx)(Xu,{show:I&&E.size>0,onMenuAction:async e=>{const n=Array.from(E),r=n.map((e=>{const[n,,t]=e.split("_"),r=null===p||void 0===p?void 0:p.messages.find((e=>e.timestamp===n));if(r){return r.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[parseInt(t)]||""}return""})).filter((e=>e.length>0));switch(e){case"sendToInput":if(b.current&&r.length>0){const e=r.map((e=>'"'.concat(e,'"'))).join(", ");b.current.insertText(e)}break;case"saveToVault":try{const e=[],o=[],a=[];for(const t of n){const n=j.has(t),r=P[t]||null;e.push(n),o.push(n?"yellow":null),a.push(r)}if(await Hr.saveSentencesToVault({sentences:r,source_message_id:"sentence_".concat(t),source_conversation_id:null===p||void 0===p?void 0:p.id,source_thread_id:null===p||void 0===p?void 0:p.id,source_thread_type:"sentence",source_sentence_ids:n,tags:["sentence",t],highlight_states:e,highlight_colors:o,memo_contents:a}),null!==p&&void 0!==p&&p.id)for(const t of n)await Hr.createHighlight({sentence_id:t,thread_id:p.id,thread_type:"sentence"});T((e=>new Set([...Array.from(e),...n]))),L("\uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4 (\ud558\uc774\ub77c\uc774\ud2b8/\uba54\ubaa8 \uc815\ubcf4 \ud3ec\ud568)")}catch(o){console.error("\uc800\uc7a5\uace0 \uc800\uc7a5 \uc2e4\ud328:",o),L("\uc800\uc7a5\uace0 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}break;case"addMemo":await B.handleAddMemo(n,r);break;case"highlight":if(n.length>0&&null!==p&&void 0!==p&&p.id)try{console.log("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \uc2dc\uc791:",n);const e=n.filter((e=>j.has(e))),t=n.filter((e=>!j.has(e)));if(console.log("\ud604\uc7ac \ud558\uc774\ub77c\uc774\ud2b8\ub41c \ubb38\uc7a5\ub4e4:",e),console.log("\uc544\uc9c1 \ud558\uc774\ub77c\uc774\ud2b8\ub418\uc9c0 \uc54a\uc740 \ubb38\uc7a5\ub4e4:",t),e.length>0){console.log("\uae30\uc874 \ud558\uc774\ub77c\uc774\ud2b8 \uc81c\uac70 \uc911..."),T((e=>{const t=new Set(e);return n.forEach((e=>t.delete(e))),t}));for(const e of n)try{await Hr.deleteHighlight(e)}catch(o){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c \uc2e4\ud328:",o)}L("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}else{console.log("\uc0c8 \ud558\uc774\ub77c\uc774\ud2b8 \ucd94\uac00 \uc911..."),T((e=>new Set([...Array.from(e),...n])));for(const e of n)try{await Hr.createHighlight({sentence_id:e,thread_id:p.id,thread_type:"sentence"})}catch(o){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc800\uc7a5 \uc2e4\ud328:",o)}L("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}}catch(o){console.error("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \uc2e4\ud328:",o),L("\ud558\uc774\ub77c\uc774\ud2b8 \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}break;case"copy":r.length>0&&await M(r.join(" "),"\uc120\ud0dd\ub41c \ubb38\uc7a5\uc774 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}C(new Set)},personaId:t,currentInterpretation:i})]})},ef={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",nf=Nl.create({baseURL:ef,headers:{"Content-Type":"application/json"}}),tf={async getPersonaInfo(){try{return{data:(await nf.get("/admin/personas/info")).data}}catch(t){var e,n;return{error:(null===(e=t.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||"\ud398\ub974\uc18c\ub098 \uc815\ubcf4 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}}},async reloadPersonas(){try{return{data:(await nf.post("/admin/personas/reload")).data}}catch(t){var e,n;return{error:(null===(e=t.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||"\ud398\ub974\uc18c\ub098 \uc7ac\ub85c\ub529\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}}},getDownloadUrl:()=>"".concat(ef,"/admin/personas/csv"),async uploadPersonasCSV(e){try{const n=new FormData;n.append("file",e);return{data:(await nf.post("/admin/personas/upload",n,{headers:{"Content-Type":"multipart/form-data"}})).data}}catch(r){var n,t;return{error:(null===(n=r.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.detail)||"CSV \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}}}};var rf,of,af,sf,lf,cf,uf,df,ff,pf,hf,gf,mf,vf;const yf=Xn.div(rf||(rf=s(["\n  padding: 24px;\n  height: 100%;\n  overflow-y: auto;\n  background: #f8f9fa;\n"]))),xf=Xn.div(of||(of=s(["\n  margin-bottom: 24px;\n  text-align: center;\n"]))),bf=Xn.h2(af||(af=s(["\n  font-size: 24px;\n  font-weight: 700;\n  color: #333;\n  margin-bottom: 8px;\n"]))),wf=Xn.p(sf||(sf=s(["\n  font-size: 14px;\n  color: #666;\n"]))),Sf=Xn.div(lf||(lf=s(["\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n"]))),_f=Xn.h3(cf||(cf=s(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),kf=Xn.div(uf||(uf=s(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 12px;\n  margin-bottom: 16px;\n"]))),Ef=Xn.div(df||(df=s(["\n  text-align: center;\n  padding: 12px;\n  background: #f8f9fa;\n  border-radius: 8px;\n"]))),Cf=Xn.div(ff||(ff=s(["\n  font-size: 12px;\n  color: #666;\n  margin-bottom: 4px;\n"]))),jf=Xn.div(pf||(pf=s(["\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n"]))),Tf=Xn.button(hf||(hf=s(["\n  padding: 12px 20px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  border: none;\n  cursor: pointer;\n  margin: 4px;\n  transition: all 0.2s ease;\n  \n  ","\n"])),(e=>{switch(e.variant){case"primary":return"\n          background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);\n          color: white;\n          &:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(108, 117, 125, 0.4); }\n        ";case"danger":return"\n          background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);\n          color: white;\n          &:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4); }\n        ";default:return"\n          background: #f5f5f5;\n          color: #666;\n          &:hover { background: #e8e8e8; }\n        "}})),Pf=Xn.input(gf||(gf=s(["\n  display: none;\n"]))),Af=Xn.label(mf||(mf=s(["\n  display: inline-block;\n  padding: 12px 20px;\n  background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);\n  color: white;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  margin: 4px;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(78, 205, 196, 0.4);\n  }\n"]))),If=Xn.div(vf||(vf=s(["\n  padding: 12px 16px;\n  border-radius: 8px;\n  margin: 12px 0;\n  font-size: 14px;\n  \n  ","\n"])),(e=>{switch(e.type){case"success":return"background: #d4edda; color: #155724; border: 1px solid #c3e6cb;";case"error":return"background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;";default:return"background: #cce7ff; color: #004085; border: 1px solid #99d5ff;"}})),Of=e=>{let{onClose:t}=e;const[r,o]=(0,n.useState)(null),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),c=async()=>{i(!0);const e=await tf.getPersonaInfo();e.data?o(e.data):l({text:e.error||"\uc815\ubcf4 \ub85c\ub529 \uc2e4\ud328",type:"error"}),i(!1)};(0,n.useEffect)((()=>{c()}),[]);return(0,wr.jsxs)(yf,{children:[(0,wr.jsxs)(xf,{children:[(0,wr.jsx)(bf,{children:"\ud83d\udee0\ufe0f \ud398\ub974\uc18c\ub098 \uad00\ub9ac \ub3c4\uad6c"}),(0,wr.jsx)(wf,{children:"CSV \ud30c\uc77c\uc744 \ud1b5\ud574 \ud398\ub974\uc18c\ub098\ub97c \uad00\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]}),s&&(0,wr.jsx)(If,{type:s.type,children:s.text}),r&&(0,wr.jsxs)(Sf,{children:[(0,wr.jsx)(_f,{children:"\ud83d\udcca \ud604\uc7ac \uc0c1\ud0dc"}),(0,wr.jsxs)(kf,{children:[(0,wr.jsxs)(Ef,{children:[(0,wr.jsx)(Cf,{children:"\uc804\uccb4 \ud398\ub974\uc18c\ub098"}),(0,wr.jsx)(jf,{children:r.total_personas})]}),(0,wr.jsxs)(Ef,{children:[(0,wr.jsx)(Cf,{children:"\ud65c\uc131 \ud398\ub974\uc18c\ub098"}),(0,wr.jsx)(jf,{children:r.active_personas})]}),(0,wr.jsxs)(Ef,{children:[(0,wr.jsx)(Cf,{children:"\ube44\ud65c\uc131 \ud398\ub974\uc18c\ub098"}),(0,wr.jsx)(jf,{children:r.inactive_personas})]})]}),r.categories&&(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(Cf,{style:{marginTop:"12px",marginBottom:"8px"},children:"\uce74\ud14c\uace0\ub9ac\ubcc4 \ubd84\ud3ec"}),(0,wr.jsx)(kf,{children:Object.entries(r.categories).map((e=>{let[n,t]=e;return(0,wr.jsxs)(Ef,{children:[(0,wr.jsx)(Cf,{children:n}),(0,wr.jsx)(jf,{children:String(t)})]},n)}))})]})]}),(0,wr.jsxs)(Sf,{children:[(0,wr.jsx)(_f,{children:"\ud83d\udd27 \uad00\ub9ac \uc791\uc5c5"}),(0,wr.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,wr.jsx)(Tf,{variant:"secondary",onClick:()=>{const e=tf.getDownloadUrl(),n=document.createElement("a");n.href=e,n.download="personas.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n)},children:"\ud83d\udce5 CSV \ub2e4\uc6b4\ub85c\ub4dc"}),(0,wr.jsx)(Af,{htmlFor:"csvUpload",children:"\ud83d\udce4 CSV \uc5c5\ub85c\ub4dc"}),(0,wr.jsx)(Pf,{id:"csvUpload",type:"file",accept:".csv",onChange:async e=>{var n;const t=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!t)return;if(!t.name.endsWith(".csv"))return void l({text:"CSV \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",type:"error"});i(!0),l({text:"CSV \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud558\uace0 \ud398\ub974\uc18c\ub098\ub97c \uc7ac\ub85c\ub529 \uc911\uc785\ub2c8\ub2e4...",type:"info"});const r=await tf.uploadPersonasCSV(t);r.data?(l({text:"\uc5c5\ub85c\ub4dc \uc644\ub8cc! ".concat(r.data.uploaded_personas,"\uac1c\uc758 \ud398\ub974\uc18c\ub098\uac00 \ub85c\ub529\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),type:"success"}),await c()):l({text:r.error||"\uc5c5\ub85c\ub4dc \uc2e4\ud328",type:"error"}),i(!1),e.target.value=""}}),(0,wr.jsx)(Tf,{variant:"primary",onClick:async()=>{i(!0),l({text:"\ud398\ub974\uc18c\ub098\ub97c \uc7ac\ub85c\ub529 \uc911\uc785\ub2c8\ub2e4...",type:"info"});const e=await tf.reloadPersonas();e.data?(l({text:"\ud398\ub974\uc18c\ub098\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc7ac\ub85c\ub529\ub418\uc5c8\uc2b5\ub2c8\ub2e4!",type:"success"}),await c()):l({text:e.error||"\uc7ac\ub85c\ub529 \uc2e4\ud328",type:"error"}),i(!1)},disabled:a,children:"\ud83d\udd04 \uc7ac\ub85c\ub529"})]}),(0,wr.jsxs)("div",{style:{padding:"16px",background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",fontSize:"13px",lineHeight:"1.5"},children:[(0,wr.jsx)("strong",{children:"\ud83d\udca1 \uc0ac\uc6a9 \ubc29\ubc95:"}),(0,wr.jsx)("br",{}),"1. CSV \ub2e4\uc6b4\ub85c\ub4dc \u2192 Excel\uc5d0\uc11c \ud3b8\uc9d1 \u2192 CSV\ub85c \uc800\uc7a5 \u2192 \uc5c5\ub85c\ub4dc",(0,wr.jsx)("br",{}),"2. \ub610\ub294 \uc11c\ubc84\uc758 ",(0,wr.jsx)("code",{children:"data/personas.csv"})," \uc9c1\uc811 \uc218\uc815 \u2192 \uc7ac\ub85c\ub529"]})]}),(0,wr.jsx)("div",{style:{textAlign:"center",marginTop:"24px"},children:(0,wr.jsx)(Tf,{variant:"secondary",onClick:t,children:"\u2190 \ub3cc\uc544\uac00\uae30"})})]})};var zf;const Rf=Xn.div(zf||(zf=s(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n"]))),Nf=()=>(0,wr.jsx)(Rf,{});var Df,Lf,Mf,$f,Ff,Uf,Hf,Wf,Bf,Vf;const Kf=Xn.div(Df||(Df=s(["\n  flex: 1;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),qf=Xn.div(Lf||(Lf=s(["\n  padding: 20px;\n  border-bottom: 1px solid #e0e0e0;\n  background: #f8f9fa;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Qf=Xn.h2(Mf||(Mf=s(["\n  font-size: 24px;\n  font-weight: 600;\n  color: #333;\n  margin: 0;\n"]))),Yf=Xn.button($f||($f=s(["\n  padding: 10px 20px;\n  background: linear-gradient(90deg, #ffffff 0%, #f0f0f0 100%);\n  border: 1px solid #ccc;\n  border-radius: 12px;\n  color: #333;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  \n  &:hover {\n    background: linear-gradient(90deg, #f8f8f8 0%, #e8e8e8 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\n  }\n  \n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n"]))),Gf=Xn.div(Ff||(Ff=s(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n"]))),Xf=Xn.div(Uf||(Uf=s(["\n  max-width: 800px;\n  margin: 0 auto;\n"]))),Jf=Xn.div(Hf||(Hf=s(["\n  margin-bottom: 20px;\n  padding: 16px 20px;\n  border-radius: ",";\n  background: ",";\n  color: #333;\n  line-height: 1.6;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  align-self: ",";\n  max-width: 70%;\n  ","\n"])),(e=>e.$isUser?"20px 20px 4px 20px":"20px 20px 20px 4px"),(e=>e.$isUser?"#f0f8ff":"#f8f9fa"),(e=>e.$isUser?"flex-end":"flex-start"),(e=>e.$isUser?"margin-left: auto;":"margin-right: auto;")),Zf=Xn.div(Wf||(Wf=s(["\n  font-size: 12px;\n  color: #666;\n  margin-bottom: 8px;\n  text-align: ",";\n"])),(e=>e.$isUser?"right":"left")),ep=Xn.div(Bf||(Bf=s(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 300px;\n  color: #666;\n  text-align: center;\n"]))),np=Xn.div(Vf||(Vf=s(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  color: #666;\n"]))),tp=e=>{switch(e){case"interpretation":return"\ud574\uc11d";case"proceed":return"\ub098\uc544\uac00\uae30";case"sentence":return"\ubb38\uc7a5";case"verbalization":return"\uc5b8\uc5b4\ud654";default:return e}},rp=e=>{let{personas:t,onSelectPersona:r,onThreadSelect:i,selectedThreadId:s,selectedPersonaId:l}=e;const[c,u]=(0,n.useState)(null),[d,f]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{if(s&&l){f(!0);try{let e;if("verbalization"===l){if(e=await a.chatApi.getVerbalizationThreads(),e.data){const n=e.data.find((e=>e.id===s));n&&u((0,o.A)((0,o.A)({},n),{},{persona_id:"verbalization",persona_name:"\uc5b8\uc5b4\ud654"}))}}else if(e=await a.chatApi.getPersonaThreads(l),e.data){const n=e.data.find((e=>e.id===s));if(n){const e=t[l];u((0,o.A)((0,o.A)({},n),{},{persona_id:l,persona_name:(null===e||void 0===e?void 0:e.name)||"\uc54c \uc218 \uc5c6\uc74c"}))}}}catch(e){console.error("\uc2a4\ub808\ub4dc \ub85c\ub4dc \uc2e4\ud328:",e)}finally{f(!1)}}else u(null)})()}),[s,l,t]);return d?(0,wr.jsx)(Kf,{children:(0,wr.jsx)(np,{children:"\ub300\ud654\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."})}):(0,wr.jsxs)(Kf,{children:[(0,wr.jsxs)(qf,{children:[(0,wr.jsx)(Qf,{children:c?"".concat(c.persona_name," - ").concat(tp(c.thread_type)):"\ucd5c\uadfc \uc0c1\ud638\uc791\uc6a9"}),c&&(0,wr.jsx)(Yf,{onClick:()=>{c&&i(c,c.persona_id)},children:"\ud574\ub2f9 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9"})]}),(0,wr.jsx)(Gf,{children:c?(0,wr.jsx)(Xf,{children:c.messages&&c.messages.length>0?c.messages.map(((e,n)=>{return(0,wr.jsxs)("div",{children:[(0,wr.jsxs)(Zf,{$isUser:"user"===e.role,children:["user"===e.role?"\uc0ac\uc6a9\uc790":c.persona_name," \u2022 ",(t=e.timestamp,new Date(t).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]}),(0,wr.jsx)(Jf,{$isUser:"user"===e.role,children:e.content})]},n);var t})):(0,wr.jsx)(Jf,{$isUser:!1,children:c.content||"\ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})}):(0,wr.jsxs)(ep,{children:[(0,wr.jsx)("h3",{children:"\ub300\ud654\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"}),(0,wr.jsx)("p",{children:"\uc67c\ucabd \uc0ac\uc774\ub4dc\ubc14\uc5d0\uc11c \ubcf4\uace0 \uc2f6\uc740 \ub300\ud654\ub97c \ud074\ub9ad\ud558\uc138\uc694."})]})})]})};var op,ap,ip,sp,lp,cp,up,dp,fp,pp;const hp=Xn.div(op||(op=s(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n"]))),gp=Xn.div(ap||(ap=s(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid #e0e0e0;\n  background: #f8f9fa;\n"]))),mp=Xn.h2(ip||(ip=s(["\n  font-size: 24px;\n  font-weight: 700;\n  color: #343a40;\n  margin: 0;\n"]))),vp=Xn.button(sp||(sp=s(["\n  background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  padding: 10px 20px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 4px rgba(108, 117, 125, 0.2);\n\n  &:hover {\n    background: linear-gradient(135deg, #5a6268 0%, #495057 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px rgba(108, 117, 125, 0.2);\n  }\n"]))),yp=Xn.div(lp||(lp=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),xp=Xn.div(cp||(cp=s(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),bp=Xn.div(up||(up=s(["\n  padding: 16px 20px;\n  border-top: none;\n  background: #ffffff;\n"]))),wp=Xn.div(dp||(dp=s(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n  font-size: 14px;\n  text-align: center;\n  line-height: 1.6;\n"]))),Sp=Xn.div(fp||(fp=s(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),_p=Xn.div(pp||(pp=s(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background: #6c757d;\n  color: white;\n  padding: 12px 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  transform: ",";\n  transition: transform 0.3s ease;\n  font-size: 14px;\n  font-weight: 500;\n"])),(e=>e.show?"translateX(0)":"translateX(120%)")),kp=e=>{let{selectedThread:t,threads:r,onThreadUpdate:i,onCreateNewThread:s}=e;const[l,c]=(0,n.useState)(!1),u=(0,n.useRef)(null),d=(0,n.useRef)(null),[f,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)(""),[m,v]=(0,n.useState)(null),[y,x]=(0,n.useState)(!1),[b,w]=(0,n.useState)(new Set),[S,_]=(0,n.useState)(new Set),[k,E]=(0,n.useState)({}),[C,j]=(0,n.useState)(""),[T,P]=(0,n.useState)(!1),[A,I]=(0,n.useState)([]),O=hd(null===t||void 0===t?void 0:t.id),z=async e=>{try{console.log("=== \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc2dc\uc791 ==="),console.log("\uc2a4\ub808\ub4dc ID:",e);const n=await Hr.getThreadSentenceData(e);console.log("\ub85c\ub529\ub41c \uba54\ubaa8:",Object.keys(n.memos).length,"\uac1c"),console.log("\ub85c\ub529\ub41c \ud558\uc774\ub77c\uc774\ud2b8:",n.highlights.length,"\uac1c"),E(n.memos),_(new Set(n.highlights)),console.log("=== \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ub370\uc774\ud130 \ub85c\ub529 \uc644\ub8cc ===")}catch(n){console.error("\uc2a4\ub808\ub4dc \ubb38\uc7a5 \ub370\uc774\ud130 \ub85c\ub529 \uc2e4\ud328:",n),E({}),_(new Set)}};(0,n.useEffect)((()=>{if(console.log("=== \uc5b8\uc5b4\ud654 selectedThread \ubcc0\uacbd ==="),console.log("selectedThread:",t),console.log("selectedThread.messages:",null===t||void 0===t?void 0:t.messages),t){const e=t.messages||[];console.log("\uc2a4\ub808\ub4dc \uba54\uc2dc\uc9c0\ub4e4:",e.map((e=>{var n;return{role:e.role,content:(null===(n=e.content)||void 0===n?void 0:n.substring(0,50))+"...",timestamp:e.timestamp}}))),I(e),z(t.id)}else console.log("selectedThread\uac00 \uc5c6\uc74c - localMessages \ucd08\uae30\ud654"),I([]),E({}),_(new Set)}),[t]),(0,n.useEffect)((()=>{null!==t&&void 0!==t&&t.id&&(console.log("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ubcc0\uacbd\ub428:",t.id),z(t.id))}),[null===t||void 0===t?void 0:t.id]),(0,n.useEffect)((()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)}),[A,l]);const R=e=>{g(e),p(!0),setTimeout((()=>p(!1)),3e3)},N=async(e,n)=>{try{await navigator.clipboard.writeText(e),R(n)}catch(t){console.error("\ubcf5\uc0ac \uc2e4\ud328:",t),R("\ubcf5\uc0ac \uc2e4\ud328")}},D=()=>{v(null)},L=()=>{const e=window.getSelection();if(e&&e.toString().trim()){const n=e.toString().trim();j(n),P(!0)}else j(""),P(!1)},M=()=>{var e;(j(""),P(!1),window.getSelection)&&(null===(e=window.getSelection())||void 0===e||e.removeAllRanges())};(0,n.useEffect)((()=>{const e=u.current;if(e){const n=()=>{setTimeout(L,10)};return e.addEventListener("mouseup",n),e.addEventListener("touchend",n),()=>{e.removeEventListener("mouseup",n),e.removeEventListener("touchend",n)}}}),[]),(0,n.useEffect)((()=>{const e=e=>{const n=e.target;!u.current||u.current.contains(n)||n.closest("[data-fab]")||M()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const $=e=>{console.log("handleToggleSelect \uc2dc\uc791:",e),console.log("\ud604\uc7ac selectedSentences:",Array.from(b)),w((n=>{const t=new Set(n);return t.has(e)?(t.delete(e),console.log("\ubb38\uc7a5 \uc120\ud0dd \ud574\uc81c:",e)):(t.add(e),console.log("\ubb38\uc7a5 \uc120\ud0dd \ucd94\uac00:",e)),console.log("\uc0c8\ub85c\uc6b4 selectedSentences:",Array.from(t)),t}))},F=async(e,n)=>{console.log("=== \uc5b8\uc5b4\ud654 \uba54\ubaa8 \uc800\uc7a5 \uc2dc\uc791 ==="),console.log("\ubb38\uc7a5 ID:",e),console.log("\uba54\ubaa8 \ub0b4\uc6a9:",n),console.log("\uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc:",null===t||void 0===t?void 0:t.id);const[r,,a]=e.split("_");let i="";if(null!==t&&void 0!==t&&t.messages){const e=t.messages.find((e=>e.timestamp===r));if(e){i=e.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[parseInt(a)]||""}}if(null===t||void 0===t||!t.id)throw console.error("\uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc\uac00 \uc5c6\uc74c"),new Error("\uc2a4\ub808\ub4dc \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4");try{null!==O&&void 0!==O&&O.handleMemoChange?await O.handleMemoChange(e,n,t.id,"verbalization"):(await Hr.createOrUpdateMemo({sentence_id:e,thread_id:t.id,thread_type:"verbalization",content:n,sentence_content:i,source_message_id:"verbalization_chat",persona_id:"verbalization",tags:["verbalization"],source_conversation_id:t.id,source_thread_id:t.id}),E((t=>(0,o.A)((0,o.A)({},t),{},{[e]:n})))),console.log("\uc5b8\uc5b4\ud654 \uba54\ubaa8 \uc800\uc7a5 \uc131\uacf5"),R("\uba54\ubaa8\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(s){throw console.error("\uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328:",s),R("\uba54\ubaa8 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),s}},U=async e=>{try{await Hr.deleteMemo(e),E((n=>{const t=(0,o.A)({},n);return delete t[e],t})),_((n=>{const t=new Set(n);return t.delete(e),t})),R("\uba54\ubaa8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(n){console.error("\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328:",n),R("\uba54\ubaa8 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}},H=pd({personaId:"verbalization",threadType:"verbalization",selectedThread:t,memos:k,highlightedSentences:S,setMemos:E,setHighlightedSentences:_});return(0,wr.jsxs)(hp,{children:[(0,wr.jsxs)(gp,{children:[(0,wr.jsx)(mp,{children:"\uc5b8\uc5b4\ud654"}),(0,wr.jsx)(vp,{onClick:async()=>{try{console.log("=== \uc0c8 \uc2a4\ub808\ub4dc \uc0dd\uc131 \uc2dc\uc791 ==="),I([]),console.log("\uc0c8 \uc2a4\ub808\ub4dc \uc0dd\uc131 \uc911..."),await s(),R("\uc0c8 \ub300\ud654\uac00 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),console.log("\uc0c8 \uc2a4\ub808\ub4dc \uc0dd\uc131 \ubc0f \uc120\ud0dd \uc644\ub8cc")}catch(e){console.error("\uc0c8 \uc2a4\ub808\ub4dc \uc0dd\uc131 \uc624\ub958:",e),R("\uc0c8 \ub300\ud654 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},children:"\uc0c8 \ub300\ud654 \uc2dc\uc791"})]}),(0,wr.jsxs)(yp,{children:[(0,wr.jsxs)(xp,{ref:u,children:[0===A.length?(0,wr.jsxs)(wp,{children:[(0,wr.jsx)(Sp,{children:"\ud83d\udcad"}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("strong",{children:["\uc5b8\uc5b4\ud654\ub294 \ub9c9\uc5f0\ud558\uace0 \ubb54\uc9c0 \ubaa8\ub97c \uac10\uc815\uc774\ub098 \uc0dd\uac01\uc744 \ub9d0\ub85c \ud45c\ud604\ud568\uc73c\ub85c\uc368",(0,wr.jsx)("br",{}),"\uadf8\uac83\uc744 \uc778\uc2dd\ud558\uace0 \ub9cc\ub4e4\uc5b4 \uac00\ub294 \uac83\uc785\ub2c8\ub2e4."]}),(0,wr.jsx)("br",{}),(0,wr.jsx)("br",{}),"\uc790\uc720\ub86d\uac8c \ub2f9\uc2e0\uc758 \uc0dd\uac01\uc744 \ub9d0\ub85c \ub0b4\ubc49\uc73c\uc138\uc694!",(0,wr.jsx)("br",{}),(0,wr.jsx)("br",{}),"\uc5b4\ub5a4 \uac83\uc774\ub4e0 \uc88b\uc2b5\ub2c8\ub2e4. \uc9c0\uae08 \ub290\ub07c\uace0 \uc788\ub294 \uac10\uc815\uc774\ub098 \uc0dd\uac01\uc744 \ud3b8\uc548\ud558\uac8c \ub9d0\uc500\ud574 \uc8fc\uc138\uc694."]})]}):A.map(((e,n)=>{const t="assistant"===e.role;return y&&t?(0,wr.jsx)(Fu,{message:e,messageIndex:n,personas:{},selectedSentences:b,highlightedSentences:S,memos:k,onToggleSelect:$,onMemoChange:F,onDeleteMemo:U,showSentenceSelector:!0},"".concat(e.role,"-").concat(n)):(0,wr.jsx)(ci,{message:e,personas:{},showActionButtons:!0,showThreeActionButtons:!1,onCopy:()=>(async e=>{await N(e,"\uba54\uc2dc\uc9c0\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")})(e.content),onEdit:"user"===e.role?()=>{v(n)}:void 0,onEditSave:e=>(async()=>!1)(),onEditCancel:D,isEditing:m===n},"".concat(e.role,"-").concat(n))})),l&&(0,wr.jsx)(ud,{personaName:"\uc5b8\uc5b4\ud654 \ub3c4\uc6b0\ubbf8",personaColor:"#666"})]}),(0,wr.jsx)(bp,{children:(0,wr.jsx)(_c,{ref:d,onSendMessage:async e=>{if(!e.trim()||l)return!1;const n={role:"user",content:e.trim(),timestamp:(new Date).toISOString()};I((e=>[...e,n])),c(!0);try{console.log("=== \uc5b8\uc5b4\ud654 \uba54\uc2dc\uc9c0 \uc804\uc1a1 ==="),console.log("selectedThread:",t),console.log("message:",e);const n=await a.chatApi.chatWithVerbalization(e,null===t||void 0===t?void 0:t.id);if(console.log("API \uc751\ub2f5 \uc804\uccb4:",n),console.log("\uc751\ub2f5 \ub370\uc774\ud130:",n.data),console.log("\uc751\ub2f5 \uc5d0\ub7ec:",n.error),n.data){console.log("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc131\uacf5"),console.log("\uc751\ub2f5 \uad6c\uc870:",{thread_id:n.data.thread_id,user_message:n.data.user_message,response:n.data.response,thread_updated_at:n.data.thread_updated_at});const e={role:"assistant",content:n.data.response.content,timestamp:n.data.response.timestamp,persona_name:"\uc5b8\uc5b4\ud654 \ub3c4\uc6b0\ubbf8",persona_id:"verbalization"};return console.log("\uc0dd\uc131\ub41c assistant \uba54\uc2dc\uc9c0:",e),I((n=>[...n,e])),console.log("\uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8 \uc2dc\uc791"),await i(),console.log("\uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc"),!t&&n.data.thread_id&&(console.log("\uc0c8 \uc2a4\ub808\ub4dc \uc0dd\uc131\ub428, \uc120\ud0dd \uc5c5\ub370\uc774\ud2b8 \ud544\uc694:",n.data.thread_id),setTimeout((async()=>{console.log("\uc9c0\uc5f0\ub41c \uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8 \uc2dc\uc791"),await i(),console.log("\uc9c0\uc5f0\ub41c \uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc")}),100)),setTimeout((()=>{console.log("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \ud6c4 \ub3d9\uae30\ud654 \uccb4\ud06c \ubc0f \uac15\uc81c \ub3d9\uae30\ud654"),console.log("\ud604\uc7ac selectedThread:",t),console.log("\ud604\uc7ac localMessages \uc218:",A.length),t&&t.messages&&(console.log("\uac15\uc81c \ub3d9\uae30\ud654 \uc2e4\ud589 - selectedThread.messages \uc218:",t.messages.length),console.log("selectedThread.messages:",t.messages.map((e=>{var n;return{role:e.role,content:(null===(n=e.content)||void 0===n?void 0:n.substring(0,50))+"...",timestamp:e.timestamp}}))),I([...t.messages]),console.log("\uac15\uc81c \ub3d9\uae30\ud654 \uc644\ub8cc"))}),300),!0}return I((e=>e.slice(0,-1))),console.error("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc2e4\ud328:",n.error),R("\uc5b8\uc5b4\ud654 \ucc44\ud305 \uc2e4\ud328: ".concat(n.error)),!1}catch(r){return I((e=>e.slice(0,-1))),console.error("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc624\ub958:",r),R("\ub124\ud2b8\uc6cc\ud06c \uc624\ub958: ".concat(r)),!1}finally{c(!1)}},disabled:l,placeholder:"\uc5b8\uc5b4\ud654\ub294 \ub9c9\uc5f0\ud558\uace0 \ubb54\uc9c0 \ubaa8\ub97c \uac10\uc815\uc774\ub098 \uc0dd\uac01\uc744 \ub9d0\ub85c \ud45c\ud604\ud568\uc73c\ub85c\uc368 \uadf8\uac83\uc744 \uc778\uc2dd\ud558\uace0 \ub9cc\ub4e4\uc5b4 \uac00\ub294 \uac83\uc785\ub2c8\ub2e4. \uc790\uc720\ub86d\uac8c \ub2f9\uc2e0\uc758 \uc0dd\uac01\uc744 \ub9d0\ub85c \ub0b4\ubc49\uc73c\uc138\uc694!",isSentenceModeActive:y,hasSelectedSentences:b.size>0,onToggleSentenceMode:()=>{x((e=>!e))}})})]}),(0,wr.jsx)(_p,{show:f,children:h}),(0,wr.jsx)(Xu,{show:y?b.size>0:T,onMenuAction:y?async e=>{var n;const r=Array.from(b);console.log("=== \uc5b8\uc5b4\ud654 handleMenuAction \uc2dc\uc791 ==="),console.log("\uc561\uc158:",e),console.log("\uc120\ud0dd\ub41c ID\ub4e4:",r),console.log("selectedThread \uba54\uc2dc\uc9c0 \uc218:",(null===t||void 0===t||null===(n=t.messages)||void 0===n?void 0:n.length)||0),console.log("\ub85c\uceec \uba54\uc2dc\uc9c0 \uc218:",A.length);const o=[],a=[],i=(null===t||void 0===t?void 0:t.messages)||A;switch(console.log("\uc0ac\uc6a9\ud560 \uba54\uc2dc\uc9c0 \ubc30\uc5f4:",i.length>0?"\uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc \uba54\uc2dc\uc9c0":"\ub85c\uceec \uba54\uc2dc\uc9c0"),r.forEach((e=>{console.log("\ucc98\ub9ac \uc911\uc778 ID:",e);const[n,t,r]=e.split("_"),s=parseInt(t),l=parseInt(r);console.log("\ud30c\uc2f1\ub41c \uc815\ubcf4:",{timestamp:n,messageIndex:s,sentenceIndex:l});let c=null;if(!isNaN(s)&&s>=0&&s<i.length&&(c=i[s],console.log("messageIndex\ub85c \ucc3e\uc740 \uba54\uc2dc\uc9c0:",c?"".concat(c.role,": ").concat(c.content.substring(0,30),"..."):"\uc5c6\uc74c")),c||(c=i.find((e=>e.timestamp===n)),console.log("timestamp\ub85c \ucc3e\uc740 \uba54\uc2dc\uc9c0:",c?"".concat(c.role,": ").concat(c.content.substring(0,30),"..."):"\uc5c6\uc74c")),c&&"assistant"===c.role){const n=c.content.split(/[\n.]+/).map((e=>e.trim())).filter((e=>e.length>0))[l]||"";console.log("\uc120\ud0dd\ub41c \ubb38\uc7a5 \ud14d\uc2a4\ud2b8:",n),n&&n.length>0&&(o.push(n),a.push(e),console.log("\uc720\ud6a8\ud55c \ubb38\uc7a5 \ucd94\uac00\ub428:",n))}else c&&"user"===c.role?console.log("\ubb34\uc2dc\ub428 - user \uba54\uc2dc\uc9c0"):console.warn("\uba54\uc2dc\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c:",{id:e,messageIndex:s,timestamp:n})})),console.log("\ucd5c\uc885 \uc120\ud0dd\ub41c \ud14d\uc2a4\ud2b8\ub4e4:",o),console.log("\ucd5c\uc885 \ud544\ud130\ub9c1\ub41c ID\ub4e4:",a),e){case"sendToInput":if(d.current&&o.length>0){const e=o.map((e=>'"'.concat(e,'"'))).join(", ");d.current.insertText(e)}break;case"saveToVault":try{if(0===o.length){R("assistant \uba54\uc2dc\uc9c0\ub9cc \uc800\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4");break}if(null===t||void 0===t||!t.id){R("\uc800\uc7a5\ud560 \uc2a4\ub808\ub4dc\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694");break}const e=[],n=[],r=[];for(const t of a){const o=S.has(t),a=k[t]||null;e.push(o),n.push(o?"yellow":null),r.push(a)}if(await Hr.saveSentencesToVault({sentences:o,source_message_id:"verbalization_chat",source_conversation_id:t.id,source_thread_id:t.id,source_thread_type:"verbalization",source_sentence_ids:a,tags:["verbalization"],highlight_states:e,highlight_colors:n,memo_contents:r}),null!==t&&void 0!==t&&t.id)for(const o of a)try{await Hr.createHighlight({sentence_id:o,thread_id:t.id,thread_type:"verbalization"})}catch(s){console.warn("\ud558\uc774\ub77c\uc774\ud2b8 \uc800\uc7a5 \uc2e4\ud328:",o,s)}_((e=>{const n=new Set(e);return a.forEach((e=>n.add(e))),n})),R("\uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(l){console.error("\uc800\uc7a5\uace0 \uc800\uc7a5 \uc2e4\ud328:",l),R("\uc800\uc7a5\uace0 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}break;case"addMemo":await H.handleAddMemo(a,o);break;case"highlight":if(a.length>0&&null!==t&&void 0!==t&&t.id)try{if(a.filter((e=>S.has(e))).length>0){_((e=>{const n=new Set(e);return a.forEach((e=>n.delete(e))),n}));for(const e of a)try{await Hr.deleteHighlight(e)}catch(l){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc0ad\uc81c \uc2e4\ud328:",l)}R("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}else{_((e=>{const n=new Set(e);return a.forEach((e=>n.add(e))),n}));for(const e of a)try{await Hr.createHighlight({sentence_id:e,thread_id:t.id,thread_type:"verbalization"})}catch(l){console.warn("\ubc31\uc5d4\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \uc800\uc7a5 \uc2e4\ud328:",l)}R("\ud558\uc774\ub77c\uc774\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}}catch(l){console.error("\ud558\uc774\ub77c\uc774\ud2b8 \ud1a0\uae00 \uc2e4\ud328:",l),R("\ud558\uc774\ub77c\uc774\ud2b8 \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")}break;case"copy":o.length>0&&await N(o.join(" "),"\uc120\ud0dd\ub41c \ubb38\uc7a5\uc774 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}w(new Set)}:async e=>{switch(e){case"sendToInput":d.current&&C&&(d.current.insertText(C),R("\uc120\ud0dd\ud55c \ud14d\uc2a4\ud2b8\uac00 \uc785\ub825\ucc3d\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4"));break;case"copy":C&&await N(C,"\uc120\ud0dd\ud55c \ud14d\uc2a4\ud2b8\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4");break;case"saveToVault":if(C)try{if(console.log("=== \uc5b8\uc5b4\ud654 \ud14d\uc2a4\ud2b8 \uc120\ud0dd \uc800\uc7a5\uace0 \uc800\uc7a5 \uc2dc\uc791 ==="),console.log("\uc120\ud0dd\ub41c \ud14d\uc2a4\ud2b8:",C),console.log("\uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc:",null===t||void 0===t?void 0:t.id),null===t||void 0===t||!t.id){console.warn("\uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"),R("\uc800\uc7a5\ud560 \uc2a4\ub808\ub4dc\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694");break}const e={sentences:[C],source_message_id:"verbalization_text_selection",source_conversation_id:t.id,source_thread_id:t.id,source_thread_type:"verbalization",tags:["verbalization","text_selection"]};console.log("\ud14d\uc2a4\ud2b8 \uc120\ud0dd \uc800\uc7a5 \uc694\uccad:",e);const n=await Hr.saveSentencesToVault(e);console.log("\ud14d\uc2a4\ud2b8 \uc120\ud0dd \uc800\uc7a5 \uc751\ub2f5:",n),console.log("=== \uc5b8\uc5b4\ud654 \ud14d\uc2a4\ud2b8 \uc120\ud0dd \uc800\uc7a5\uace0 \uc800\uc7a5 \uc644\ub8cc ==="),R("\uc800\uc7a5\uace0\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}catch(n){console.error("=== \uc5b8\uc5b4\ud654 \ud14d\uc2a4\ud2b8 \uc120\ud0dd \uc800\uc7a5\uace0 \uc800\uc7a5 \uc2e4\ud328 ===",n),console.error("\uc624\ub958 \uc138\ubd80\uc0ac\ud56d:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),R("\uc800\uc7a5\uace0 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(n instanceof Error?n.message:String(n)))}else console.warn("\uc120\ud0dd\ub41c \ud14d\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"),R("\uc800\uc7a5\ud560 \ud14d\uc2a4\ud2b8\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694");break;case"addMemo":R("\uc5b8\uc5b4\ud654\uc5d0\uc11c\ub294 \uba54\ubaa8 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4");break;case"highlight":R("\uc5b8\uc5b4\ud654\uc5d0\uc11c\ub294 \ud558\uc774\ub77c\uc774\ud2b8 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4")}M()},personaId:"verbalization",currentInterpretation:""})]})},Ep=e=>{var t,r,i;let{selectedConversation:s,conversations:l,personas:c,globalMessages:u,isLoading:d,error:f,onSendInitialMessage:p,onContinueConversation:h,onClearError:g,selectedPersonaItem:m,onSelectPersona:v,onInterpretationComplete:y,selectedConversationItem:x,currentInterpretation:b,onInterpretationMessage:w,onUpdateInterpretation:S,onUpdateConversation:_,onSwitchConversationMode:k,onRefreshConversationSidebar:E,recentInteractionsProps:C,verbalizationProps:j}=e;const T=(0,n.useRef)(null),P=s?l[s]:null,[A,I]=(0,n.useState)(null),[O,z]=(0,n.useState)([]),[R,N]=(0,n.useState)(""),[D,L]=(0,n.useState)(""),[M,$]=(0,n.useState)([]);(0,n.useEffect)((()=>{T.current&&(T.current.scrollTop=T.current.scrollHeight)}),[null===P||void 0===P?void 0:P.messages,u,d]),(0,n.useEffect)((()=>{(async()=>{if(null!==b&&void 0!==b&&b.personaId)try{const e=await a.chatApi.getPersonaThreads(b.personaId);if(e.data){z(e.data);const n=e.data.find((e=>"proceed"===e.thread_type)),t=e.data.find((e=>"sentence"===e.thread_type));if(n&&n.messages.length>0){const e=n.messages.find((e=>"assistant"===e.role));e&&N(e.content)}if(t&&t.messages.length>0){const e=t.messages.find((e=>"assistant"===e.role));e&&L(e.content)}}}catch(f){console.error("\ud6c8\uc2b5 \ub370\uc774\ud130 \ub85c\ub4dc \uc2e4\ud328:",f)}})()}),[null===b||void 0===b?void 0:b.personaId]),(0,n.useEffect)((()=>{const e=O.find((e=>"proceed"===e.thread_type)),n=O.find((e=>"sentence"===e.thread_type));if(e&&e.messages.length>0){const n=e.messages.find((e=>"assistant"===e.role));n&&N(n.content)}if(n&&n.messages.length>0){const e=n.messages.find((e=>"assistant"===e.role));e&&L(e.content)}}),[O]),(0,n.useEffect)((()=>{(async()=>{try{const e=await a.chatApi.getAllInteractionRecords();e.data&&$(e.data)}catch(f){console.error("\uc0c1\ud638\uc791\uc6a9 \uae30\ub85d \ub85c\ub4dc \uc2e4\ud328:",f)}})()}),[b,O]);const F=async(e,n)=>{if(!b)return!1;try{const r=[...b.messages];if(e>=0&&e<r.length){r[e]=(0,o.A)((0,o.A)({},r[e]),{},{content:n,timestamp:(new Date).toISOString()});const i=r.slice(0,e+1);try{const e=await a.chatApi.chatWithInterpretation(b.personaId,n);if(e.data){const n={role:"assistant",content:e.data.response,timestamp:e.data.timestamp},t=(0,o.A)((0,o.A)({},b),{},{messages:[...i,n]});return S&&S(t),!0}{const e={role:"assistant",content:"".concat(b.personaName,'\uc758 \uad00\uc810\uc5d0\uc11c \uc218\uc815\ub41c \uba54\uc2dc\uc9c0\uc5d0 \ub300\ud574 \uc0c8\ub86d\uac8c \uc751\ub2f5\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.\n\n"').concat(n,'"\uc5d0 \ub300\ud574 \ubd84\uc11d\ud574\ubcf4\uba74, \uc774\ub294 \uc774\uc804\uacfc\ub294 \ub2e4\ub978 \ub9e5\ub77d\uc744 \uc81c\uc2dc\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc218\uc815\ub41c \ub0b4\uc6a9\uc744 \ubc14\ud0d5\uc73c\ub85c \uc0c8\ub85c\uc6b4 \ud574\uc11d\uacfc \ud1b5\ucc30\uc744 \uc81c\uacf5\ud558\uaca0\uc2b5\ub2c8\ub2e4.'),timestamp:(new Date).toISOString()},t=(0,o.A)((0,o.A)({},b),{},{messages:[...i,e]});return S&&S(t),!0}}catch(t){console.error("\ud574\uc11d API \ud638\ucd9c \uc2e4\ud328:",t);const e={role:"assistant",content:"".concat(b.personaName,'\uc758 \uad00\uc810\uc5d0\uc11c \uc218\uc815\ub41c \uba54\uc2dc\uc9c0\uc5d0 \ub300\ud574 \uc0c8\ub86d\uac8c \uc751\ub2f5\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.\n\n"').concat(n,'"\uc5d0 \ub300\ud574 \ubd84\uc11d\ud574\ubcf4\uba74, \uc774\ub294 \uc774\uc804\uacfc\ub294 \ub2e4\ub978 \ub9e5\ub77d\uc744 \uc81c\uc2dc\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc218\uc815\ub41c \ub0b4\uc6a9\uc744 \ubc14\ud0d5\uc73c\ub85c \uc0c8\ub85c\uc6b4 \ud574\uc11d\uacfc \ud1b5\ucc30\uc744 \uc81c\uacf5\ud558\uaca0\uc2b5\ub2c8\ub2e4.'),timestamp:(new Date).toISOString()},r=(0,o.A)((0,o.A)({},b),{},{messages:[...i,e]});return S&&S(r),!0}}return!1}catch(f){return console.error("\ud574\uc11d \uba54\uc2dc\uc9c0 \uc218\uc815 \uc2e4\ud328:",f),!1}},U=e=>{k&&k(e)},H=async()=>{if(null!==b&&void 0!==b&&b.personaId)try{y(b.personaId,"\uc0c8\ub85c\uc6b4 \ud574\uc11d\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4...")}catch(f){console.error("\uc0c8\ub85c\uc6b4 \ud574\uc11d \uc0dd\uc131 \uc2e4\ud328:",f)}},W=e=>{if(!e||!e.includes("-thread-"))return null;const n=e.split("-thread-")[1];return O.find((e=>e.id===n))||null},B=async()=>{if(null!==b&&void 0!==b&&b.personaId)try{console.log("=== \uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2dc\uc791 ==="),console.log("personaId:",b.personaId);const t=await a.chatApi.getPersonaThreads(b.personaId);if(t.data){const e=t.data;z(e),console.log("\uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc:",e.length,"\uac1c");const n=e.find((e=>"proceed"===e.thread_type)),r=e.find((e=>"sentence"===e.thread_type));if(n&&n.messages.length>0){const e=n.messages.find((e=>"assistant"===e.role));e&&N(e.content)}if(r&&r.messages.length>0){const e=r.messages.find((e=>"assistant"===e.role));e&&L(e.content)}}try{console.log("\ud574\uc11d \ub0b4\uc6a9 \uc0c8\ub85c\uace0\uce68 \uc2dc\uc791...");const e=await a.chatApi.getInterpretation(b.personaId);if(e.data){console.log("\ud574\uc11d \ub0b4\uc6a9 \uc5c5\ub370\uc774\ud2b8:",e.data.interpretation.substring(0,100)+"...");const n=(0,o.A)((0,o.A)({},b),{},{content:e.data.interpretation});S&&(S(n),console.log("\ud574\uc11d \ub0b4\uc6a9 \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc"))}}catch(e){console.warn("\ud574\uc11d \ub0b4\uc6a9 \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",e)}try{console.log("\uc0c1\ud638\uc791\uc6a9 \uae30\ub85d \uc0c8\ub85c\uace0\uce68 \uc2dc\uc791...");const e=await a.chatApi.getAllInteractionRecords();e.data&&($(e.data),console.log("\uc0c1\ud638\uc791\uc6a9 \uae30\ub85d \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc:",e.data.length,"\uac1c"))}catch(n){console.warn("\uc0c1\ud638\uc791\uc6a9 \uae30\ub85d \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",n)}E&&(console.log("ConversationSidebar \uc0c8\ub85c\uace0\uce68 \ud2b8\ub9ac\uac70..."),E()),console.log("=== \uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc644\ub8cc ===")}catch(f){console.error("\uc2a4\ub808\ub4dc \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",f)}},V=e=>{k&&k("".concat(e.thread_type,"-thread-").concat(e.id))};return(0,wr.jsxs)(Bt,{children:[(0,wr.jsx)("div",{style:{height:"80px",borderBottom:"1px solid #ddd",background:"white"}}),"training"===m?(0,wr.jsx)(yu,{personas:c,onSelectPersona:v||(()=>{}),onInterpretationComplete:y}):"recent"===m?(0,wr.jsx)(rp,{personas:(null===C||void 0===C?void 0:C.personas)||{},onSelectPersona:(null===C||void 0===C?void 0:C.onSelectPersona)||(()=>{}),onThreadSelect:(null===C||void 0===C?void 0:C.onThreadSelect)||(()=>{}),selectedThreadId:null!==x&&void 0!==x&&x.startsWith("recent-thread-")?x.split("-")[2]:void 0,selectedPersonaId:null!==x&&void 0!==x&&x.startsWith("recent-thread-")?x.split("-")[3]:void 0}):"verbalization"===m?(0,wr.jsx)(kp,{selectedThread:(null===j||void 0===j?void 0:j.selectedThread)||null,threads:(null===j||void 0===j?void 0:j.threads)||[],onThreadUpdate:(null===j||void 0===j?void 0:j.onThreadUpdate)||(()=>{}),onCreateNewThread:(null===j||void 0===j?void 0:j.onCreateNewThread)||(async()=>{})}):"admin"===m?(0,wr.jsx)(Of,{onClose:()=>{v&&v("")}}):b&&("proceed"===x||null!==x&&void 0!==x&&x.startsWith("proceed-thread-"))?(()=>{if(!b)return null;const e=W(x);return(0,wr.jsx)(Fd,{personaId:b.personaId,personaName:b.personaName,proceedContent:R||"\ub098\uc544\uac00\uae30\ub97c \uc0dd\uc131\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4...",threads:O,onThreadUpdate:e=>{z(e);const n=e.find((e=>"proceed"===e.thread_type));if(n&&n.messages.length>0){const e=n.messages.find((e=>"assistant"===e.role));e&&N(e.content)}E&&E()},onSwitchToMode:U,onGenerateNewInterpretation:H,selectedThread:e,onRefreshThreads:B})})():b&&("sentence"===x||null!==x&&void 0!==x&&x.startsWith("sentence-thread-"))?(()=>{if(!b)return null;const e=W(x);return(0,wr.jsx)(Zd,{personaId:b.personaId,personaName:b.personaName,sentenceContent:D||"\ubb38\uc7a5\uc744 \uc0dd\uc131\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4...",threads:O,onThreadUpdate:e=>{z(e);const n=e.find((e=>"sentence"===e.thread_type));if(n&&n.messages.length>0){const e=n.messages.find((e=>"assistant"===e.role));e&&L(e.content)}E&&E()},onSwitchToMode:U,onGenerateNewInterpretation:H,selectedThread:e,onRefreshThreads:B})})():b&&("interpretation"===x||null!==x&&void 0!==x&&x.startsWith("interpretation-thread-"))?(()=>{var e;if(!b)return null;let n=W(x);const t=null===x||void 0===x?void 0:x.startsWith("interpretation-thread-");if(!n){const e=O.filter((e=>"interpretation"===e.thread_type));e.length>0&&(n=e.sort(((e,n)=>new Date(n.created_at).getTime()-new Date(e.created_at).getTime()))[0],console.log("\uac00\uc7a5 \ucd5c\uc2e0 \ud574\uc11d \uc2a4\ub808\ub4dc \uc790\ub3d9 \uc120\ud0dd:",n.id))}const r=t&&n?n.messages:b.messages,o=t&&n?n.content||(n.messages.length>0?n.messages[0].content:b.content):b.content;return console.log("\ud574\uc11d \ubdf0 \ub80c\ub354\ub9c1:",{isInterpretationThread:t,selectedThreadId:null===(e=n)||void 0===e?void 0:e.id,messageCount:r.length,contentPreview:o.substring(0,100)+"..."}),(0,wr.jsx)(jd,{interpretation:o,personaName:b.personaName,onSendMessage:w,onEditMessage:F,isLoading:d,messages:r,onGenerateNewInterpretation:H,onSwitchToMode:U,personaId:b.personaId,onRefreshThreads:B,selectedThread:n})})():b&&"interaction_history"===x?b?(0,wr.jsx)(Nf,{personaId:b.personaId,personaName:b.personaName,allInteractionRecords:M,onThreadSelect:V,onSwitchToMode:U,onGenerateNewInterpretation:H}):null:(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsxs)(Vt,{ref:T,children:[!s&&!b&&0===u.length&&(0,wr.jsxs)(tr,{children:[(0,wr.jsx)(rr,{children:"\uc0c8\ub85c\uc6b4 \ub300\ud654\ub97c \uc2dc\uc791\ud574\ubcf4\uc138\uc694!"}),(0,wr.jsx)(or,{children:Object.keys(c).length>0?(0,wr.jsxs)(wr.Fragment,{children:["\uc544\ub798\uc5d0 \uc9c8\ubb38\uc744 \uc785\ub825\ud558\uba74 ",Object.keys(c).length,"\uac1c\uc758 \ud398\ub974\uc18c\ub098\uac00",(0,wr.jsx)("br",{}),"\uac01\uac01 \ub2e4\ub978 \uad00\uc810\uc5d0\uc11c \ub2f5\ubcc0\ud574\ub4dc\ub9bd\ub2c8\ub2e4."]}):"\ud398\ub974\uc18c\ub098 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4..."})]}),!s&&!b&&u.length>0&&(()=>{if(!u.length)return null;const e=u[u.length-1];return(0,wr.jsxs)("div",{children:[(0,wr.jsx)(ci,{message:{role:"user",content:e.user_message,timestamp:e.timestamp},personas:c,showActionButtons:!1}),e.responses.map((n=>(0,wr.jsx)(ci,{message:{role:"assistant",content:n.content,timestamp:n.timestamp,persona_id:n.persona_id,persona_name:n.persona_name},personas:c,showActionButtons:!0},"".concat(e.id,"_").concat(n.persona_id)))),(0,wr.jsxs)("div",{style:{margin:"20px 0",padding:"16px",backgroundColor:"#f8f8f8",borderRadius:"8px",border:"none",textAlign:"center"},children:[(0,wr.jsx)("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"\ud83d\udca1 \uac01 \ud398\ub974\uc18c\ub098\uc640 \uac1c\ubcc4\uc801\uc73c\ub85c \ub300\ud654\ub97c \uc774\uc5b4\uac00\ub824\uba74"}),(0,wr.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"\uc67c\ucabd \uc0ac\uc774\ub4dc\ubc14\uc5d0\uc11c \ud398\ub974\uc18c\ub098\ub97c \uc120\ud0dd\ud558\uac70\ub098, \ud2b9\uc815 \ub300\ud654\ub97c \uc120\ud0dd\ud558\uc138\uc694"})]})]})})(),s&&(P?P.messages.map(((e,n)=>(0,wr.jsx)(ci,{message:e,personas:c,showActionButtons:!0,onCopy:()=>{navigator.clipboard.writeText(e.content)},onEdit:"user"===e.role?()=>I(n):void 0,onEditSave:"user"===e.role?async e=>{const t=await(async(e,n)=>{if(!s||!P)return!1;try{var t;const r=await a.chatApi.editMessage(s,e,n);return null!==(t=r.data)&&void 0!==t&&t.success&&r.data.updated_conversation?(_&&_(r.data.updated_conversation),!0):(console.error("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc2e4\ud328:",r.error),!1)}catch(f){return console.error("\uba54\uc2dc\uc9c0 \uc218\uc815 \uc694\uccad \uc2e4\ud328:",f),!1}})(n,e);return t&&I(null),t}:void 0,onEditCancel:()=>I(null),isEditing:A===n,onSunAction:()=>{},onPersonAction:()=>{},onDocumentAction:()=>{}},"".concat(P.id,"_").concat(n)))):null),d&&(s&&P?(0,wr.jsx)(ud,{personaName:null===(t=c[P.persona_id])||void 0===t?void 0:t.name,personaColor:null===(r=c[P.persona_id])||void 0===r?void 0:r.color}):(0,wr.jsx)(ud,{personaName:"AI",personaColor:"#666"}))]}),(0,wr.jsx)(_c,{onSendMessage:async e=>s?await h(s,e):b?await w(e):await p(e),disabled:d||0===Object.keys(c).length,placeholder:s&&P?"".concat(null===(i=c[P.persona_id])||void 0===i?void 0:i.name,"\uc5d0\uac8c \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0b4\uc138\uc694..."):"\ubaa8\ub4e0 \ud398\ub974\uc18c\ub098\uc5d0\uac8c \uc9c8\ubb38\ud574\ubcf4\uc138\uc694..."})]})]})},Cp=()=>{const[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(null),[f,p]=(0,n.useState)(0),[h,g]=(0,n.useState)(null),[m,v]=(0,n.useState)(!1),[y,x]=(0,n.useState)({}),[b,w]=(0,n.useState)([]),[S,_]=(0,n.useState)(null),{personas:k,globalMessages:E,conversations:C,selectedConversation:j,isLoading:T,error:P,sendInitialMessage:A,continueConversation:I,updateConversation:O,selectPersona:z,clearError:R}=(()=>{const[e,t]=(0,n.useState)(i),[r,s]=(0,n.useState)(null),l=(0,n.useCallback)((async()=>{const e=await a.chatApi.getPersonas();e.data?t((n=>(0,o.A)((0,o.A)({},n),{},{personas:e.data}))):s(e.error||"\ud398\ub974\uc18c\ub098 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}),[]),c=(0,n.useCallback)((async()=>{const e=await a.chatApi.getGlobalMessages();e.data&&t((n=>(0,o.A)((0,o.A)({},n),{},{globalMessages:e.data})))}),[]),u=(0,n.useCallback)((async()=>{const e=await a.chatApi.getAllConversations();if(e.data){const n=e.data.reduce(((e,n)=>(e[n.id]=n,e)),{});t((e=>(0,o.A)((0,o.A)({},e),{},{conversations:n})))}}),[]),d=(0,n.useCallback)((async e=>{t((e=>(0,o.A)((0,o.A)({},e),{},{isLoading:!0}))),s(null);try{const n=await a.chatApi.sendInitialMessage(e);if(n.data){const r={id:n.data.message_id,user_message:e,responses:n.data.responses,timestamp:(new Date).toISOString()};return t((e=>(0,o.A)((0,o.A)({},e),{},{globalMessages:[...e.globalMessages,r],isLoading:!1}))),n.data.responses.forEach((r=>{const a="".concat(n.data.message_id,"_").concat(r.persona_id),i={id:a,persona_id:r.persona_id,messages:[{role:"user",content:e,timestamp:(new Date).toISOString()},{role:"assistant",content:r.content,timestamp:r.timestamp,persona_id:r.persona_id,persona_name:r.persona_name}],created_at:(new Date).toISOString()};t((e=>(0,o.A)((0,o.A)({},e),{},{conversations:(0,o.A)((0,o.A)({},e.conversations),{},{[a]:i})})))})),!0}return s(n.error||"\uba54\uc2dc\uc9c0 \uc804\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),t((e=>(0,o.A)((0,o.A)({},e),{},{isLoading:!1}))),!1}catch(n){return s("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),t((e=>(0,o.A)((0,o.A)({},e),{},{isLoading:!1}))),!1}}),[]),f=(0,n.useCallback)((async(n,r)=>{const i=e.conversations[n];if(!i)return s("\ub300\ud654\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!1;t((e=>(0,o.A)((0,o.A)({},e),{},{isLoading:!0}))),s(null);try{const e=await a.chatApi.continueConversation(i.persona_id,r,n);if(e.data){const a={role:"user",content:r,timestamp:(new Date).toISOString()},i={role:"assistant",content:e.data.content,timestamp:e.data.timestamp,persona_id:e.data.persona_id,persona_name:e.data.persona_name};return t((e=>(0,o.A)((0,o.A)({},e),{},{conversations:(0,o.A)((0,o.A)({},e.conversations),{},{[n]:(0,o.A)((0,o.A)({},e.conversations[n]),{},{messages:[...e.conversations[n].messages,a,i]})}),isLoading:!1}))),!0}return s(e.error||"\ub300\ud654 \uc774\uc5b4\uac00\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),t((e=>(0,o.A)((0,o.A)({},e),{},{isLoading:!1}))),!1}catch(l){return s("\ub300\ud654 \uc774\uc5b4\uac00\uae30 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),t((e=>(0,o.A)((0,o.A)({},e),{},{isLoading:!1}))),!1}}),[e.conversations]),p=(0,n.useCallback)(((e,n)=>{t((t=>(0,o.A)((0,o.A)({},t),{},{conversations:(0,o.A)((0,o.A)({},t.conversations),{},{[e]:n})})))}),[]),h=(0,n.useCallback)((e=>{t((n=>(0,o.A)((0,o.A)({},n),{},{selectedConversation:e})))}),[]),g=(0,n.useCallback)((e=>{t((n=>(0,o.A)((0,o.A)({},n),{},{selectedPersona:e})))}),[]),m=(0,n.useCallback)((()=>{s(null)}),[]),v=(0,n.useCallback)((n=>Object.values(e.conversations).filter((e=>e.persona_id===n))),[e.conversations]),y=(0,n.useCallback)((()=>e.selectedConversation?e.conversations[e.selectedConversation]:null),[e.selectedConversation,e.conversations]);return(0,n.useEffect)((()=>{l(),c(),u()}),[l,c,u]),{personas:e.personas,globalMessages:e.globalMessages,conversations:e.conversations,selectedConversation:e.selectedConversation,selectedPersona:e.selectedPersona,isLoading:e.isLoading,error:r,sendInitialMessage:d,continueConversation:f,updateConversation:p,selectConversation:h,selectPersona:g,clearError:m,loadPersonas:l,loadGlobalMessages:c,loadConversations:u,getPersonaConversations:v,getCurrentConversation:y}})(),N=(0,n.useCallback)((async()=>{try{console.log("=== \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ub85c\ub4dc \uc2dc\uc791 ===");const e=await a.chatApi.getVerbalizationThreads();if(console.log("\uc2a4\ub808\ub4dc \ub85c\ub4dc \uc751\ub2f5:",e),e.data)if(console.log("\ub85c\ub4dc\ub41c \uc2a4\ub808\ub4dc \uac1c\uc218:",e.data.length),w(e.data),S){const n=e.data.find((e=>e.id===S.id));n?(console.log("\uae30\uc874 \uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8:",n.id),_(n)):(console.log("\uae30\uc874 \uc120\ud0dd\ub41c \uc2a4\ub808\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c, \uccab \ubc88\uc9f8 \uc2a4\ub808\ub4dc \uc120\ud0dd"),_(e.data[0]||null))}else e.data.length>0&&(console.log("\uc0c8\ub85c\uc6b4 \uccab \ubc88\uc9f8 \uc2a4\ub808\ub4dc \uc120\ud0dd:",e.data[0].id),_(e.data[0]));console.log("=== \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ub85c\ub4dc \uc644\ub8cc ===")}catch(P){console.error("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ub85c\ub4dc \uc624\ub958:",P)}}),[S]);(0,n.useEffect)((()=>{"verbalization"===l&&N()}),[l,N]);const D=async()=>{console.log("=== \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \uc5c5\ub370\uc774\ud2b8 \uc694\uccad ===");const e=null===S||void 0===S?void 0:S.id;await N(),e&&setTimeout((()=>{a.chatApi.getVerbalizationThreads().then((n=>{if(n.data){n.data.find((n=>n.id===e))||(n.data.length>0?_(n.data[0]):_(null),console.log("\uc0ad\uc81c\ub41c \uc2a4\ub808\ub4dc \uac10\uc9c0, \uc120\ud0dd \ubcc0\uacbd\ub428"))}}))}),100),p((e=>e+1))},L="training"!==l&&"admin"!==l&&"verbalization"!==l&&"vault"!==l&&h||"recent"===l||"verbalization"===l;return(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(Dt,{}),(0,wr.jsxs)(Lt,{children:[(0,wr.jsx)(Lr,{selectedItem:l,onSelectItem:e=>{const n=""===e?null:e;c(n),"training"!==n&&"admin"!==n&&"vault"!==n&&s(!1)},isCollapsed:e,onToggle:L?void 0:()=>{t(!e)}}),L&&(0,wr.jsx)(Dr,{selectedItem:u,onSelectItem:e=>{d(e),null!==e&&void 0!==e&&e.includes("-thread-")&&console.log("\uc2a4\ub808\ub4dc \uc120\ud0dd\ub428:",e)},isCollapsed:r,onToggle:()=>{const e=!r;s(e),t(e)},selectedPersonaName:null===h||void 0===h?void 0:h.personaName,selectedPersonaId:null===h||void 0===h?void 0:h.personaId,refreshTrigger:f,mode:"recent"===l?"recent":"verbalization"===l?"verbalization":"persona",personas:"recent"===l?k:void 0,verbalizationThreads:"verbalization"===l?b:void 0,onSelectVerbalizationThread:"verbalization"===l?_:void 0,onRefreshTrigger:"verbalization"===l?D:void 0}),"vault"===l?(0,wr.jsx)(ei,{personas:k,onNavigateToPersona:(e,n)=>{const t=k[e];if(!t)return;const r=y[e];r&&g({personaId:e,personaName:t.name,content:r,messages:[{role:"assistant",content:r,timestamp:(new Date).toISOString()}]}),z(e),c(null),s(!1);"true"===sessionStorage.getItem("navigateToInterpretationMode")?(sessionStorage.removeItem("navigateToInterpretationMode"),d("interpretation")):"sentence"===n&&d("sentence")},onNavigateToThread:(e,n,t)=>{console.log("=== \uc800\uc7a5\uace0\uc5d0\uc11c \uc2a4\ub808\ub4dc\ub85c \uc774\ub3d9 ==="),console.log("threadId:",e),console.log("threadType:",n),console.log("interactionMessage:",t),t&&(sessionStorage.setItem("selectedSentenceForInput",t),console.log("\uc0c1\ud638\uc791\uc6a9 \uba54\uc2dc\uc9c0\ub97c sessionStorage\uc5d0 \uc800\uc7a5:",t));const r=e.startsWith("interpretation_")&&!e.includes("-")&&!/\d{10,}$/.test(e);if(console.log("isLegacyInterpretationId:",r),console.log("\ud0c0\uc784\uc2a4\ud0ec\ud504 \ud14c\uc2a4\ud2b8:",/\d{10,}$/.test(e)),"verbalization"===n){console.log("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc\ub85c \uc774\ub3d9"),c("verbalization"),s(!1);const n=async()=>{try{const n=await a.chatApi.getVerbalizationThreads();if(n.data){const t=n.data.find((n=>n.id===e));t?(console.log("\ud0c0\uac9f \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ucc3e\uc74c:",t.id),_(t),w(n.data)):(console.warn("\ud0c0\uac9f \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c:",e),n.data.length>0&&(_(n.data[0]),w(n.data)))}}catch(P){console.error("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \ub85c\ub529 \uc624\ub958:",P)}p((e=>e+1))};return void n()}if("interpretation"===n){console.log("\ud574\uc11d \ud0c0\uc785 \uc2a4\ub808\ub4dc \ucc98\ub9ac:",e);const n=(e=>{const n=e.split("_");if(console.log("\uc2a4\ub808\ub4dc ID \ud30c\uc2f1:",n),n.length>=2&&"interpretation"===n[0]){const e=n[1];return console.log("\ucd94\ucd9c\ub41c \ud398\ub974\uc18c\ub098 ID:",e),e}return null})(e);if(console.log("\ucd5c\uc885 \ud398\ub974\uc18c\ub098 ID:",n),console.log("\ud398\ub974\uc18c\ub098 \uc874\uc7ac \uc5ec\ubd80:",n&&k[n]),n&&k[n]){const e=k[n];console.log("\ud574\uc11d \uc2a4\ub808\ub4dc\uc6a9 \ud398\ub974\uc18c\ub098 \ucc3e\uc74c:",e.name);const t=y[n];return t&&g({personaId:n,personaName:e.name,content:t,messages:[{role:"assistant",content:t,timestamp:(new Date).toISOString()}]}),z(n),c(null),s(!1),d("interpretation"),console.log("\ud574\uc11d \ubaa8\ub4dc\ub85c \uc774\ub3d9 \uc644\ub8cc"),void p((e=>e+1))}console.error("\ud574\uc11d \uc2a4\ub808\ub4dc\uc5d0\uc11c \ud398\ub974\uc18c\ub098 ID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c, \ud6c8\uc2b5 \uc2a4\ub808\ub4dc \ud0d0\uc0c9\uc73c\ub85c \ud3f4\ubc31:",e)}(async()=>{try{console.log("\ud6c8\uc2b5 \uc2a4\ub808\ub4dc \uc815\ubcf4 \ub85c\ub529 \uc911...");let t=null,r=null;for(const n of Object.keys(k))try{const o=await a.chatApi.getPersonaThreads(n);if(o.data){const a=o.data.find((n=>n.id===e));if(a){console.log("\uc2a4\ub808\ub4dc\ub97c \ucc3e\uc74c:",a.id,"in persona:",n),t=a,r=n;break}}}catch(P){console.warn("\ud398\ub974\uc18c\ub098 ".concat(n,"\uc758 \uc2a4\ub808\ub4dc \ub85c\ub529 \uc2e4\ud328:"),P)}if(!t||!r)return console.error("\ud574\ub2f9 \uc2a4\ub808\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c:",e),void alert("\ud574\ub2f9 \uc2a4\ub808\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const o=k[r];console.log("\ucc3e\uc740 \ud398\ub974\uc18c\ub098:",o.name);const i=y[r];i&&g({personaId:r,personaName:o.name,content:i,messages:[{role:"assistant",content:i,timestamp:(new Date).toISOString()}]}),z(r),c(null),s(!1),d("".concat(n,"-thread-").concat(e)),console.log("\ud6c8\uc2b5 \uc2a4\ub808\ub4dc\ub85c \uc774\ub3d9 \uc644\ub8cc:","".concat(n,"-thread-").concat(e)),p((e=>e+1))}catch(P){console.error("\ud6c8\uc2b5 \uc2a4\ub808\ub4dc \ub85c\ub529 \uc624\ub958:",P),alert("\uc2a4\ub808\ub4dc \uc815\ubcf4\ub97c \ub85c\ub529\ud558\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})()},onNavigateToPersonaWithSentence:(e,n,t)=>{const r=k[e];if(!r)return;const o=y[e];o&&g({personaId:e,personaName:r.name,content:o,messages:[{role:"assistant",content:o,timestamp:(new Date).toISOString()}]}),z(e),c(null),s(!1),"sentence"===n&&(d("sentence"),sessionStorage.setItem("selectedSentenceForInput",t),console.log("\uc120\ud0dd\ub41c \ubb38\uc7a5 \uc800\uc7a5\ub428:",t))}}):(0,wr.jsx)(Ep,{selectedConversation:j,conversations:C,personas:k,globalMessages:E,isLoading:h?m:T,error:P,onSendInitialMessage:A,onContinueConversation:I,onClearError:R,selectedPersonaItem:l,onSelectPersona:e=>{const n=k[e];if(!n)return;const t=y[e];t&&(g({personaId:e,personaName:n.name,content:t,messages:[{role:"assistant",content:t,timestamp:(new Date).toISOString()}]}),z(e),c(null),s(!1),d("interpretation"))},onInterpretationComplete:async(e,n)=>{const t=k[e];x((t=>(0,o.A)((0,o.A)({},t),{},{[e]:n}))),g({personaId:e,personaName:(null===t||void 0===t?void 0:t.name)||"",content:n,messages:[{role:"assistant",content:n,timestamp:(new Date).toISOString()}]}),z(e),c(null),s(!1),d("interpretation"),p((e=>e+1))},selectedConversationItem:u,currentInterpretation:h,onInterpretationMessage:async e=>{if(!h)return!1;const n=null===u||void 0===u?void 0:u.startsWith("interpretation-thread-"),t=n&&u?u.split("-thread-")[1]:null;console.log("\ud574\uc11d \uba54\uc2dc\uc9c0 \uc804\uc1a1:",{isInterpretationThread:n,selectedThreadId:t,selectedConversationItem:u});const r={role:"user",content:e,timestamp:(new Date).toISOString()};v(!0);try{if(n&&t){console.log("\ud2b9\uc815 \ud574\uc11d \uc2a4\ub808\ub4dc\uc640 \ucc44\ud305:",t);const n=await a.chatApi.chatWithThread({thread_id:t,user_message:e});return n.data?(v(!1),p((e=>e+1)),console.log("\ud2b9\uc815 \ud574\uc11d \uc2a4\ub808\ub4dc \ucc44\ud305 \uc131\uacf5"),!0):(console.error("\ud574\uc11d \uc2a4\ub808\ub4dc \ucc44\ud305 API \uc2e4\ud328:",n.error),v(!1),!1)}{console.log("\uae30\ubcf8 \ud574\uc11d \uae30\ubc18 \ucc44\ud305"),g((e=>e?(0,o.A)((0,o.A)({},e),{},{messages:[...e.messages,r]}):null));const n=await a.chatApi.chatWithInterpretation(h.personaId,e);if(n.data){const e={role:"assistant",content:n.data.response,timestamp:n.data.timestamp};return g((n=>n?(0,o.A)((0,o.A)({},n),{},{messages:[...n.messages,e]}):null)),v(!1),!0}{console.error("\ud574\uc11d \uae30\ubc18 \ucc44\ud305 API \uc2e4\ud328:",n.error);const e={role:"assistant",content:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \uc77c\uc2dc\uc801\uc73c\ub85c \uc751\ub2f5 \uc0dd\uc131\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",timestamp:(new Date).toISOString()};return g((n=>n?(0,o.A)((0,o.A)({},n),{},{messages:[...n.messages,e]}):null)),v(!1),!1}}}catch(P){console.error("\ud574\uc11d \ucc44\ud305 \uc624\ub958:",P);const n={role:"assistant",content:"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5f0\uacb0\uc744 \ud655\uc778\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",timestamp:(new Date).toISOString()};return g((e=>e?(0,o.A)((0,o.A)({},e),{},{messages:[...e.messages,n]}):null)),v(!1),!1}},onUpdateInterpretation:e=>{g(e)},onUpdateConversation:e=>{j&&O(j,e)},onSwitchConversationMode:e=>{d(e)},onRefreshConversationSidebar:()=>{p((e=>e+1))},recentInteractionsProps:{personas:k,onSelectPersona:e=>{const n=k[e];if(!n)return;const t=y[e];t?(g({personaId:e,personaName:n.name,content:t,messages:[{role:"assistant",content:t,timestamp:(new Date).toISOString()}]}),z(e),c(null),s(!1),d("interpretation")):c("training")},onThreadSelect:async(e,n)=>{if(console.log("=== \ucd5c\uadfc \uc0c1\ud638\uc791\uc6a9 \uc2a4\ub808\ub4dc \uc120\ud0dd ==="),console.log("thread:",e),console.log("personaId:",n),console.log("thread.thread_type:",e.thread_type),"verbalization"===n||"verbalization"===e.thread_type)return console.log("\uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc\ub85c \uc778\uc2dd, \uc5b8\uc5b4\ud654 \ubaa8\ub4dc \uc804\ud658"),c("verbalization"),_(e),s(!1),void p((e=>e+1));const t=k[n];if(!t)return void console.error("\ud398\ub974\uc18c\ub098\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c:",n);if("interpretation"===e.thread_type){console.log("\ud574\uc11d \uc2a4\ub808\ub4dc \uc120\ud0dd\ub428, \uc2a4\ub808\ub4dc \ub0b4\uc6a9 \ub85c\ub529 \uc911...");try{const r=e.content||(e.messages.length>0?e.messages[0].content:"");g({personaId:n,personaName:t.name,content:r,messages:e.messages||[]}),z(n),c(null),s(!1),d("".concat(e.thread_type,"-thread-").concat(e.id)),console.log("\ud574\uc11d \uc2a4\ub808\ub4dc \ub85c\ub529 \uc644\ub8cc:",e.id)}catch(P){console.error("\ud574\uc11d \uc2a4\ub808\ub4dc \ub85c\ub529 \uc911 \uc624\ub958:",P);const o=y[n];o&&g({personaId:n,personaName:t.name,content:o,messages:[{role:"assistant",content:o,timestamp:(new Date).toISOString()}]}),z(n),c(null),s(!1),d("".concat(e.thread_type,"-thread-").concat(e.id))}return}const r=y[n];r?(g({personaId:n,personaName:t.name,content:r,messages:[{role:"assistant",content:r,timestamp:(new Date).toISOString()}]}),z(n),c(null),s(!1),d("".concat(e.thread_type,"-thread-").concat(e.id))):c("training")}},verbalizationProps:{selectedThread:S,threads:b,onThreadUpdate:D,onCreateNewThread:async()=>{try{console.log("=== \uc0c8 \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \uc0dd\uc131 \uc2dc\uc791 ===");const e=await a.chatApi.createNewVerbalizationThread();e.data?(console.log("\uc0c8 \uc2a4\ub808\ub4dc \uc0dd\uc131\ub428:",e.data.id),_(e.data),w((n=>[e.data,...n])),p((e=>e+1)),console.log("\uc0c8 \uc2a4\ub808\ub4dc \uc120\ud0dd \uc644\ub8cc:",e.data.id)):console.error("\uc0c8 \uc2a4\ub808\ub4dc \uc0dd\uc131 \uc2e4\ud328:",e.error)}catch(P){console.error("\uc0c8 \uc5b8\uc5b4\ud654 \uc2a4\ub808\ub4dc \uc0dd\uc131 \uc624\ub958:",P)}}}})]})]})};r.createRoot(document.getElementById("root")).render((0,wr.jsx)(n.StrictMode,{children:(0,wr.jsx)(Cp,{})}))})()})();
//# sourceMappingURL=main.4061200e.js.map